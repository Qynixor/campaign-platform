{% load custom_filters %}

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    
    <!-- ==================== -->
    <!-- PWA CONFIGURATION -->
    <!-- ==================== -->
<!-- Glass effect colors -->
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="transparent"> 

    <!-- PWA Capabilities -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="RallyNex">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="RallyNex">
    

<!-- Home Screen Icons for different devices -->
<link rel="icon" sizes="192x192" href="{% static 'main/files/192.png' %}">
<link rel="icon" sizes="512x512" href="{% static 'main/files/512.png' %}">

<!-- Apple Touch Icons (for iOS) -->
<link rel="apple-touch-icon" href="{% static 'main/files/180.png' %}">
<link rel="apple-touch-icon" sizes="152x152" href="{% static 'main/files/152.png' %}">
<link rel="apple-touch-icon" sizes="180x180" href="{% static 'main/files/180.png' %}">
<link rel="apple-touch-icon" sizes="167x167" href="{% static 'main/files/180.png' %}">

<!-- Microsoft Tiles (for Windows) -->
<meta name="msapplication-TileImage" content="{% static 'main/files/144.png' %}">
<meta name="msapplication-square70x70logo" content="{% static 'main/files/70.png' %}">
<meta name="msapplication-square150x150logo" content="{% static 'main/files/150.png' %}">
<meta name="msapplication-wide310x150logo" content="{% static 'main/files/310x150.png' %}">
<meta name="msapplication-square310x310logo" content="{% static 'main/files/310.png' %}">

    <!-- Icons -->
<!-- Use the 192x192 Android icon -->
<link rel="icon" href="{% static 'main/files/192.png' %}">
<link rel="apple-touch-icon" href="{% static 'main/files/192.png' %}">
    <!-- Manifest -->
<link rel="manifest" href="{% static 'main/manifest.json' %}">
    <!-- ==================== -->
    <!-- ENHANCED SEO META TAGS -->
    <!-- ==================== -->
    <!-- ==================== -->
<!-- PERFECTED SEO META TAGS -->
<!-- ==================== -->

<!-- Primary Meta Tags -->
<title>{% block title %}RallyNex - Find Your Community for Causes That Matter{% endblock %}</title>
<meta name="description" content="{% block description %}RallyNex connects people with lonely passions to build meaningful communities around social causes. Find your people, start movements, create change together.{% endblock %}">

<!-- Google & Search -->
<meta name="keywords" content="community platform, social causes, activism, online community, social impact, movement building, find your people, meaningful connections">
<meta name="author" content="RallyNex">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://rallynex.com{% block canonical_path %}{% endblock %}">

<!-- Enhanced Open Graph -->
<meta property="og:site_name" content="RallyNex">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="{% block og_type %}website{% endblock %}">
<meta property="og:title" content="{% block og_title %}RallyNex - Where Lonely Passions Find Community{% endblock %}">
<meta property="og:description" content="{% block og_description %}Join communities around causes you care about. No more feeling alone in your passion - find your people on RallyNex.{% endblock %}">
<meta property="og:url" content="https://rallynex.com{% block og_path %}{% endblock %}">
<meta property="og:image" content="{% block og_image %}https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png{% endblock %}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="RallyNex community platform connecting people around causes">
<meta property="og:see_also" content="https://www.youtube.com/@RallyNex">

<!-- Enhanced Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@RallyNex">
<meta name="twitter:creator" content="@RallyNex">
<meta name="twitter:title" content="{% block twitter_title %}RallyNex - Community for Lonely Passions{% endblock %}">
<meta name="twitter:description" content="{% block twitter_description %}Find your community around the causes you care about. Turn lonely passion into powerful togetherness.{% endblock %}">
<meta name="twitter:image" content="{% block twitter_image %}https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png{% endblock %}">
<meta name="twitter:image:alt" content="Connect with communities on RallyNex">

<!-- Additional Important Tags -->
<meta name="format-detection" content="telephone=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="width">
    <!-- ==================== -->
    <!-- VERIFICATION & SOCIAL -->
    <!-- ==================== -->
    <meta name="google-site-verification" content="2IjHwnbJp2eoJ42Ec2-vy5FHzwfpyA4qxZlA2Ct1lW8" />
    <meta name="msvalidate.01" content="2DF73531AC8292B0D47E7DEAE6EEF4CF" />
    <meta name="yandex-verification" content="d934ce9eb55c4c59" />

    <!-- Social Profiles -->
    <link rel="me" href="https://www.quora.com/profile/Rally-Nex">
    <link rel="me" href="https://www.reddit.com/user/AvailablePackage8282">
    <link rel="me" href="https://medium.com/@Rallynex1">

    <!-- ==================== -->
    <!-- RESOURCES -->
    <!-- ==================== -->
    <link rel="icon" href="https://rallynex.s3.eu-north-1.amazonaws.com/main/files/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    
    <!-- Your custom CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    {% block extra_head %}{% endblock %}


  <style>


    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
        background-color: #f9f9f9; /* Light background */
        padding-bottom: 60px;
    }

    header {
      background-color: 
      color: grey;
      padding: 0;
      text-align: center;
    }
main {
  display: flex;
  justify-content: space-around;
  padding: 0;
}


    
section {
  flex: 3; /* Ensure it remains flexible within its parent */
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  width: 100%; /* Ensure it takes full width of its container */
  max-width: 750px; /* Set the maximum width you desire */
  padding: 0; /* Remove padding */
  box-sizing: border-box; /* Include padding and border in the element's total width and height */
  border: 1px solid whitesmoke; /* Optional: Set border */
  margin: 0 auto; /* Center the section horizontally within its container */
  
}


/* Media query for smaller screens */
@media (max-width: 768px) {
  section {
    width: calc(100vw - 2px); /* Calculate 100% viewport width minus any border */
   */
  }
}

.left-aside, .right-aside {
  flex: 1; /* Keep the asides smaller */
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
}



  /* Mobile styles */
  @media (max-width: 768px) {
    .header-container {
      padding: 15px;
    }

    /* Hide the full search bar by default on mobile */
    .search-container form {
      display: none;
    }

    /* Show mobile search icon */
    .mobile-search-icon {
      display: block !important;
      font-size: 24px;
      color: #555;
      cursor: pointer;
      padding: 8px;
    }

    /* Mobile search popup */
    .mobile-search-popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: white;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .mobile-search-popup.active {
      display: flex;
      align-items: center;
    }

    .mobile-search-wrapper {
      flex: 1;
      display: flex;
      border: 2px solid #ced4da;
      border-radius: 20px;
      overflow: hidden;
    }

    .mobile-search-wrapper input {
      flex: 1;
      padding: 10px 15px;
      border: none;
      font-size: 16px;
    }

    .mobile-search-wrapper button {
      padding: 10px;
      background: limegreen;
      color: white;
      border: none;
    }

    .close-mobile-search {
      margin-left: 10px;
      font-size: 20px;
      cursor: pointer;
    }
  }

  /* Hide mobile elements on desktop */
  .mobile-search-icon {
    display: none;
  }
.mobile-search-popup {
  display: none;
}

    nav {
      margin-top: 20px;
      border: 1px solid #808080;
      border-radius: 5px;
      overflow: hidden;
    }

    nav a {
      text-decoration: none;
      font-weight: bold;
      padding: 8px 10px;
      display: block;
      transition: background-color 0.3s ease;
      border-bottom: 1px solid #e6e6e6;
    }

    nav a:hover {
      background-color:limegreen; /* Light lime green on hover */

    }


    /* Beautiful upload button styles */
    .upload-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    .upload-btn-wrapper {
      position: relative;
      overflow: hidden;
      display: inline-block;
    }


        .btn-submit {
            display: block;
            width: calc(100% - 20px);
            padding: 10px;
            background-color: #3498db;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .btn-submit:hover {
            background-color: #2980b9;
        }




    .btn {
      border: 2px solid gray;
    color: #333333;
      background-color: white;
      padding: 8px 20px;
      border-radius: 8px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }


    .btn:hover {
      background-color: #eee; /* Change the color on hover */
    }
    .upload-btn-wrapper input[type=file] {
      font-size: 100px;
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      cursor: pointer;
    }



border: 1px solid silver;
    hr {
      border: 1px solid silver; /* Set border to 1px solid silver for a silver color */
      margin: 10px 0; /* Add some margin for spacing */
    }



.overlay-link {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}


        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }
      


  .file-container {
    position: relative;
    border: 1px solid silver; /* Border color */
    border-radius: 5px;
    overflow: hidden; /* Ensure the border doesn't overflow */
  }

  #campaign-image {
    max-width: 100%;
    height: auto;
    border-radius: 5px; /* Border radius for the image */
    transition: transform 0.3s ease; /* Add transition for smooth transformation */
  }

  /* Apply styles when hovering over the image */
  #campaign-image:hover {
    transform: scale(1.05); /* Scale the image slightly on hover */
  }






   .comment-count {
        text-decoration: none; /* Remove underline */
        color: gray; /* Inherit color from parent */
    }


/* Base styles for both activity and support links */
.activity-link, .support-link {
    position: absolute;
    top: 10px;
    padding: 10px;
    border-radius: 50%;
    z-index: 2;
    text-decoration: none;
    font-weight: bold;
    display: inline-block;
    text-align: center;
    font-size: 14px;
}

/* Specific styles for the Activities link (left side) */
.activity-link {
    left: 10px;
    color: white;
    background-color: black;
}

/* Specific styles for the Support link (right side) */
.support-link {
    right: 10px;
    color: black;
    background-color: white;
}




/* Hover effect to show the label */
.activity-link:hover .icon-label, .support-link:hover .icon-label {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(5px);
}

/* Mobile-specific styles */
@media (max-width: 768px) {
    .activity-link, .support-link {
        padding: 8px;
    }
    .icon-label {
        max-width: 100px;
        font-size: 10px;
        padding: 4px 8px;
    }
    .icon-label::after {
        border-width: 5px;
    }
}






.sponsored-text {
    font-weight: bold;
    color: #3498db; /* You can adjust the color as needed */
}




    .affiliate-link {
      color: #3498db; /* Set the text color */
      text-decoration: none; /* Remove the default underline */
      font-weight: bold; /* Make the text bold */
      transition: color 0.3s; /* Smooth transition for color change */
    }

    /* Hover effect for the affiliate link */
    .affiliate-link:hover {
      color: #1abc9c; /* Change the text color on hover */
    }



  .donate-link {
    text-align: center;
    margin-top: 20px;
    background-color: #32CD32;
    color: white;
    padding: 15px 20px;
    border-radius: 25px;
    display: inline-block;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .donate-link:hover {
   
    color: whitesmoke;
  }
.profile-pic-hover:hover {
    transform: scale(1.5); /* Adjust the scale factor as needed */
    transition: transform 0.2s ease-in-out; /* Smooth transition */
}




.cm {
  font-size: 14px;
}



.container-with-border {
    border: 1px solid silver;
    border-radius: 10px;
    padding: 0; /* Adjust padding as needed */
    margin-bottom: 40px; /* Adjust margin as needed */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.05); /* Soft shadow */
}



    .love-icon-size {
        font-size: 30px !important; /* Ensure that the font size is at least 30px */
    }


    .alert-badge {
        background-color: red;
        color: white;
        border-radius: 50%;
        padding: 5px 8px;
        position: absolute;
        top: -5px;
        right: 1px;
        font-size: 10px;
    }







.campaign-actions {
    display: flex;
    justify-content: space-between; /* Align items with space between */
    align-items: center; /* Vertically center items */
    margin-bottom: 20px; /* Add some space below the campaign actions */
}

/* Style for the "Report Campaign" link */
.report-link {
    color: #007bff; /* Set link color */
    text-decoration: none; /* Remove default underline */
    font-weight: bold; /* Make the text bold */
}

/* Style for the "Not Interested" form */
.not-interested-form {
    display: flex; /* Display form items in a row */
    align-items: center; /* Vertically center items */
}

/* Style for the checkbox label */
.not-interested-form label {
    margin-right: 10px; /* Add space between the checkbox and label */
}

/* Style for the submit button */
.submit-button {
    background-color: #007bff; /* Set button background color */
    color: #fff; /* Set button text color */
    border: none; /* Remove default button border */
    padding: 8px 16px; /* Add padding to the button */
    border-radius: 5px; /* Add some border radius */
    cursor: pointer; /* Change cursor to pointer on hover */
    transition: background-color 0.3s ease; /* Add smooth transition */
}

/* Hover effect for the submit button */
.submit-button:hover {
    background-color: #0056b3; /* Darken button background color on hover */
}

/* Hover effect for the submit button */
.submit-button:hover {
    background-color: #0056b3; /* Darken button background color on hover */
}


/* Icon-only share buttons */
.share-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 20px;
}

.share-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 15px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    color: white;
    font-weight: 500;
    aspect-ratio: 1; /* Make buttons square */
}

.share-btn i {
    font-size: 1.4rem;
}

.share-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
}

/* Platform Colors (unchanged) */
.facebook { background: #3b5998; }
.twitter { background: #1da1f2; }
.linkedin { background: #0077b5; }
.whatsapp { background: #25d366; }
.reddit { background: #ff5700; }
.telegram { background: #0088cc; }
.pinterest { background: #e60023; }
.email { background: #777; }

/* Copy link button icon-only */
.copy-link button {
    padding: 10px 15px;
    background: #4a6bff;
    color: white;
    border: none;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.copy-link button i {
    font-size: 1rem;
}

/* Responsive for icon buttons */
@media (max-width: 500px) {
    .share-buttons {
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }
    
    .share-btn {
        padding: 12px;
    }
    
    .share-btn i {
        font-size: 1.2rem;
    }
}

@media (max-width: 350px) {
    .share-buttons {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Dark mode for icon-only share buttons */
.dark-mode .share-btn {
    opacity: 0.95;
}

.dark-mode .share-btn:hover {
    opacity: 1;
    transform: translateY(-3px) scale(1.05);
}

/* Rest of dark mode styles remain the same */
.dark-mode .share-popup-content {
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    border: 1px solid #404040;
}

.dark-mode .copy-link-container {
    border-top: 1px solid #404040;
}

.dark-mode .copy-link-title {
    color: #b0b0b0;
}

.dark-mode .copy-link {
    border: 1px solid #404040;
}

.dark-mode #campaignUrl {
    background: #2d2d2d;
    color: #ffffff;
}

.dark-mode .copy-link button {
    background: #4a6bff;
    color: white;
}

       .action-item {
            display: inline-block;
            padding: 10px 20px;
            margin-right: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 12px; /* Adjust the font size as needed */
        }
        .action-item a {
           color: #000;
            text-decoration: none;
            font-size: inherit;
        }
        .action-item i {
            margin-right: 5px;
        }


.footer {
  
    color: white;
    padding: 20px 0;
    text-align: center;
}

.footer-content {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    flex-wrap: wrap;
  
    padding: 20px;
    border-radius: 10px;
    margin: 20px;
}

/* Other CSS rules remain the same */

.footer-section {
    flex: 1;
    margin: 20px;
}

.footer-section h2 {
    font-size: 18px;
    margin-bottom: 15px;
    color: limegreen;
}

.footer-section p, .footer-section a {
    color: #2c3e50;
    font-size: 14px;
    margin-bottom: 10px;
}

.footer-section a {
    text-decoration: none;
}

.footer-section a:hover {
    color: #34495e;
}

.social-icons a {
    margin: 0 10px;
    color: #2c3e50;
    font-size: 20px;
}

.social-icons a:hover {
    color: #34495e;
}

.subscribe-form {
    display: flex;
    justify-content: center;
}

.subscribe-form input {
    padding: 10px;
    border: 1px solid #bdc3c7;
    border-radius: 5px 0 0 5px;
    outline: none;
    width: 200px;
    background-color: white;
}


.footer-bottom {
    margin-top: 20px;
}

.footer-bottom p {
    font-size: 12px;
    color: #bdc3c7;
}


@media (min-width: 768px) {
  .footer {
    display: none;
  }
}

.mystery-text {
    color: #ecf0f1;
    font-size: 14px;
    margin-top: 10px;
    animation: fadeIn 5s infinite;
}

@keyframes fadeIn {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}



.square-with-arrow {
  position: relative;
  display: inline-block;
}

.square-with-arrow .fa-square {
  position: relative;
  display: inline-block;
}

.square-with-arrow .fa-arrow-right {
  position: absolute;
  top: 0;
  right: 0;
  margin-top: -5px; /* Adjust this value as needed */
  margin-right: -10px; /* Adjust this value as needed */
  transform: rotate(-45deg);
}



.tagline {
    display: block;
    font-size: 18px; /* Adjust size as needed */
    margin-top: 10px; /* Space between name and tagline */
    opacity: 0.7; /* Slightly transparent */
    
}


.carousel {
    position: relative;
    overflow: hidden;
    width: 250px;
    height: 400px;
    margin: 0 auto;
}

.slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.slide {
    min-width: 100%;
    flex: 1;
    text-align: center;
    overflow: hidden;
}

/* Your other CSS styles for the .ad, .ad:hover, and image behavior */


.ad {
    
    padding: 15px; /* Adjusted padding */
    border: 1px solid #e0e0e0;
    border-radius: 8px; /* Adjusted border-radius */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column; /* Ensure content stacks vertically */
    align-items: center; /* Center align content */
    transition: transform 0.3s ease; /* Smooth scaling on hover */
    height: 100%; /* Make the ad take the full height of the slide */
    overflow-y: auto; /* Enable vertical scrolling */
}

.ad:hover {
    transform: scale(1.02); /* Slightly enlarge on hover */
    box-shadow: 0 6px 12px rgba(0,0,0,0.2); /* Enhanced shadow on hover */
}

.ad h2 {
    font-size: 1.5rem; /* Smaller font size */
    font-weight: 600;
    color: #333;
    margin: 10px 0 8px; /* Adjusted margin */
    text-align: center;
}

.ad .content {
    margin-bottom: 12px; /* Adjusted margin */
    color: #666;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3; /* Limit to 3 lines */
    -webkit-box-orient: vertical;
    text-align: center;
    line-height: 1.4;
}

.ad img {
    width: calc(100% + 30px); /* Extend width by padding on both sides */
    height: auto;
    margin: -15px -15px 10px -15px; /* Compensate for the padding and add bottom margin */
    border-radius: 8px 8px 0 0; /* Rounded corners only on top */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Added subtle shadow */
    position: relative; /* Required for the CTA text */
    transition: transform 0.3s ease; /* Smooth scaling on hover */
}

.ad img:hover {
    transform: scale(1.05); /* Slight scale on hover */
}

.ad .sponsored-by {
    font-size: 1.2rem; /* Smaller font size */
    color: #888;
    margin-bottom: 8px;
    text-align: center;
}

.ad .sponsored-by strong {
    color: #444; /* Optional: Add a different color for the bold text */
    font-weight: bold;
}


.ad a {
    display: block;
    width: 100%;
    text-decoration: none;
    color: inherit;
    position: relative; /* Required for the CTA text */
}

.ad a::after {
    content: "Visit"; /* CTA text */
    position: absolute;
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Center text */
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
    color: white; /* Text color */
    padding: 5px 10px; /* Padding */
    border-radius: 5px; /* Rounded corners */
    opacity: 0; /* Initially hidden */
    transition: opacity 0.3s ease; /* Smooth transition */
}

.ad a:hover::after {
    opacity: 1; /* Show on hover */
}



  .left-aside, .right-aside {
    flex: 1;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

  @media (max-width: 768px) {
    .left-aside, .right-aside {
      display: none;
    }
  }

.header {
    background-color: white;
    color: black;
    text-align: left;

    padding: 10px;
}

.header::before {
    content: "â€¢"; /* Unicode character for a bullet point */
   
    left: 10px; /* Adjust the position as needed */
    font-size: 20px; /* Adjust the size of the bullet point */
    line-height: 1;
    color: black; /* Ensure the bullet color matches the text */
}


  .changemaker-text {
        visibility: hidden; /* Initially hide the text */
        font-size: 16px;
        color: #333;
        position: absolute;
        margin-left: 5px; /* Adjust positioning next to the star */
    }

    .cm:hover .changemaker-text {
        visibility: visible; /* Show text on hover */
    }






/* Light mode (default) styles remain the same */
.sidebar-box {
    border-left: 2px solid #c0c0c0;
    height: 1500px;
    overflow-y: auto;
    overflow-x: hidden;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(192, 192, 192, 0.3);
    padding: 0;
    background-color: #f8f8f8;
}
.sidebar-box {
    transition: background-color 0.3s ease, border-color 0.3s ease;
}
/* Dark mode styles */
.dark-mode .sidebar-box {
    border-left: 2px solid #444; /* Darker border */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Darker shadow */
    background-color: #2d2d2d; /* Dark background */
    color: #e0e0e0; /* Light text color */
}

/* Mobile styles remain the same */
@media (max-width: 767px) {
    .sidebar-box {
        border: none;
        height: auto;
        overflow: visible;
        border-radius: 0;
        box-shadow: none;
        padding: 0;
        background-color: transparent;
    }
    
    /* Dark mode mobile override */
    .dark-mode .sidebar-box {
        background-color: transparent; /* Keep transparent in dark mode on mobile */
        color: inherit; /* Inherit text color from parent */
    }
}

@media (max-width: 767px) {
    .desktop-only {
        display: none !important;
    }
}



/* Styles for the "Activities" label (left-centered) */
.activity-label {
    visibility: hidden;
    max-width: 120px;
    background: rgba(0, 0, 0, 0.7); /* Semi-transparent black */
    color: white;
    text-align: center;
    border-radius: 12px;
    padding: 12px 12px 8px; /* Increased top padding */
    position: absolute;
    z-index: 1;
    top: 100%;
    left: 80%; /* Centered below the icon */
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s, transform 0.3s, visibility 0.3s;
    font-size: 11px;
    font-weight: bold;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    word-wrap: break-word;
    border: 1px solid rgba(255, 255, 255, 0.5);
}

/* Styles for the "Participate" label (right-aligned) */
.participate-label {
    visibility: hidden;
    max-width: 120px;
    background: rgba(0, 0, 0, 0.7); /* Semi-transparent black */
    color: white;
    text-align: center;
    border-radius: 12px;
    padding: 12px 12px 8px; /* Increased top padding */
    position: absolute;
    z-index: 1;
    top: 100%;
    right: 0; /* Positioned to the right */
    transform: translateX(0); /* No centering needed */
    opacity: 0;
    transition: opacity 0.3s, transform 0.3s, visibility 0.3s;
    font-size: 11px;
    font-weight: bold;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    word-wrap: break-word;
    border: 1px solid rgba(255, 255, 255, 0.5);
}

/* Hover effect for the "Activities" label */
.activity-link:hover .activity-label {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(-10px); /* Slight upward motion */
}

/* Hover effect for the "Participate" label */
.support-link:hover .participate-label {
    visibility: visible;
    opacity: 1;
    transform: translateY(-10px); /* Slight upward motion */
}

/* Tooltip arrow pointing up, located below the "Activities" icon */
.activity-label::after {
    content: '';
    position: absolute;
    bottom: 100%;
    right: 60%;
    transform: translateX(-50%);
    border-width: 6px;
    border-style: solid;
    border-color: transparent transparent rgba(0, 0, 0, 0.7) transparent;
}

/* Tooltip arrow pointing up, located below the "Participate" icon */
.participate-label::after {
    content: '';
    position: absolute;
    bottom: 100%;
    left: 80%;
    transform: translateX(-50%);
    border-width: 6px;
    border-style: solid;
    border-color: transparent transparent rgba(0, 0, 0, 0.7) transparent;
}


/* Updated the nav styles to .campaign-nav */
.campaign-nav {
    margin-top: 20px;
    border: 1px solid #808080;
    border-radius: 5px;
    overflow: hidden;
}

.campaign-nav a {
    text-decoration: none;
    font-weight: bold;
    padding: 8px 10px;
    display: block;
    transition: background-color 0.3s ease;
    border-bottom: 1px solid #e6e6e6;
}

.campaign-nav a:hover {
    background-color: rgb(240, 240, 240); /* Silver white using RGB */
}


/* Dark mode for campaign navigation */
.dark-mode .campaign-nav {
    border: 1px solid #555; /* Darker border */
}

.dark-mode .campaign-nav a {
    border-bottom: 1px solid #444; /* Darker separator */
    color: #e0e0e0; /* Light text color */
}

.dark-mode .campaign-nav a:hover {
    background-color: #404040; /* Dark gray hover */
}


/* For larger screens (desktop) */
h4 {
    font-size: 19px;
    padding-left: 20px;
    display: inline-flex;
    align-items: center;
}

.explore-link i {
    font-size: 14px;  /* Smaller icon size */
    color: black;  /* Default icon color is black */
    transition: transform 0.3s ease, color 0.3s ease;  /* Smooth transition for hover and color change */
}

/* For smaller screens (mobile) */
@media (max-width: 768px) {
    h4 {
        font-size: 16px;  /* Smaller text on mobile */
        padding-left: 15px;  /* Reduced padding */
    }

    .explore-link i {
        font-size: 12px;  /* Even smaller icon on mobile */
    }
}

/* Hover effect for icon */
.explore-link:hover i {
    transform: scale(1.1);  /* Slightly enlarge the icon on hover */
}

/* Adjust the icon color depending on the background (for both light and dark backgrounds) */
body.light-theme .explore-link i {
    color: black;  /* Black icon for light backgrounds */
}

body.dark-theme .explore-link i {
    color: white;  /* White icon for dark backgrounds */
}


/* Styling for the go-back arrow */
.go-back-arrow {
    cursor: pointer;
    font-size: 20px; /* Icon size */
    color: silver; /* Silver color for the icon */
    background-color: transparent; /* Transparent background */
    border: none; /* No border */
    margin-right: 10px; /* Space between arrow and input field */
    padding: 0; /* No padding */
    transition: color 0.3s ease, transform 0.2s ease; /* Smooth transition */
}

.go-back-arrow:hover {
    color: gray; /* Change color to gray on hover */
    transform: scale(1.1); /* Slight zoom on hover */
}

/* Mobile-specific styles */
@media (max-width: 768px) {
    .search-container {
        display: flex;
        align-items: center;
    }

    .search-wrapper {
        display: flex;
        flex: 1; /* Make the search input fill the available space */
        align-items: center;
    }

    .go-back-arrow {
        display: inline-block; /* Show the arrow only on mobile */
    }
}

/* Default: hide go-back arrow for larger screens */
@media (min-width: 769px) {
    .go-back-arrow {
        display: none; /* Hide the go-back arrow on larger screens */
    }
}



/* Hide the button on mobile screens */
@media (max-width: 768px) {
    .hide-on-mobile {
        display: none;
    }
}



/* Dark Mode Styles */
body.dark-mode {
    background-color: #121212; /* Dark background */
    color: #ffffff; /* Light text */
}

body.dark-mode header,
body.dark-mode footer,
body.dark-mode section,
body.dark-mode .left-aside,
body.dark-mode .right-aside,
body.dark-mode .upper-post,
body.dark-mode .campaign-content,
body.dark-mode .react div {
    background-color: #1e1e1e; /* Slightly lighter dark background */
    color: #ffffff; /* Light text */
}


body.dark-mode .objectives-activities {
    background-color: #262626; /* Dark background for objectives */
    border-left: 4px solid #3498db; /* Accent border */
    color: #ffffff; /* Light text */
}

body.dark-mode .search-container input[type="text"] {
    background-color: #333333; /* Dark background for input */
    color: #ffffff; /* Light text */
    border: 1px solid #444444; /* Dark border */
}



body.dark-mode .explore-link i {
    color: #ffffff; /* Light icon color */
}

body.dark-mode .love-count,
body.dark-mode #view-count,
body.dark-mode .comment-count {
    color: #ffffff; /* Light text for counts */
}
  </style>


<style type="text/css">
    /* ===== Base Styles ===== */
    html, body {
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* ===== Navbar Styles ===== */
    .navbar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: white;
        border-top: 1px solid #dbdbdb;
        z-index: 1000;
        padding: 8px 0;
        width: 100%;
        transform: translateZ(0);
        backface-visibility: hidden;
        margin: 0;
        box-sizing: border-box;
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }

    .bottom-nav {
        display: flex;
        justify-content: space-around;
        align-items: center;
        list-style: none;
        padding: 0;
        margin: 0;
        position: relative;
        max-width: 500px; /* Limit max width for tablets */
        margin: 0 auto; /* Center the nav on larger screens */
    }

    .bottom-nav li {
        flex: 1;
        text-align: center;
        position: relative;
    }

    .bottom-nav a {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #262626;
        text-decoration: none;
        position: relative;
        padding: 8px 0;
        transition: all 0.3s ease;
        border-radius: 12px;
        margin: 0 2px;
    }

    .bottom-nav a:hover {
        background-color: #f8f9fa;
        color: #262626;
    }

    .bottom-nav a.active {
        color: #0095f6;
    }

    .bottom-nav a.active:hover {
        background-color: #f8f9fa;
        color: #0095f6;
    }

    .bottom-nav svg {
        width: 24px;
        height: 24px;
        margin-bottom: 2px;
    }

    /* ===== Create Button Special Styles ===== */
    .create-btn-container {
        position: relative;
        z-index: 1001;
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .create-btn {
        background: linear-gradient(135deg, #0095f6, #4cb5f9);
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: -8px auto 0;
        box-shadow: 0 4px 12px rgba(0, 149, 246, 0.3);
        transition: all 0.3s ease;
        position: relative;
    }

    .create-btn:hover {
        background: linear-gradient(135deg, #0081d6, #3ca0e0);
        transform: scale(1.05);
        box-shadow: 0 6px 16px rgba(0, 149, 246, 0.4);
    }

    .create-btn svg {
        margin-bottom: 0;
        color: white;
    }

    /* Ensure all list items have equal spacing */
    .bottom-nav li:nth-child(1),
    .bottom-nav li:nth-child(2),
    .bottom-nav li:nth-child(4),
    .bottom-nav li:nth-child(5) {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    /* ===== Alert Badge Styles ===== */
    .alert-badge {
        position: absolute;
        top: 5px;
        right: calc(50% - 20px);
        background-color: #ff3040;
        color: white;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: bold;
        z-index: 1002;
    }

    /* ===== Dark Mode Styles ===== */
    .dark-mode {
        background-color: #121212;
        color: #e0e0e0;
    }

    .dark-mode .navbar {
        background-color: #1e1e1e;
        border-top-color: #333;
    }

    .dark-mode .bottom-nav a {
        color: #b0b0b0;
    }

    .dark-mode .bottom-nav a.active {
        color: #0095f6;
    }

    .dark-mode .bottom-nav a:hover {
        background-color: #2a2a2a;
        color: #ffffff;
    }

    .dark-mode .bottom-nav a.active:hover {
        background-color: #2a2a2a;
        color: #0095f6;
    }

    .dark-mode .create-btn {
        background: linear-gradient(135deg, #0095f6, #4cb5f9);
        box-shadow: 0 4px 12px rgba(0, 149, 246, 0.4);
    }

    .dark-mode .create-btn:hover {
        background: linear-gradient(135deg, #0081d6, #3ca0e0);
        box-shadow: 0 6px 16px rgba(0, 149, 246, 0.5);
    }

    /* ===== Dropdown Menu Styles ===== */
    .navbar-dropdown-menu {
        position: fixed;
        bottom: 70px;
        left: 0;
        right: 0;
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 12px 12px 0 0;
        box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
        padding: 16px;
        transform: translateY(100%);
        opacity: 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
        z-index: 999;
        pointer-events: none;
        max-width: 500px; /* Limit width for tablets */
        margin: 0 auto; /* Center on larger screens */
        left: 50%;
        transform: translateX(-50%) translateY(100%);
    }

    .navbar-dropdown-menu.active {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
        pointer-events: auto;
    }

    .navbar-dropdown-menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .navbar-dropdown-menu li {
        margin-bottom: 12px;
    }

    .navbar-dropdown-menu li:last-child {
        margin-bottom: 0;
    }

    .navbar-dropdown-menu a {
        display: flex;
        align-items: center;
        color: #262626;
        text-decoration: none;
        padding: 12px 16px;
        border-radius: 8px;
        transition: background-color 0.2s ease;
    }

    .navbar-dropdown-menu a:hover {
        background-color: rgba(0, 0, 0, 0.05);
    }

    .navbar-dropdown-menu svg {
        margin-right: 16px;
        width: 24px;
        height: 24px;
    }

    /* ===== Overlay Styles ===== */
    .menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 998;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .menu-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }

    /* ===== Desktop Menu Dropdown Styles ===== */
    .menu-dropdown {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        background-color: #fff;
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.12);
        padding: 8px 0;
        z-index: 100;
        border-radius: 8px;
        min-width: 200px;
        transform: translateY(5px);
        transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
        opacity: 0;
        pointer-events: none;
        margin-top: 5px;
    }

    .menu-dropdown.active {
        display: block;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }

    .menu-dropdown a {
        display: flex;
        align-items: center;
        padding: 10px 16px;
        color: #444;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.2s ease;
        gap: 10px;
    }

    .menu-dropdown a:hover {
        background-color: #f8f8f8;
        color: #000;
    }

    .menu-dropdown a i {
        width: 20px;
        text-align: center;
        font-size: 15px;
        color: #666;
    }

    /* ===== Responsive Styles ===== */
    /* Show navbar on tablets and mobile, hide on desktop */
    @media screen and (max-width: 1024px) {
        .navbar {
            display: block; /* Show on tablets and mobile */
        }
    }

    @media screen and (min-width: 1025px) {
        .navbar {
            display: none; /* Hide on desktop */
        }
    }

    /* Tablet-specific adjustments */
    @media screen and (min-width: 768px) and (max-width: 1024px) {
        .navbar {
            padding: 12px 0; /* More padding for tablets */
        }

        .bottom-nav {
            max-width: 600px; /* Slightly wider for tablets */
        }

        .bottom-nav a {
            padding: 10px 0; /* More padding for tablet touch targets */
        }

        .bottom-nav svg {
            width: 26px;
            height: 26px; /* Slightly larger icons for tablets */
        }

        .create-btn {
            width: 55px;
            height: 55px; /* Larger create button for tablets */
            margin: -10px auto 0;
        }

        .navbar-dropdown-menu {
            max-width: 600px; /* Wider dropdown for tablets */
            bottom: 80px; /* Adjust position for larger navbar */
        }
    }

    /* Large tablet adjustments */
    @media screen and (min-width: 1024px) {
        .bottom-nav {
            max-width: 700px; /* Even wider for large tablets */
        }

        .navbar-dropdown-menu {
            max-width: 700px; /* Wider dropdown for large tablets */
        }
    }

    /* Dark mode styles for dropdown menu */
    .dark-mode .navbar-dropdown-menu {
        background-color: rgba(30, 30, 30, 0.95);
        box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.3);
    }

    .dark-mode .navbar-dropdown-menu a {
        color: #e0e0e0;
    }

    .dark-mode .navbar-dropdown-menu a:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .dark-mode .menu-dropdown {
        background-color: #262626;
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
    }

    .dark-mode .menu-dropdown a {
        color: #e0e0e0;
    }

    .dark-mode .menu-dropdown a:hover {
        background-color: rgba(255, 255, 255, 0.1);
        color: #ffffff;
    }

    .dark-mode .menu-dropdown a i {
        color: #b0b0b0;
    }

    .dark-mode .menu-overlay {
        background-color: rgba(0, 0, 0, 0.7);
    }

    .dark-mode .navbar-dropdown-menu svg path {
        stroke: #e0e0e0;
    }
</style>

<style>
/* Simple, accessible styling */
.simple-campaigns-container {
    max-width: 600px;
    margin: 0 auto;
    font-family: Arial, sans-serif;
}

.simple-campaign-card {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    margin-bottom: 20px;
    overflow: hidden;
}

.creator-info {
    display: flex;
    align-items: center;
    padding: 12px;
    position: relative;
}

.creator-pic img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 10px;
}

.creator-details {
    flex-grow: 1;
}

.creator-name {
    font-weight: bold;
    font-size: 15px;
    color: #333;
}

.verified-badge {
    color: #1DA1F2;
    font-size: 14px;
}

.changemaker-badge {
    background: #FF5252;
    color: white;
    padding: 2px 6px;
    border-radius: 10px;
    font-size: 11px;
    margin-left: 5px;
}

.campaign-time {
    font-size: 12px;
    color: #777;
}

.campaign-menu {
    color: #666;
    cursor: pointer;
    padding: 5px;
}

.menu-dropdown {
    display: none;
    position: absolute;
    right: 10px;
    top: 40px;
    background: white;
    border: 1px solid #ddd;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    z-index: 10;
}

.menu-dropdown a {
    display: block;
    padding: 8px 15px;
    color: #333;
    text-decoration: none;
    font-size: 14px;
}

.menu-dropdown a:hover {
    background: #f5f5f5;
}



.campaign-image-section {
    position: relative;
}

.main-campaign-image {
    width: 100%;
    
    object-fit: cover;
    display: block;
}

.no-image-placeholder {
    height: 200px;
    background: #f5f5f5;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #999;
}

.no-image-placeholder i {
    font-size: 40px;
    margin-bottom: 10px;
}

.image-overlay-top, .image-overlay-bottom {
    position: absolute;
    left: 0;
    right: 0;
    padding: 10px;
    color: white;
}

.image-overlay-top {
    top: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
}

.image-overlay-bottom {
    bottom: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
}

/* ==================== ENHANCED CAMPAIGN CATEGORY STYLES ==================== */

.campaign-category {
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    padding: 6px 14px; /* Added padding */
    border-radius: 20px; /* Rounded corners */
    background: rgba(255, 255, 255, 0.15); /* Semi-transparent background */
    backdrop-filter: blur(8px); /* Frosted glass effect */
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.3); /* Subtle border */
    display: inline-block; /* Make background fit content */
    font-size: 13px;
    color: white;
    margin: 0;
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
    text-transform: uppercase; /* Makes text look more like a badge */
}

/* Hover effect for interactivity */
.campaign-category:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
}

/* Light mode specific adjustments */
body:not(.dark-mode) .campaign-category {
    background: rgba(0, 0, 0, 0.3); /* Darker background for light mode */
    color: #ffffff;
}

/* Dark mode specific styles */
body.dark-mode .campaign-category {
    color: #ffffff; /* Light text */
    background: rgba(255, 255, 255, 0.1); /* Subtle background in dark mode */
    border-color: rgba(255, 255, 255, 0.2);
}

body.dark-mode .campaign-category:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
}

/* Desktop adjustments */
@media (min-width: 769px) {
    .campaign-category {
        padding: 8px 18px; /* Slightly larger on desktop */
        font-size: 14px;
        margin: 5px 0 0 5px; /* Small margin for positioning */
    }
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .campaign-category {
        padding: 5px 12px; /* Slightly smaller on mobile */
        font-size: 12px;
        margin: 5px 0 0 5px;
    }
}

.join-prompt {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 10px 15px;
    border-radius: 20px;
    font-size: 14px;
}

.join-prompt i {
    margin-right: 5px;
}

.donate-button-overlay {
    position: absolute;
    bottom: 60px;
    left: 10px;
}

.simple-donate-btn {
    background: #FF5722;
    color: white;
    padding: 8px;
    border-radius: 20px;
    text-decoration: none;
    font-size: 14px;
    display: flex;
    align-items: center;
    transition: all 0.3s ease;
    width: 40px; /* Fixed width for icon-only state */
    overflow: hidden;
}

.simple-donate-btn {
    min-width: 40px;
    width: 40px;
}

.donate-text {
    margin-left: 8px;
    white-space: nowrap;
    opacity: 0;
    width: 0;
    transition: all 0.3s ease;
}

.simple-donate-btn:hover {
    width: auto; /* Allow full width on hover */
    padding: 8px 15px;
}

.simple-donate-btn:hover .donate-text {
    opacity: 1;
    width: auto;
    margin-left: 8px;
}

/* For accessibility - ensure text is readable when focused */
.simple-donate-btn:focus {
    width: auto;
    padding: 8px 15px;
}

.simple-donate-btn:focus .donate-text {
    opacity: 1;
    width: auto;
    margin-left: 8px;
}

.campaign-basic-info {
    padding: 12px;
}

.simple-campaign-title {
    margin: 0 0 8px 0;
    font-size: 18px;
    color: #333;
}

.simple-campaign-objective {
    font-size: 14px;
    color: #555;
    line-height: 1.4;
}

.campaign-status {
    display: flex;
    padding: 0 12px 12px;
    align-items: center;
}

.status-badge {
    padding: 4px 10px;
    border-radius: 15px;
    font-size: 13px;
    margin-right: 10px;
    display: flex;
    align-items: center;
}

.status-badge i {
    margin-right: 5px;
}

.status-badge.active {
    background: #E8F5E9;
    color: #2E7D32;
}

.status-badge.outdated {
    background: #FFEBEE;
    color: #C62828;
}

.runtime-info {
    font-size: 13px;
    color: #666;
}

.runtime-info i {
    margin-right: 5px;
}

.simple-actions {
    display: flex;
    justify-content: space-between;
    padding: 0 12px 12px;
    border-top: 1px solid #eee;
    padding-top: 12px;
}

.action-group {
    display: flex;
}



.simple-action-btn {
    background: none;
    border: none;
    color: #555;
    font-size: 14px;
    padding: 5px 10px;
    margin-right: 10px;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
}

.simple-action-btn i {
    margin-right: 5px;
    font-size: 16px;
}

.simple-action-btn.love-btn {
    color: #E91E63;
}


/* Add hover effects to action buttons */
.simple-action-btn:hover {
    color: #c0c0c0; /* Silver white color */
    background-color: rgba(192, 192, 192, 0.1); /* Optional: slight background on hover */
    transition: color 0.2s ease; /* Smooth transition */
}

/* Specific hover for love button - keeps red color but changes to silver on hover */
.simple-action-btn.love-btn:hover {
    color: #c0c0c0; /* Override the red color on hover */
}

/* Hover effect for join/leave buttons */
.simple-join-btn:hover {
    color: #c0c0c0;
    transition: color 0.2s ease;
}

.simple-join-btn {
    padding: 5px 15px;
    border-radius: 15px;
    font-size: 14px;
    text-decoration: none;
    display: flex;
    align-items: center;
}

.simple-join-btn i {
    margin-right: 5px;
}

.simple-join-btn {
    background: #2196F3;
    color: white;
}

.simple-join-btn.leave-btn {
    background: #F44336;
}


@media (max-width: 480px) {
    .simple-campaign-card {
        border-radius: 0;
        border-left: none;
        border-right: none;
    }

    .simple-action-btn .label {
        display: none;
    }
}




.campaign-participation-links {
    display: flex;
    padding: 0 12px 12px;
    gap: 10px;
}

.participation-link {
    flex: 1;
    background: #f5f5f5;
    padding: 10px;
    border-radius: 8px;
    text-align: center;
    text-decoration: none;
    color: #333;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
}

.participation-link i {
    margin-right: 8px;
    color: #2196F3;
}

.participation-link:hover {
    background: #e0e0e0;
}

.campaign-caption {
    font-size: 15px;
    line-height: 1.4;
    padding: 8px 12px;
    color: #333;
}

.campaign-caption strong {
    color: #000;
    display: block;
    margin-bottom: 3px;
}

.campaign-content-points {
    padding: 0 12px 12px;
    font-size: 15px;
    line-height: 1.4;
    color: #333;
}

.campaign-content-points ul {
    padding-left: 20px;
    margin: 0;
    list-style-type: none;
}

.campaign-content-points li {
    position: relative;
    padding-left: 15px;
    margin-bottom: 8px;
}

.campaign-content-points li:before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: #666;
}

.see-more-container {
    text-align: center;
    margin-top: 8px;
}

.see-more-btn, .see-less-btn {
    background: none;
    border: none;
    color: #3897f0;
    font-size: 14px;
    cursor: pointer;
    padding: 5px 10px;
    display: inline-flex;
    align-items: center;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.see-more-btn:hover, .see-less-btn:hover {
    background: rgba(245, 245, 245, 0.7); /* Silver-white */
    color: #1877f2; /* Slightly darker blue on hover */
    text-decoration: none;
}

.see-more-btn i, .see-less-btn i {
    margin-left: 5px;
    font-size: 12px;
    transition: transform 0.2s ease;
}

.see-more-btn:hover i {
    transform: translateY(1px);
}

.see-less-btn:hover i {
    transform: translateY(-1px);
}

.full-content {
    margin-top: 10px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ===== Dark Mode Styles ===== */
.dark-mode .simple-campaigns-container {
    background-color: #121212;
}

.dark-mode .simple-campaign-card {
    background: #1e1e1e;
    border-color: #333;
}

.dark-mode .creator-name,
.dark-mode .simple-campaign-title,
.dark-mode .campaign-caption strong {
    color: #f0f0f0;
}

.dark-mode .campaign-time,
.dark-mode .simple-campaign-objective,
.dark-mode .campaign-caption,
.dark-mode .campaign-content-points,
.dark-mode .runtime-info {
    color: #b0b0b0;
}

.dark-mode .campaign-menu {
    color: #b0b0b0;
}

.dark-mode .menu-dropdown {
    background: #2d2d2d;
    border-color: #444;
}

.dark-mode .menu-dropdown a {
    color: #e0e0e0;
}

.dark-mode .menu-dropdown a:hover {
    background: #383838;
}

.dark-mode .no-image-placeholder {
    background: #2a2a2a;
    color: #666;
}

.dark-mode .status-badge.active {
    background: #1b5e20;
    color: #a5d6a7;
}

.dark-mode .status-badge.outdated {
    background: #b71c1c;
    color: #ffcdd2;
}

.dark-mode .simple-actions {
    border-top-color: #333;
}

.dark-mode .simple-action-btn {
    color: #b0b0b0;
}

.dark-mode .simple-action-btn:hover {
    color: #e0e0e0;
    background-color: rgba(255, 255, 255, 0.05);
}

.dark-mode .simple-action-btn.love-btn {
    color: #ff2d55;
}

.dark-mode .simple-action-btn.love-btn:hover {
    color: #ff6b8b;
}

.dark-mode .participation-link {
    background: #2a2a2a;
    color: #e0e0e0;
}

.dark-mode .participation-link:hover {
    background: #383838;
}

.dark-mode .participation-link i {
    color: #64b5f6;
}

.dark-mode .see-more-btn,
.dark-mode .see-less-btn {
    color: #64b5f6;
}

.dark-mode .see-more-btn:hover,
.dark-mode .see-less-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #90caf9;
}

/* Overlay elements in dark mode */
.dark-mode .join-prompt,
.dark-mode .campaign-views-overlay {
    background: rgba(0, 0, 0, 0.8);
}

.dark-mode .campaign-views-overlay:hover {
    background: rgba(0, 0, 0, 0.9);
}

/* Progress bar adjustments */
.dark-mode .progress-bar {
    background: rgba(255, 255, 255, 0.1);
}

/* Donate button in dark mode */
.dark-mode .simple-donate-btn {
    background: #ff7043;
}

/* Join/Leave buttons in dark mode */
.dark-mode .simple-join-btn {
    background: #1976d2;
}

.dark-mode .simple-join-btn.leave-btn {
    background: #d32f2f;
}

/* List bullets in dark mode */
.dark-mode .campaign-content-points li:before {
    color: #666;
}

/* Mobile adjustments for dark mode */
@media (max-width: 480px) {
    .dark-mode .simple-campaign-card {
        border-color: #333;
    }
}




/* Views Counter with Tooltip */
.campaign-views-overlay {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 5px;
    backdrop-filter: blur(2px);
    cursor: pointer;
    transition: all 0.2s ease;
    z-index: 2;
}

.campaign-views-overlay:hover {
    background: rgba(0, 0, 0, 0.8);
}

.campaign-views-overlay i {
    font-size: 12px;
}

.views-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 6px 10px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
    margin-bottom: 8px;
    pointer-events: none;
}

.views-tooltip:after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: rgba(0,0,0,0.8) transparent transparent transparent;
}

.campaign-views-overlay:hover .views-tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

/* Blinking Animation */
@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.blink-5s {
    animation: blink 5s infinite;
    /* Optional: Add these for smoother transitions */
    transition: opacity 0.5s ease;
    animation-timing-function: ease-in-out;
}

/* If you want it to fade instead of blink sharply */
@keyframes gentleBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* Alternative: Fade in/out every 5s */
@keyframes fadePulse {
    0%, 100% { 
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.95);
    }
}

/* Apply the animation */
.join-prompt {
    /* Your existing styles */
    animation: fadePulse 5s infinite;
}
.heart {
    position: fixed;
    pointer-events: none;
    background-color: #ff2d55;
    display: inline-block;
    transform: rotate(-45deg);
    z-index: 1000;
}

.heart:before, .heart:after {
    content: "";
    background-color: #ff2d55;
    border-radius: 50%;
    position: absolute;
    width: 100%;
    height: 100%;
}

.heart:before {
    top: -50%;
    left: 0;
}

.heart:after {
    top: 0;
    left: 50%;
}

@keyframes float {
    0% {
        transform: translate(0, 0) rotate(-45deg);
        opacity: 1;
    }
    100% {
        transform: translate(
            calc(var(--random-x) * 100px), 
            calc(var(--random-y) * -150px)
        ) rotate(-45deg);
        opacity: 0;
    }
}

/* Love button styles */
.loved {
    color: #ff2d55 !important;
}

/* Mobile-specific styles */
@media (max-width: 768px) {
    .love-btn {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .love-count-mobile {
        display: inline-block;
        font-size: 14px;
    }
    
    /* Hide desktop count on mobile if needed */
    .love-count-desktop {
        display: none;
    }
}

/* Desktop styles */
@media (min-width: 769px) {
    .love-count-mobile {
        display: none;
    }
    
    .love-count-desktop {
        display: inline-block;
    }
}


/* Light mode (default) */
.filter-form {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    padding-left: 20px;
}

.filter-label {
    font-size: 14px;
    color: #333;
    font-weight: 500;
}

.filter-select {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 6px;
    background-color: #f9f9f9;
    font-size: 14px;
    color: #555;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.filter-select:hover {
    border-color: #bbb;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.filter-select:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}

/* Dark mode */
.dark-mode .filter-form {
    background-color: transparent; /* Ensure form background doesn't conflict */
}

.dark-mode .filter-label {
    color: #f0f0f0; /* Light text for dark mode */
}

.dark-mode .filter-select {
    background-color: #333; /* Dark background for select */
    border-color: #555; /* Darker border */
    color: #f0f0f0; /* Light text */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Darker shadow */
}

.dark-mode .filter-select:hover {
    border-color: #777; /* Lighter border on hover */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5); /* Stronger shadow on hover */
}

.dark-mode .filter-select:focus {
    border-color: #007bff; /* Keep focus color consistent */
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5); /* Brighter focus shadow */
}

/* Mobile version */
@media (max-width: 768px) {
    .filter-form {
        flex-direction: column; /* Stack elements vertically */
        align-items: flex-start; /* Align items to the start */
        padding-left: 10px; /* Reduce padding */
        gap: 8px; /* Reduce gap between elements */
    }

    .filter-label {
        font-size


</style>
<style>
    /* Dark mode styles */
    .dark-mode .profile-widget .username-text {
        color: #e0e0e0 !important;
    }
    
    .dark-mode .profile-widget .last-visit {
        color: #b0b0b0 !important;
    }
    
    .dark-mode .profile-widget .last-visit span[style="font-weight: 600;"] {
        color: #d0d0d0 !important;
    }
    
    /* Keep the green accent colors the same in both modes */
    .dark-mode .profile-widget span[style="color: #4CAF50;"],
    .dark-mode .profile-widget .profile-image {
        border-color: #4CAF50 !important;
    }
    
    /* Adjust badge shadow for dark mode */
    .dark-mode .vip-badge {
        box-shadow: 0 2px 3px rgba(0,0,0,0.4) !important;
    }
</style>
<style>
    .dark-mode .dark-mode-compatible {
        background-color: #1E1E1E;
        padding: 8px 12px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    .dark-mode .dark-mode-compatible:hover {
        background-color: #252525;
    }
</style>

<style type="text/css">
  .action-group {
    display: flex;
    gap: 8px;
    position: relative;
}

.simple-action-btn {
    position: relative; /* Essential for absolute positioning of label */
    background: none;
    border: none;
    color: #555;
    font-size: 14px;
    padding: 5px 12px;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: all 0.3s ease;
}

.simple-action-btn i {
    margin-right: 5px;
    font-size: 16px;
}

.simple-action-btn.love-btn {
    color: #E91E63;
}

/* Label styling - positioned ABOVE the icon */
.action-label {
    position: absolute;
    left: 50%;
    top: -25px; /* Position above the button */
    transform: translateX(-50%);
    white-space: nowrap;
    font-size: 12px;
    background: #c0c0c0; /* Silver background */
    color: #000 !important; /* Black text with important to override dark mode */
    padding: 3px 10px;
    border-radius: 15px;
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 100;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    border: 1px solid #808080;
}

/* Tooltip arrow */
.action-label::after {
    content: "";
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    border-width: 5px 5px 0;
    border-style: solid;
    border-color: #c0c0c0 transparent transparent;
}

/* Show label on hover */
.simple-action-btn:hover .action-label {
    opacity: 1;
    top: -30px; /* Final raised position */
}

/* Show label on touch for mobile devices */
.simple-action-btn:active .action-label,
.simple-action-btn:focus .action-label {
    opacity: 1;
    top: -30px;
}

/* Mobile responsive adjustments */
@media (max-width: 480px) {
    .simple-action-btn {
        padding: 5px 10px;
    }
    
    .action-label {
        font-size: 10px;
        padding: 2px 8px;
        top: -22px;
    }
    
    .simple-action-btn:hover .action-label,
    .simple-action-btn:active .action-label {
        top: -25px;
    }
}

/* ===== Dark Mode Styles ===== */
.dark-mode .action-label {
    background: #c0c0c0 !important; /* Force silver background */
    color: #000 !important; /* Force black text */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.dark-mode .action-label::after {
    border-color: #c0c0c0 transparent transparent !important;
}

/* Adjust hover states in dark mode */
.dark-mode .simple-action-btn:hover .action-label,
.dark-mode .simple-action-btn:active .action-label,
.dark-mode .simple-action-btn:focus .action-label {
    background: #d0d0d0 !important; /* Slightly lighter silver */
    color: #000 !important; /* Maintain black text */
}

/* Love button tooltip special case */
.dark-mode .simple-action-btn.love-btn:hover .action-label,
.dark-mode .simple-action-btn.love-btn:active .action-label,
.dark-mode .simple-action-btn.love-btn:focus .action-label {
    background: #d0d0d0 !important;
    color: #000 !important;
}

/* Mobile adjustments for dark mode */
@media (max-width: 480px) {
    .dark-mode .action-label {
        background: #c0c0c0 !important;
        color: #000 !important;
    }
}

/* Additional button styles */
.simple-action-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.dark-mode .simple-action-btn {
    color: #aaa;
}

.dark-mode .simple-action-btn:hover {
    background-color: rgba(255, 255, 255, 0.05);
}

.simple-action-btn.love-btn:hover {
    background-color: rgba(233, 30, 99, 0.1);
}

.dark-mode .simple-action-btn.love-btn:hover {
    background-color: rgba(233, 30, 99, 0.2);
}


</style>


<style>
  .search-container {
    max-width: 600px;
    margin: 0 auto;
  }
  
  .search-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }
  
  #query-field {
    width: 100%;
    padding: 10px 50px 10px 15px;
    border: 1px solid #e0e0e0;
    border-radius: 20px; /* Only border radius on input */
    font-size: 14px;
    color: #333;
    outline: none;
    transition: border 0.2s;
  }
  
  #query-field:focus {
    border-color: #aaa;
  }
  
  .search-icons {
    position: absolute;
    right: 5px;
    display: flex;
    align-items: center;
    height: 100%;
  }
  
  .btn-reset, .btn-search {
    width: 30px;
    height: 30px;
    border: none;
    background: transparent;
    color: #999;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    padding: 0;
  }
  
  .btn-reset:hover, .btn-search:hover {
    color: #555;
  }
  
  .fa-search, .fa-times {
    font-size: 14px;
  }
</style>


<style>
.dashboard-snaps {
  margin-top: 24px;
  background: #fff;
  border-radius: 12px;
  padding-left: 8px;
  padding-top: 2px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.snaps-header {
  margin-bottom: 12px;
}

.snaps-title {
  font-size: 18px;
  color: #333;
  font-weight: 600;
}

.snaps-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.snap-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px 12px;
  background: #f0f2f5;
  border-radius: 8px;
  text-decoration: none;
}

.snap-icon {
  font-size: 20px;
  margin-bottom: 8px;
  color: #1877f2;
}

.snap-label {
  display: block;
  font-size: 13px;
  color: #000;
  font-weight: 500;
}

/* === Dark Mode === */
.dark-mode .dashboard-snaps {
  background: #1e1e1e;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.dark-mode .snap-link {
  background: #2d2d2d;
  transition: background-color 0.2s ease;
}

.dark-mode .snap-link:hover {
  background: #383838;
}

.dark-mode .snap-icon {
  color: #64b5f6;
}

.dark-mode .snap-label {
  color: #e0e0e0;
}

/* Smooth transitions */
.dashboard-snaps,
.snap-link,
.snap-icon,
.snap-label {
  transition: all 0.3s ease;
}

</style>

<style>
    .affiliate-essentials {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background-color: rgba(0, 149, 246, 0.03);
        border-radius: 16px;
        padding: 30px;
        margin: 40px 0;
        border: 1px solid rgba(0, 149, 246, 0.1);
    }
    
    .affiliate-header {
        text-align: center;
        margin-bottom: 30px;
    }
    
    .affiliate-badge {
        background: rgba(0, 149, 246, 0.08);
        color: #0095f6;
        border: 1px solid rgba(0, 149, 246, 0.2);
        padding: 6px 12px;
        border-radius: 12px;
        font-size: 13px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 15px;
    }
    
    .affiliate-title {
        font-size: 22px;
        font-weight: 700;
        color: #2a3042;
        margin-bottom: 12px;
    }
    
    .affiliate-subtitle {
        color: #6c757d;
        font-size: 15px;
        max-width: 600px;
        margin: 0 auto;
    }
    
    .affiliate-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    @media (min-width: 768px) {
        .affiliate-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
    }
    
    .affiliate-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .affiliate-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.05);
        border-color: rgba(0, 149, 246, 0.2);
    }
    
    .affiliate-tag {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #ff4757;
        color: white;
        font-size: 11px;
        font-weight: 600;
        padding: 3px 8px;
        border-radius: 4px;
    }
    
    .affiliate-icon {
        width: 40px;
        height: 40px;
        background: rgba(0, 149, 246, 0.1);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #0095f6;
        font-size: 18px;
        margin-bottom: 15px;
    }
    
    .affiliate-name {
        font-weight: 600;
        font-size: 16px;
        margin-bottom: 8px;
        color: #2a3042;
    }
    
    .affiliate-desc {
        font-size: 14px;
        color: #6c757d;
        margin-bottom: 15px;
        line-height: 1.5;
    }
    
    .affiliate-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .affiliate-price {
        font-weight: 700;
        color: #2a3042;
    }
    
    .affiliate-discount {
        background: rgba(40, 167, 69, 0.1);
        color: #28a745;
        font-size: 12px;
        padding: 2px 8px;
        border-radius: 4px;
        font-weight: 600;
    }
    
    .affiliate-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 10px 15px;
        background: #0095f6;
        color: white;
        border-radius: 8px;
        font-weight: 500;
        font-size: 14px;
        transition: all 0.3s ease;
        text-decoration: none;
        border: none;
        cursor: pointer;
    }
    
    .affiliate-btn:hover {
        background: #0077cc;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 149, 246, 0.2);
    }
    
    .affiliate-btn i {
        margin-left: 8px;
        font-size: 12px;
    }
    
    .view-all-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-top: 25px;
        padding: 10px 20px;
        background: white;
        border: 1px solid rgba(0, 149, 246, 0.3);
        color: #0095f6;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
        text-decoration: none;
    }
    
    .view-all-btn:hover {
        background: rgba(0, 149, 246, 0.05);
        border-color: rgba(0, 149, 246, 0.5);
        transform: translateY(-2px);
    }
    
    .view-all-btn i {
        margin-left: 8px;
        font-size: 12px;
    }
</style>


<style type="text/css">
    .explore-card {
        padding: 10px 15px;
        margin-bottom: 12px;
        background: #f5f9ff;
        border-left: 3px solid #4CAF50;
    }
    
    .explore-card h3 {
        margin: 0;
        font-size: 16px;
        color: #333;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
    }
    
    .explore-card p {
        margin: 2px 0 0;
        font-size: 12px;
        color: #666;
    }
    
    /* Dark mode - Balanced Black */
    .dark-mode .explore-card {
        background: #1a1a1a;  /* Slightly lighter than pure black */
        border-left-color: #4CAF50;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    }
    
    .dark-mode .explore-card h3 { 
        color: #f0f0f0;  /* Soft white */
    }
    
    .dark-mode .explore-card p { 
        color: #cccccc;  /* Light gray for better readability */
    }
    
    /* Desktop */
    @media (min-width: 768px) {
        .explore-card {
            border-radius: 6px;
            border-left: none;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        
        .dark-mode .explore-card {
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
    }
</style>






<style>
.top-contributors {
  margin-top: 24px;
  background: #fff;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.contributors-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.contributors-title {
  font-size: 18px;
  font-weight: 600;
  color: #050505;
  margin: 0;
}

.contributor-item {
  display: flex;
  align-items: center;
  padding: 8px 0;
}

.contributor-avatar {
  position: relative;
  margin-right: 12px;
}

.contributor-img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #fff;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.contributor-badge {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ffd700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: #000;
  font-weight: bold;
}

.contributor-info {
  flex: 1;
}

.contributor-name {
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 2px 0;
}

.contributor-stats {
  font-size: 12px;
  color: #65676b;
}

.view-all-contributors {
  text-align: center;
  margin-top: 12px;
}

.view-all-contributors a {
  color: #1877f2;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
}

/* ===== Dark Mode Styles for Top Contributors ===== */
.dark-mode .top-contributors {
  background: #1e1e1e;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.dark-mode .contributors-title {
  color: #e0e0e0;
}

.dark-mode .contributor-img {
  border-color: #333;
  box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

.dark-mode .contributor-name {
  color: #f0f0f0;
}

.dark-mode .contributor-stats {
  color: #b0b0b0;
}

.dark-mode .view-all-contributors a {
  color: #64b5f6;
}

/* Contributor badges in dark mode */
.dark-mode .contributor-badge {
  color: #000; /* Keep text black for contrast */
  box-shadow: 0 0 0 2px #1e1e1e; /* Creates outline effect */
}

/* Hover effects for dark mode */
.dark-mode .view-all-contributors a:hover {
  color: #90caf9;
  text-decoration: underline;
}

/* Optional: Add smooth transitions */
.top-contributors,
.contributors-title,
.contributor-img,
.contributor-name,
.contributor-stats,
.view-all-contributors a {
  transition: all 0.3s ease;
}
</style>

<style>
    /* Comment Popup Styles */
    .comment-popup-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .comment-popup-content {
        background-color: white;
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        padding: 20px;
        overflow-y: auto;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .close-comment-popup {
        float: right;
        font-size: 24px;
        cursor: pointer;
        color: #888;
    }
    
    .close-comment-popup:hover {
        color: #000;
    }
    
    .comment-form-container {
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid #eee;
    }
    
    .comment-textarea {
        width: 100%;
        min-height: 100px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        resize: vertical;
        margin-bottom: 10px;
    }
    
    .submit-comment-btn {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .submit-comment-btn:hover {
        background-color: #45a049;
    }
    
    .comment-list-container {
        max-height: 300px;
        overflow-y: auto;
    }
    
    .comment-item {
        padding: 10px 0;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .comment-user {
        font-weight: bold;
        margin-right: 5px;
    }
    
    .comment-timestamp {
        font-size: 12px;
        color: #888;
    }
    
    .comment-text {
        margin-top: 5px;
        line-height: 1.4;
    }
    
    .loading-comments {
        text-align: center;
        padding: 20px;
        color: #888;
    }

    /* Add these styles to your existing CSS */
.comment-header {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}

.comment-user-link {
    margin-right: 10px;
    display: flex;
    align-items: center;
}

.comment-user-img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #f0f0f0;
    transition: transform 0.3s ease;
}

.comment-user-img:hover {
    transform: scale(1.1);
}

.comment-user-info {
    display: flex;
    flex-direction: column;
}

.comment-user {
    font-weight: bold;
    color: #333;
    text-decoration: none;
    margin-bottom: 2px;
}

.comment-user:hover {
    color: #4CAF50;
    text-decoration: underline;
}

.comment-timestamp {
    font-size: 12px;
    color: #888;
}

.comment-text {
    margin-left: 50px; /* Align with user info */
    padding: 8px 12px;
    background-color: #f9f9f9;
    border-radius: 12px;
    line-height: 1.4;
    position: relative;
}

.comment-text:before {
    content: '';
    position: absolute;
    left: -8px;
    top: 10px;
    width: 0;
    height: 0;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 8px solid #f9f9f9;
}

    .current-user-preview {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        padding: 5px;
        background-color: #f5f5f5;
        border-radius: 20px;
    }

    .current-user-img {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 10px;
        border: 1px solid #ddd;
    }


/* Comment Actions */
.comment-actions {
    display: flex;
    align-items: center;
    margin-top: 10px;
    padding-left: 50px;
}

.comment-actions button {
    background: none;
    border: none;
    cursor: pointer;
    margin-right: 15px;
    font-size: 14px;
    color: #666;
    display: flex;
    align-items: center;
    padding: 5px 10px;
    border-radius: 15px;
    transition: all 0.2s ease;
}

.comment-actions button:hover {
    background-color: #f0f0f0;
    color: #333;
}

.comment-actions button i {
    margin-right: 5px;
}

.comment-actions .like-comment-btn.active {
    color: #4CAF50;
}

.comment-actions .dislike-comment-btn.active {
    color: #f44336;
}

/* Reply Form */
.reply-form-container {
    margin-top: 15px;
    padding: 15px;
    background-color: #f9f9f9;
    border-radius: 8px;
    border-left: 3px solid #ddd;
}

.reply-textarea {
    width: 100%;
    min-height: 80px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    resize: vertical;
    margin-bottom: 10px;
}

.submit-reply-btn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    margin-right: 10px;
}

.submit-reply-btn:hover {
    background-color: #45a049;
}

.cancel-reply-btn {
    background-color: #f44336;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
}

.cancel-reply-btn:hover {
    background-color: #d32f2f;
}

/* Replies Container */
.replies-container {
    margin-top: 15px;
    padding-left: 30px;
    border-left: 2px solid #eee;
}

.replies-container .comment-item {
    padding: 15px 0;
}

.replies-container .comment-text {
    margin-left: 40px;
}

.replies-container .comment-actions {
    padding-left: 40px;
}

/* Loading states */
.loading-replies, .no-replies, .error-loading-replies {
    text-align: center;
    padding: 15px;
    color: #888;
    font-size: 14px;
}

.error-loading-replies .retry-btn {
    background-color: #2196F3;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 3px;
    margin-top: 5px;
    cursor: pointer;
}

.error-loading-replies .retry-btn:hover {
    background-color: #0b7dda;
}
/* ===== Dark Mode Styles for Comment Popup ===== */
.dark-mode .comment-popup-container {
    background-color: rgba(0, 0, 0, 0.85);
}

.dark-mode .comment-popup-content {
    background-color: #1e1e1e;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
}

.dark-mode .close-comment-popup {
    color: #888;
}

.dark-mode .close-comment-popup:hover {
    color: #e0e0e0;
}

.dark-mode .comment-form-container {
    border-bottom-color: #333;
}

.dark-mode .comment-textarea {
    background-color: #2d2d2d;
    border-color: #444;
    color: #e0e0e0;
}

.dark-mode .comment-textarea::placeholder {
    color: #888;
}

.dark-mode .submit-comment-btn {
    background-color: #388e3c;
}

.dark-mode .submit-comment-btn:hover {
    background-color: #2e7d32;
}

.dark-mode .comment-item {
    border-bottom-color: #333;
}

.dark-mode .comment-user {
    color: #e0e0e0;
}

.dark-mode .comment-user:hover {
    color: #81c784;
}

.dark-mode .comment-timestamp {
    color: #888;
}

.dark-mode .comment-text {
    background-color: #2d2d2d;
    color: #e0e0e0;
}

.dark-mode .comment-text:before {
    border-right-color: #2d2d2d;
}

.dark-mode .current-user-preview {
    background-color: #2a2a2a;
}

.dark-mode .comment-user-img {
    border-color: #444;
}

.dark-mode .comment-actions button {
    color: #888;
}

.dark-mode .comment-actions button:hover {
    background-color: #333;
    color: #e0e0e0;
}

.dark-mode .comment-actions .like-comment-btn.active {
    color: #81c784;
}

.dark-mode .comment-actions .dislike-comment-btn.active {
    color: #e57373;
}

.dark-mode .reply-form-container {
    background-color: #2a2a2a;
    border-left-color: #444;
}

.dark-mode .reply-textarea {
    background-color: #2d2d2d;
    border-color: #444;
    color: #e0e0e0;
}

.dark-mode .submit-reply-btn {
    background-color: #388e3c;
}

.dark-mode .submit-reply-btn:hover {
    background-color: #2e7d32;
}

.dark-mode .cancel-reply-btn {
    background-color: #d32f2f;
}

.dark-mode .cancel-reply-btn:hover {
    background-color: #b71c1c;
}

.dark-mode .replies-container {
    border-left-color: #444;
}

.dark-mode .loading-replies,
.dark-mode .no-replies,
.dark-mode .error-loading-replies {
    color: #888;
}

.dark-mode .error-loading-replies .retry-btn {
    background-color: #1976d2;
}

.dark-mode .error-loading-replies .retry-btn:hover {
    background-color: #1565c0;
}

/* Additional dark mode improvements */
.dark-mode .comment-popup-content::-webkit-scrollbar {
    width: 8px;
}

.dark-mode .comment-popup-content::-webkit-scrollbar-track {
    background: #2d2d2d;
}

.dark-mode .comment-popup-content::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 4px;
}

.dark-mode .comment-popup-content::-webkit-scrollbar-thumb:hover {
    background: #666;
}
</style>


<style>
.right-aside {
  width: 340px;
  padding: 16px;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
  position: sticky;
  top: 20px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.section-title {
  font-size: 18px;
  font-weight: 600;
  color: #050505;
  margin: 0;
}

.see-all {
  font-size: 14px;
  color: #1877f2;
  text-decoration: none;
  font-weight: 500;
}

.see-all:hover {
  text-decoration: underline;
}


.user-card {
  display: flex;
  padding: 12px;
  border-radius: 8px;
  transition: all 0.3s ease;
  margin-bottom: 8px;
  background: linear-gradient(135deg, rgba(240, 242, 245, 0.4) 0%, rgba(255, 255, 255, 0.8) 100%);
  backdrop-filter: blur(2px);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.user-card:hover {
  background: linear-gradient(135deg, rgba(224, 227, 233, 0.6) 0%, rgba(240, 242, 245, 0.9) 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  transform: translateY(-1px);
}

/* Dark mode adjustments */
.dark-mode .user-card {
  background: linear-gradient(135deg, rgba(45, 45, 45, 0.4) 0%, rgba(30, 30, 30, 0.8) 100%);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.dark-mode .user-card:hover {
  background: linear-gradient(135deg, rgba(60, 60, 60, 0.6) 0%, rgba(45, 45, 45, 0.9) 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* Add this to your existing transitions */
.user-card {
  transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
}


.user-avatar {
  position: relative;
  margin-right: 12px;
}

.avatar-img {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.online-status {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 12px;
  height: 12px;
  background-color: #31a24c;
  border-radius: 50%;
  border: 2px solid #ffffff;
}

.user-info {
  flex: 1;
}

.user-name {
  font-size: 15px;
  font-weight: 600;
  margin: 0 0 2px 0;
  color: #050505;
}

.user-bio {
  font-size: 13px;
  color: #65676b;
  margin: 0 0 4px 0;
  line-height: 1.3;
}

.user-meta {
  display: flex;
  align-items: center;
  font-size: 12px;
  color: #65676b;
  margin-bottom: 8px;
}

.followers {
  margin-right: 6px;
}

.verified-badge {
  color: #1877f2;
  font-size: 14px;
}
.visit-btn {
    display: inline-block;
    padding: 6px 12px;
    background-color: #f0f2f5;
    color: #050505;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 600;
    text-decoration: none;
    transition: background-color 0.2s;
    margin-left: 4px; /* Added left margin for better spacing */
}

.visit-btn:hover {
    background-color: #e4e6eb;
    text-decoration: none;
}

.user-actions {
    display: flex;
    align-items: center;
    gap: 8px; /* Added gap property for consistent spacing */
}

/* Dark mode styles */
.dark-mode .follow-text {
    color: #64b5f6;
    background-color: rgba(100, 181, 246, 0.1);
}

.dark-mode .follow-text:hover {
    background-color: rgba(100, 181, 246, 0.2);
}

.dark-mode .follow-text.following {
    color: #64b5f6;
    background-color: rgba(100, 181, 246, 0.1);
}

.dark-mode .visit-btn {
    background-color: #2d2d2d;
    color: #e4e6eb;
}

.dark-mode .visit-btn:hover {
    background-color: #3d3d3d;
}

/* Dark mode styles */
.dark-mode .suggested-follow-btn {
    color: #64b5f6;
    background-color: rgba(100, 181, 246, 0.1);
}

.dark-mode .suggested-follow-btn:hover {
    background-color: rgba(100, 181, 246, 0.2);
}

.dark-mode .suggested-follow-btn.suggested-following {
    color: #64b5f6;
    background-color: rgba(100, 181, 246, 0.1);
}

.dark-mode .suggested-visit-btn {
    background-color: #2d2d2d;
    color: #e4e6eb;
}

.dark-mode .suggested-visit-btn:hover {
    background-color: #3d3d3d;
}

/* ===== Dark Mode Styles ===== */
.dark-mode .section-title {
  color: #e0e0e0;
}

.dark-mode .see-all {
  color: #64b5f6;
}

.dark-mode .see-all:hover {
  color: #90caf9;
}

.dark-mode .user-card {
  background-color: transparent;
}

.dark-mode .user-card:hover {
  background-color: #2d2d2d;
}

.dark-mode .avatar-img {
  border-color: #333;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dark-mode .online-status {
  border-color: #1e1e1e;
}

.dark-mode .user-name {
  color: #f0f0f0;
}

.dark-mode .user-bio,
.dark-mode .user-meta {
  color: #b0b0b0;
}

.dark-mode .follow-btn {
  background-color: rgba(100, 181, 246, 0.1);
  color: #64b5f6;
}

.dark-mode .follow-btn:hover {
  background-color: rgba(100, 181, 246, 0.2);
}

.dark-mode .verified-badge {
  color: #64b5f6;
}

/* Optional: Add smooth transitions */
.section-title,
.see-all,
.user-card,
.user-name,
.user-bio,
.user-meta,
.follow-btn {
  transition: all 0.3s ease;
}
</style>


<style type="text/css">
/* Light mode styles */
.follow-text {
    color: #1DA1F2;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s ease;
    margin-left: 10px;
    text-align: center;
    display: inline-block;
}

.follow-text:hover {
    text-decoration: underline;
    opacity: 0.8;
}

.follow-text.following {
    color: #1DA1F2;
}

.follow-text.following:hover {
    color: #e0245e;
}

/* Dark mode styles */
.dark-mode .follow-text {
    color: #64b5f6;
}

.dark-mode .follow-text:hover {
    color: #90caf9;
    opacity: 1;
}

.dark-mode .follow-text.following {
    color: #64b5f6;
}

.dark-mode .follow-text.following:hover {
    color: #ef9a9a;
}

/* Common styles */
.follow-text.loading {
    opacity: 0.7;
    pointer-events: none;
    position: relative;
    padding-left: 20px;
}

.follow-text.loading:before {
    content: "";
    position: absolute;
    left: 0;
    top: 50%;
    width: 12px;
    height: 12px;
    margin-top: -6px;
    border: 2px solid rgba(29, 161, 242, 0.3);
    border-top-color: #1DA1F2;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

.dark-mode .follow-text.loading:before {
    border: 2px solid rgba(100, 181, 246, 0.3);
    border-top-color: #64b5f6;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.followers-count {
    font-size: 12px;
    color: #666;
    margin-left: 15px;
    display: inline-block;
}

.dark-mode .followers-count {
    color: #aaa;
}
</style>
<style>
.trending-now {
  margin-top: 24px;
}

.trending-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.trending-title {
  font-size: 18px;
  font-weight: 600;
  color: #050505;
  margin: 0;
  display: flex;
  align-items: center;
}

.trending-title i {
  margin-right: 8px;
  color: #1877f2;
}

.refresh-btn {
  background: none;
  border: none;
  color: #65676b;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 4px;
  transition: all 0.2s;
}

.refresh-btn:hover {
  background-color: #f0f2f5;
  color: #1877f2;
}

.refresh-btn i {
  margin-right: 4px;
}

.trending-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.trending-item {
  display: flex;
  padding: 12px;
  border-radius: 8px;
  transition: background-color 0.2s;
  margin-bottom: 8px;
  position: relative;
}

.trending-item:hover {
  background-color: #f0f2f5;
}

.trending-rank {
  font-size: 14px;
  font-weight: 600;
  color: #65676b;
  min-width: 24px;
  text-align: center;
  align-self: center;
}

.trending-hot {
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 10px;
  background-color: #ff4d4f;
  color: white;
  padding: 2px 6px;
  border-radius: 10px;
  font-weight: 500;
}

.trending-content {
  flex: 1;
  margin-left: 12px;
}

.trending-topic {
  font-size: 15px;
  font-weight: 600;
  margin: 0 0 4px 0;
  color: #050505;
  display: flex;
  align-items: center;
}

.trending-topic i {
  margin-left: 6px;
  color: #1877f2;
  font-size: 14px;
}

.trending-meta {
  display: flex;
  font-size: 12px;
  color: #65676b;
}

.trending-posts {
  margin-right: 12px;
  display: flex;
  align-items: center;
}

.trending-posts i {
  margin-right: 4px;
  font-size: 10px;
}

.trending-category {
  background-color: #e7f3ff;
  color: #1877f2;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  align-self: center;
}

.view-more {
  text-align: center;
  margin-top: 12px;
}

.view-more a {
  color: #1877f2;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
}

.view-more a:hover {
  text-decoration: underline;
}

/* Animation for hot items */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.trending-hot {
  animation: pulse 2s infinite;
}

/* Rank colors */
.trending-rank-1 {
  color: #ff4d4f;
  font-weight: 700;
}

.trending-rank-2 {
  color: #fa8c16;
  font-weight: 700;
}

.trending-rank-3 {
  color: #fadb14;
  font-weight: 700;
}



/* ===== Dark Mode Styles for Trending Now ===== */
.dark-mode .trending-title {
  color: #e0e0e0;
}

.dark-mode .trending-title i {
  color: #64b5f6;
}

.dark-mode .refresh-btn {
  color: #b0b0b0;
}

.dark-mode .refresh-btn:hover {
  background-color: #2d2d2d;
  color: #64b5f6;
}

.dark-mode .trending-item:hover {
  background-color: #2d2d2d;
}

.dark-mode .trending-rank {
  color: #b0b0b0;
}

.dark-mode .trending-topic {
  color: #f0f0f0;
}

.dark-mode .trending-topic i {
  color: #64b5f6;
}

.dark-mode .trending-meta {
  color: #b0b0b0;
}

.dark-mode .trending-category {
  background-color: rgba(100, 181, 246, 0.1);
  color: #64b5f6;
}

.dark-mode .view-more a {
  color: #64b5f6;
}

.dark-mode .view-more a:hover {
  color: #90caf9;
}

/* Rank colors in dark mode */
.dark-mode .trending-rank-1 {
  color: #ff6b6b;
}

.dark-mode .trending-rank-2 {
  color: #ffa940;
}

.dark-mode .trending-rank-3 {
  color: #ffec3d;
}

/* Hot badge in dark mode */
.dark-mode .trending-hot {
  background-color: #ff6b6b;
  box-shadow: 0 0 0 2px #1e1e1e;
}

/* Animation remains the same in dark mode */
.dark-mode .trending-hot {
  animation: pulse 2s infinite;
}

/* Optional transitions */
.trending-item,
.trending-topic,
.trending-rank,
.refresh-btn,
.trending-category {
  transition: all 0.3s ease;
}
</style>

<style>
.subscribe-link {
    color: #4CAF50;
    text-decoration: none;
    font-weight: bold;
}

.subscribe-link:hover {
    text-decoration: underline;
}

.subscribe-link {
    color: #4CAF50;
    text-decoration: none;
    font-weight: bold;
}

.subscribe-link:hover {
    text-decoration: underline;
}

/* Clean Share Popup Styles */
.share-popup {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
}

.share-popup-content {
    background: white;
    margin: 10vh auto;
    padding: 25px;
    width: 90%;
    max-width: 450px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    position: relative;
}

.popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.popup-title {
    font-size: 1.4rem;
    font-weight: 600;
    color: #333;
}

.close-btn {
    color: #888;
    font-size: 1.8rem;
    cursor: pointer;
    transition: all 0.2s;
}

.close-btn:hover {
    color: #333;
    transform: scale(1.1);
}

.share-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 20px;
}

.share-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    color: white;
    font-weight: 500;
    font-size: 0.9rem;
    text-align: center;
}

.share-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.share-btn i {
    font-size: 1.6rem;
    margin-bottom: 5px;
}

.link-copy-section {
    margin-top: 20px;
    border-top: 1px solid #eee;
    padding-top: 20px;
}

.link-copy-title {
    display: block;
    margin-bottom: 8px;
    font-size: 0.95rem;
    color: #555;
}

.link-copy-container {
    display: flex;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #ddd;
}

.link-input {
    flex: 1;
    padding: 10px 15px;
    border: none;
    font-size: 0.9rem;
    background: #f9f9f9;
}

.copy-btn {
    padding: 0 15px;
    background: #4a6bff;
    color: white;
    border: none;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
}

.copy-btn:hover {
    background: #3a5bef;
}

.copy-btn i {
    font-size: 0.9rem;
}

/* Platform Colors */
.facebook { background: #3b5998; }
.twitter { background: #1da1f2; }
.linkedin { background: #0077b5; }
.whatsapp { background: #25d366; }
.reddit { background: #ff5700; }
.telegram { background: #0088cc; }
.pinterest { background: #e60023; }
.email { background: #777; }
.messenger { background: #0084ff; }
.tumblr { background: #35465c; }

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Responsive */
@media (max-width: 500px) {
    .share-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
/* ===== Dark Mode Styles for Share Popup ===== */
.dark-mode .share-popup {
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(6px); /* Slightly stronger blur in dark mode */
}

.dark-mode .share-popup-content {
    background: #1e1e1e;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    border: 1px solid #333; /* Added subtle border for depth */
}

.dark-mode .popup-title {
    color: #f0f0f0;
}

.dark-mode .close-btn {
    color: #888;
}

.dark-mode .close-btn:hover {
    color: #f0f0f0;
    transform: scale(1.1);
}

.dark-mode .link-copy-section {
    border-top-color: #333;
}

.dark-mode .link-copy-title {
    color: #b0b0b0;
}

.dark-mode .link-input {
    background: #2d2d2d;
    color: #e0e0e0;
    border-right: 1px solid #333; /* Add separator */
}

.dark-mode .link-copy-container {
    border-color: #444;
}

/* Platform buttons - maintain brand colors but adjust hover states */
.dark-mode .share-btn {
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.dark-mode .share-btn:hover {
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    filter: brightness(1.1); /* Slightly brighten on hover */
}

/* Copy button adjustments */
.dark-mode .copy-btn {
    background: #4a6bff;
}

.dark-mode .copy-btn:hover {
    background: #3a5bef;
    filter: brightness(1.1);
}

/* Scrollbar styling for dark mode */
.dark-mode .share-popup-content::-webkit-scrollbar {
    width: 8px;
}

.dark-mode .share-popup-content::-webkit-scrollbar-track {
    background: #2d2d2d;
}

.dark-mode .share-popup-content::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 4px;
}

.dark-mode .share-popup-content::-webkit-scrollbar-thumb:hover {
    background: #666;
}

/* Responsive adjustments */
@media (max-width: 500px) {
    .dark-mode .share-popup-content {
        margin: 5vh auto;
        padding: 20px;
    }
    
    .dark-mode .share-grid {
        gap: 10px;
    }
    
    .dark-mode .share-btn {
        padding: 10px;
    }
}

</style>







<style>



    .create-btn {
        background-color: #0095f6;
        color: white;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        transform: translateY(-10px);
        box-shadow: 0 2px 8px rgba(0, 149, 246, 0.3);
    }
    
    .create-btn svg {
        margin-bottom: 0;
    }
    
    .alert-badge {
        position: absolute;
        top: 2px;
        right: 8px;
        background-color: #ff3040;
        color: white;
        border-radius: 50%;
        font-size: 10px;
        min-width: 16px;
        height: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 4px;
    }
    
    .chat-alert {
        position: static;
        margin-left: 8px;
    }
    
 
    .delete-link {
        color: #e74c3c !important;
        font-weight: 500;
    }

    .delete-link i {
        color: #e74c3c !important;
    }

    /* Form styling */
    .not-interested-container {
        padding: 10px 16px;
        border-top: 1px solid #f0f0f0;
        margin-top: 5px;
    }

    .not-interested-form {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .form-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .form-label {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 14px;
        color: #444;
        cursor: pointer;
    }

    .form-label i {
        color: #666;
        width: 20px;
        text-align: center;
    }

    .form-checkbox {
        appearance: none;
        width: 18px;
        height: 18px;
        border: 2px solid #ddd;
        border-radius: 4px;
        outline: none;
        cursor: pointer;
        position: relative;
        transition: all 0.2s ease;
    }

    .form-checkbox:checked {
        background-color: #4CAF50;
        border-color: #4CAF50;
    }

    .form-checkbox:checked::after {
        content: "âœ“";
        position: absolute;
        color: white;
        font-size: 12px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .form-submit-button {
        background-color: #f8f8f8;
        color: #444;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
    }

    .form-submit-button:hover {
        background-color: #eaeaea;
        color: #000;
    }

    .campaign-menu {
        position: relative;
        cursor: pointer;
        padding: 8px;
        border-radius: 50%;
        transition: background-color 0.2s ease;
        display: inline-block;
    }

    .campaign-menu:hover {
        background-color: #f5f5f5;
    }

    .campaign-menu i.fa-ellipsis-v {
        color: #666;
        font-size: 16px;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

/* Clean Share Popup Styles */
.share-popup {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
}

.share-popup-content {
    background: white;
    margin: 10vh auto;
    padding: 25px;
    width: 90%;
    max-width: 450px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    position: relative;
}

.popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.popup-title {
    font-size: 1.4rem;
    font-weight: 600;
    color: #333;
}

.close-btn {
    color: #888;
    font-size: 1.8rem;
    cursor: pointer;
    transition: all 0.2s;
}

.close-btn:hover {
    color: #333;
    transform: scale(1.1);
}

.share-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 20px;
}

.share-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    color: white;
    font-weight: 500;
    font-size: 0.9rem;
    text-align: center;
}

.share-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.share-btn i {
    font-size: 1.6rem;
    margin-bottom: 5px;
}

.link-copy-section {
    margin-top: 20px;
    border-top: 1px solid #eee;
    padding-top: 20px;
}

.link-copy-title {
    display: block;
    margin-bottom: 8px;
    font-size: 0.95rem;
    color: #555;
}

.link-copy-container {
    display: flex;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #ddd;
}

.link-input {
    flex: 1;
    padding: 10px 15px;
    border: none;
    font-size: 0.9rem;
    background: #f9f9f9;
}

.copy-btn {
    padding: 0 15px;
    background: #4a6bff;
    color: white;
    border: none;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
}

.copy-btn:hover {
    background: #3a5bef;
}

.copy-btn i {
    font-size: 0.9rem;
}

/* Platform Colors */
.facebook { background: #3b5998; }
.twitter { background: #1da1f2; }
.linkedin { background: #0077b5; }
.whatsapp { background: #25d366; }
.reddit { background: #ff5700; }
.telegram { background: #0088cc; }
.pinterest { background: #e60023; }
.email { background: #777; }
.messenger { background: #0084ff; }
.tumblr { background: #35465c; }

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Responsive */
@media (max-width: 500px) {
    .share-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
        /* Enhanced transition effects */
        body, 
        header, 
        footer, 
        section, 
        .left-aside, 
        .right-aside, 
        .upper-post, 
        .campaign-content, 
        .react, 
        .search-container input, 
        .search-container .btn-reset, 
        .funding-progress-card, 
        button, 
        h1, h2, h3, h4, p, li, 
        .campaign-nav, 
        .campaign-nav a, 
        .btn, 
        .reaction, 
        .action-item, 
        .action-item a, 
        .carousel, 
        .ad, 
        .slide, 
        .ad a, 
        .explore-link, 
        .love-count, 
        #view-count, 
        .comment-count {
            transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                        border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                        transform 0.3s ease;
        }

</style>


     <style>
      
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 30px;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .campaign-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            margin-bottom: 30px;
        }
        
        .campaign-image {
            height: 300px;
            position: relative;
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');
            background-size: cover;
            background-position: center;
        }
        
       .image-overlay-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
            color: white;
        }
        
        /* Fixed Action icons styles */
        .campaign-action-icons {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .action-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background-color: transparent;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.4s ease;
            position: relative;
            border: 2px solid rgba(255, 255, 255, 0.7);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            cursor: pointer;
        }
        
        .action-icon:hover {
            transform: translateY(-8px) scale(1.05);
            border: 2px solid rgba(255, 255, 255, 1);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.25),
                        0 0 30px rgba(255, 215, 100, 0.5);
            background: rgba(255, 255, 255, 0.05);
        }
        
        .action-icon i {
            font-size: 32px;
            transition: all 0.3s ease;
        }
        
        .action-icon:hover i {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }
        
        /* Custom tooltip styling - fixed position */
        .action-icon .tooltip {
            content: attr(data-title);
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 100;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .action-icon:hover .tooltip {
            opacity: 1;
            visibility: visible;
            bottom: -35px;
        }
        
        /* Icon specific hover effects */
        .action-icon:nth-child(1):hover {
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.25),
                        0 0 30px rgba(255, 100, 100, 0.5);
        }
        
        .action-icon:nth-child(2):hover {
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.25),
                        0 0 30px rgba(100, 200, 255, 0.5);
        }
        
        .action-icon:nth-child(3):hover {
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.25),
                        0 0 30px rgba(100, 255, 150, 0.5);
        }
        
        
        /* Mobile-specific styles */
        .mobile-goal-display {
            display: none;
        }
        
        /* Campaign content below image */
        .campaign-content {
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .campaign-title {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .campaign-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .campaign-creator {
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .creator-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            background: #4ECDC4;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .campaigns-grid {
                grid-template-columns: 1fr;
            }
            
            .campaign-action-icons {
                gap: 25px;
            }
            
            .action-icon {
                width: 70px;
                height: 70px;
            }
            
            .action-icon i {
                font-size: 28px;
            }
        }
        
        @media (max-width: 600px) {
            .campaign-image {
                height: 250px;
            }
            
            .campaign-action-icons {
                gap: 15px;
            }
            
            .action-icon {
                width: 60px;
                height: 60px;
            }
            
            .action-icon i {
                font-size: 24px;
            }
            
            .image-overlay-bottom {
                padding: 15px;
            }
            
            /* Hide detailed progress info on mobile */
            .progress-info, .campaign-stats {
                display: none;
            }
            
            /* Show simplified goal display on mobile */
            .mobile-goal-display {
                display: block;
                margin-top: 15px;
                font-size: 16px;
                font-weight: 600;
                color: #4ECDC4;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            }
            
            /* Adjust progress bar for mobile */
            .progress-container {
                margin-bottom: 0;
                height: 8px;
            }
            
            /* Simplify the time display */
            .campaign-time-left {
                font-size: 13px;
                margin-top: 8px;
            }
        }
        
   .campaign-members {
    margin-top: 15px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
}

.campaign-members h3 {
    font-size: 16px;
    margin-bottom: 10px;
    color: #333;
}

.campaign-members .follower-card {
    display: flex;
    align-items: center;
    background: white;
    padding: 4px 8px;
    border-radius: 20px;
    text-decoration: none;
    color: #333;
}

.campaign-members .follower-card img {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 6px;
}

.campaign-members p {
    color: #666;
    font-size: 14px;
    margin: 0;
}

/* Dark mode */
.dark-mode .campaign-members {
    background: #1e1e1e;
}

.dark-mode .campaign-members h3 {
    color: #ddd;
}

.dark-mode .campaign-members .follower-card {
    background: #2a2a2a;
    color: #eee;
}

.dark-mode .campaign-members p {
    color: #aaa;
}


.sub {
    display: flex;
    align-items: center;
    gap: 12px; /* slightly bigger */
    margin-bottom: 14px; 
    padding: 14px; /* increased */
    border-radius: 10px; 
    background: #ffffff;
    border: 1px solid #e5e7eb;
    transition: transform 0.2s ease;
}

.sub:hover {
    transform: translateY(-2px); 
}

.sub i {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 38px;   /* increased */
    height: 38px;  /* increased */
    font-size: 16px; /* slightly bigger */
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    color: #4b5563;
    border-radius: 50%;
    flex-shrink: 0;
    border: 1px solid #f9fafb;
}

.sub h2 {
    margin: 0;
    font-size: 18px;  /* slightly larger */
    font-weight: 600;
    color: #1f2937;
}

.sub p {
    margin: 5px 0 0;
    font-size: 13px;  /* increased */
    color: #6b7280;
    line-height: 1.45;
}

        /* Dark mode for sub elements */
        body.dark-mode .sub {
            background: #1e1e1e;
            border: 1px solid #333;
        }
        
        body.dark-mode .sub i {
            background: linear-gradient(135deg, #2d2d2d 0%, #252525 100%);
            color: #b0b0b0;
            border: 1px solid #333;
        }
        
        body.dark-mode .sub h2 {
            color: #f0f0f0;
        }
        
        body.dark-mode .sub p {
            color: #a0a0a0;
        }

    </style>


<style type="text/css">
  /* ==================== SOUND TRIBE ICON STYLES ==================== */

.sound-community-icon {
    position: absolute;
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    z-index: 10;
    transition: all 0.3s ease;
    border: 2px solid rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.sound-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #e74c3c;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border: 2px solid white;
}

/* Desktop positioning - EXTENDED DOWNWARD */
@media (min-width: 769px) {
    .sound-community-icon {
        /* Position from bottom to avoid slideshow controls */
        bottom: 80px;
        right: 20px;
        width: 55px;
        height: 55px;
        top: auto;
    }
    
    .sound-community-icon i {
        font-size: 22px;
    }
    
    .sound-community-icon:hover {
        transform: scale(1.15);
    }
}


    
    .sound-community-icon i {
        font-size: 18px;
    }
    
    .sound-community-icon:hover {
        transform: scale(1.15);
    }
}

.sound-community-icon:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    background: rgba(255, 255, 255, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.9);
}

.sound-community-icon i {
    transition: transform 0.3s ease;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.sound-community-icon:hover i {
    transform: scale(1.2);
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.7);
}

/* ==================== CAMPAIGN TIME LEFT - MOVED TO LEFT SIDE ==================== */

.campaign-time-left {
    position: absolute;
    bottom: 15px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: 13px;
    color: white;
    z-index: 5;
    background: rgba(0, 0, 0, 0.6);
    padding: 6px 12px;
    border-radius: 20px;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    margin-top: 0;
}

.campaign-time-left i {
    margin-right: 8px;
    color: #FFD700;
    font-size: 12px;
}

/* Desktop adjustments for time-left */
@media (min-width: 769px) {
    .campaign-time-left {
        font-size: 14px;
        padding: 8px 16px;
        bottom: 20px;
        left: 20px;
    }
    
    .campaign-time-left i {
        font-size: 14px;
        margin-right: 10px;
    }
}

/* Mobile adjustments for time-left */
@media (max-width: 768px) {
    .campaign-time-left {
        font-size: 12px;
        padding: 5px 10px;
        bottom: 10px;
        left: 10px;
        max-width: 180px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .campaign-time-left i {
        font-size: 11px;
        margin-right: 6px;
    }
}

/* Hover effect for time-left */
.campaign-time-left:hover {
    background: rgba(0, 0, 0, 0.8);
    border-color: rgba(255, 215, 0, 0.3);
    transform: translateY(-2px);
    transition: all 0.3s ease;
}

/* ==================== YOUR PROGRESS BAR STYLES (MODIFIED) ==================== */

/* Progress bar styles */
.progress-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.9);
    text-align: center;
    padding: 0 50px; /* Add padding to avoid overlap with time-left */
}

.progress-container {
    width: 100%;
    height: 10px;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 8px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4ECDC4, #42b883);
    border-radius: 5px;
    width: 65%;
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
    background-size: 10px 10px;
    animation: move 1s linear infinite;
    border-radius: 5px;
}

@keyframes move {
    0% { background-position: 0 0; }
    100% { background-position: 10px 0; }
}

.campaign-stats {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    text-align: center;
    padding: 0 50px; /* Add padding to avoid overlap with time-left */
}

/* Mobile-specific styles */
.mobile-goal-display {
    display: none;
    text-align: center;
    margin-top: 10px;
    padding: 0 60px; /* More padding for mobile to avoid overlap */
    font-size: 12px;
}

/* Campaign content below image */
.campaign-content {
    padding: 20px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
}

.campaign-title {
    font-size: 1.4rem;
    margin-bottom: 10px;
    color: white;
}

.campaign-description {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 15px;
    line-height: 1.5;
}

.campaign-creator {
    display: flex;
    align-items: center;
    color: rgba(255, 255, 255, 0.7);
}

.creator-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    margin-right: 10px;
    background: #4ECDC4;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* ==================== RESPONSIVE DESIGN ==================== */

@media (max-width: 768px) {
    .campaigns-grid {
        grid-template-columns: 1fr;
    }
    
    .campaign-action-icons {
        gap: 25px;
    }
    
    .action-icon {
        width: 70px;
        height: 70px;
    }
    
    .action-icon i {
        font-size: 28px;
    }
    
  
}

@media (max-width: 600px) {
    .campaign-image {
        height: 250px;
    }
    
    .campaign-action-icons {
        gap: 15px;
    }
    
    .action-icon {
        width: 60px;
        height: 60px;
    }
    
    .action-icon i {
        font-size: 24px;
    }
    
    .image-overlay-bottom {
        padding: 15px;
    }
    
    /* Hide detailed progress info on mobile */
    .progress-info, .campaign-stats {
        display: none;
    }
    
    /* Show simplified goal display on mobile */
    .mobile-goal-display {
        display: block;
        margin-top: 15px;
        font-size: 16px;
        font-weight: 600;
        color: #4ECDC4;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        padding: 0 80px; /* More padding to avoid time-left overlap */
    }
    
    /* Adjust progress bar for mobile */
    .progress-container {
        margin-bottom: 0;
        height: 8px;
    }
    
    /* Simplify the time display */
    .campaign-time-left {
        font-size: 13px;
        margin-top: 8px;
    }
}
</style>






   <style>



.campaign-image-container {
    position: relative;
    display: inline-block;
    width: 100%;
}

/* ==================== POPUP STYLES ==================== */

.sound-community-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

.sound-community-popup.active {
    display: flex;
}

.popup-content {
    background: white;
    border-radius: 16px;
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    animation: popupSlideIn 0.3s ease;
    position: relative;
}

.popup-loader {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: 16px;
}

.popup-loader i {
    font-size: 2rem;
    color: #3498db;
}

.popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 16px 16px 0 0;
}

.popup-header h3 {
    margin: 0;
    color: #2c3e50;
    font-weight: 700;
}

.close-popup {
    background: none;
    border: none;
    font-size: 20px;
    color: #7f8c8d;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close-popup:hover {
    color: #e74c3c;
}

.popup-body {
    padding: 20px;
}

/* ==================== ANIMATIONS ==================== */

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes popupSlideIn {
    from { 
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to { 
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* ==================== SOUND COMMUNITY CONTENT ==================== */

.sound-community-section {
    /* Container styles */
}

.sound-community-header {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
}

.sound-community-icon-container {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 12px;
    border-radius: 12px;
    margin-right: 15px;
}

.sound-community-icon-container i {
    color: white;
    font-size: 20px;
}

.sound-community-header-text h4 {
    margin: 0;
    color: #2c3e50;
    font-weight: 700;
}

.sound-community-header-text p {
    margin: 5px 0 0 0;
    color: #7f8c8d;
    font-size: 14px;
}

/* ==================== STATS SECTION ==================== */

.stats-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding: 15px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.stat-item {
    text-align: center;
    flex: 1;
}

.stat-value {
    font-size: 24px;
    font-weight: bold;
    color: #e74c3c;
    cursor: pointer;
    transition: color 0.3s ease;
}

.stat-value:hover {
    color: #c0392b;
}

.stat-label {
    font-size: 12px;
    color: #7f8c8d;
    margin-top: 5px;
}

.stat-divider {
    width: 1px;
    height: 40px;
    background: #ecf0f1;
}

/* ==================== JOIN BUTTON ==================== */

.join-section {
    margin-bottom: 20px;
}

.join-tribe-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.join-tribe-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.join-tribe-btn.joined {
    background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
    cursor: not-allowed;
}

.join-tribe-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none !important;
}

/* ==================== RECENT MEMBERS WITH PROFILE PICTURES ==================== */

.recent-members-container {
    background: white;
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.recent-members-header {
    color: #2c3e50;
    margin-bottom: 12px;
    font-weight: 600;
    display: flex;
    align-items: center;
}

.recent-members-header i {
    margin-right: 8px;
    color: #3498db;
}

.recent-members {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.member-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #ecf0f1;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 12px;
    color: #2c3e50;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.member-badge:hover {
    background: #3498db;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
    text-decoration: none;
}

.member-avatar {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid white;
}

.member-username {
    font-weight: 600;
    max-width: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.empty-state {
    text-align: center;
    color: #7f8c8d;
    padding: 20px;
    width: 100%;
}

.empty-state i {
    font-size: 24px;
    margin-bottom: 10px;
    display: block;
    opacity: 0.5;
}

/* ==================== RESPONSIVE DESIGN ==================== */

@media (max-width: 480px) {
    .popup-content {
        width: 95%;
        margin: 10px;
    }
    
   
    
    .sound-community-icon i {
        font-size: 16px;
    }
    
    .recent-members {
        gap: 6px;
    }
    
    .member-badge {
        padding: 6px 10px;
        font-size: 11px;
    }
    
    .member-avatar {
        width: 20px;
        height: 20px;
    }
    
    .member-username {
        max-width: 60px;
    }
}

/* ==================== DARK MODE STYLES ==================== */

.dark-mode .sound-community-icon {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(15px);
}

.dark-mode .sound-community-icon:hover {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid rgba(255, 255, 255, 0.4);
}

.dark-mode .sound-badge {
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: #ffffff;
    border: 2px solid #1a1a1a;
}

.dark-mode .sound-community-popup {
    background-color: rgba(0, 0, 0, 0.9);
}

.dark-mode .popup-content {
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    border: 1px solid #404040;
}

.dark-mode .popup-loader {
    background: rgba(26, 26, 26, 0.95);
}

.dark-mode .popup-loader i {
    color: #64b5f6;
}

.dark-mode .popup-header {
    background: linear-gradient(135deg, #2d2d2d 0%, #1f1f1f 100%);
    border-bottom: 1px solid #404040;
}

.dark-mode .popup-header h3 {
    color: #ffffff;
}

.dark-mode .close-popup {
    color: #b0b0b0;
    background: rgba(255, 255, 255, 0.1);
}

.dark-mode .close-popup:hover {
    color: #ff6b6b;
    background: rgba(255, 255, 255, 0.15);
}

.dark-mode .sound-community-header-text h4 {
    color: #ffffff;
}

.dark-mode .sound-community-header-text p {
    color: #b0b0b0;
}

.dark-mode .stats-container {
    background: linear-gradient(135deg, #2d2d2d 0%, #252525 100%);
    border: 1px solid #404040;
}

.dark-mode .stat-value {
    color: #64b5f6;
}

.dark-mode .stat-label {
    color: #b0b0b0;
}

.dark-mode .join-tribe-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.dark-mode .join-tribe-btn.joined {
    background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
}

.dark-mode .recent-members-container {
    background: linear-gradient(135deg, #2d2d2d 0%, #252525 100%);
    border: 1px solid #404040;
}

.dark-mode .recent-members-header {
    color: #ffffff;
}

.dark-mode .member-badge {
    background: linear-gradient(135deg, #363636 0%, #2d2d2d 100%);
    color: #e0e0e0;
    border: 1px solid #404040;
}

.dark-mode .member-badge:hover {
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: white;
    border-color: #3498db;
}

.dark-mode .empty-state {
    color: #888;
}

.dark-mode .empty-state i {
    color: #666;
}

/* ==================== ACCESSIBILITY ==================== */

@media (prefers-reduced-motion: reduce) {
    .sound-community-icon,
    .popup-content,
    .member-badge,
    .join-tribe-btn {
        transition: none;
    }
    
    .sound-community-icon:hover {
        transform: none;
    }
}

/* Scrollbar styling */
.popup-content::-webkit-scrollbar {
    width: 8px;
}

.popup-content::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

.popup-content::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

.popup-content::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

.dark-mode .popup-content::-webkit-scrollbar-track {
    background: #1a1a1a;
}

.dark-mode .popup-content::-webkit-scrollbar-thumb {
    background: #404040;
}

.dark-mode .popup-content::-webkit-scrollbar-thumb:hover {
    background: #555;
}








/* Dark mode support for PWA button */
.dark-mode .pwa-install-link,
[data-theme="dark"] .pwa-install-link {
    background: rgba(29, 155, 240, 0.15) !important;
    color: #71c7ff !important;
    border-color: rgba(29, 155, 240, 0.4) !important;
}

.dark-mode .pwa-install-link:hover,
[data-theme="dark"] .pwa-install-link:hover {
    background: rgba(29, 155, 240, 0.25) !important;
}

.dark-mode .pwa-help-text,
[data-theme="dark"] .pwa-help-text {
    color: #888 !important;
}





/* Tag badges styling */
.campaign-tags {
  padding-left: 8px;
    margin: 15px 0;
}

.tag-badge {
    display: inline-block;
    padding: 4px 12px;
    background: #e9ecef;
    border-radius: 15px;
    font-size: 12px;
    color: #495057;
    margin: 2px 4px 2px 0;
    transition: all 0.3s ease;
}

.tag-badge i {
    margin-right: 4px;
    opacity: 0.7;
}

/* Transparent Glass Dark Mode Tag Styling */
.dark-mode .campaign-tags {
    margin: 15px 0;
}

.dark-mode .tag-badge {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(255, 255, 255, 0.08); /* Transparent glass */
    border-radius: 15px;
    font-size: 12px;
    color: #e2e8f0;
    margin: 2px 4px 2px 0;
    border: 1px solid rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    transition: all 0.3s ease;
}

.dark-mode .tag-badge:hover {
    background: rgba(74, 222, 128, 0.15); /* Subtle green tint on hover */
    border-color: rgba(74, 222, 128, 0.3);
    transform: translateY(-1px);
    box-shadow: 0 4px 20px rgba(74, 222, 128, 0.15);
}

.dark-mode .tag-badge i {
    margin-right: 4px;
    opacity: 0.9;
    color: #4ade80; /* Your green logo color */
}

/* Transparent Glass for Tag Input */
.dark-mode #id_tags_input {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.12);
    color: #e2e8f0;
    backdrop-filter: blur(10px);
}

.dark-mode #id_tags_input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.dark-mode #id_tags_input:focus {
    border-color: rgba(59, 130, 246, 0.6); /* Your blue CTA color */
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background: rgba(255, 255, 255, 0.12);
}

/* Transparent Glass for Popular Tags */
.dark-mode .popular-tags {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
}

.dark-mode .popular-tags-title {
    color: rgba(255, 255, 255, 0.8);
    font-weight: 600;
}

.dark-mode .suggested-tag {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(5px);
}

.dark-mode .suggested-tag:hover {
    background: rgba(74, 222, 128, 0.2); /* Green tint */
    border-color: rgba(74, 222, 128, 0.4);
    color: #fff;
}

.tag-more {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px dashed rgba(255, 255, 255, 0.3) !important;
    cursor: pointer;
    font-style: italic;
}

.tag-more:hover {
    background: rgba(74, 222, 128, 0.1) !important;
    border-color: rgba(74, 222, 128, 0.4) !important;
}
</style>

<style>
    .upload-btn {
        display: inline-block;
        position: relative;
    }
    
    .upload-btn .btn {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border: 1px solid #d1d5db;
        color: #374151;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        display: flex;
        align-items: center;
        gap: 6px;
        text-decoration: none;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        min-height: 40px;
    }
    
    .upload-btn .btn:hover {
        background: linear-gradient(135deg, #e9ecef, #dde1e6);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateY(-2px);
        border-color: #9ca3af;
    }
    
    .upload-btn .btn:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .upload-btn .btn::before {
        content: '+';
        font-size: 28px;
        font-weight: 200;
        line-height: 1;
        display: inline-block;
        margin-right: 4px;
        color: #4b5563;
    }
    
    .upload-btn .btn span {
        font-size: 14px;
        font-weight: 500;
        color: #374151;
        letter-spacing: 0.3px;
    }
    
    .overlay-link {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1;
        text-decoration: none;
        border-radius: 20px;
    }

    .dark-mode .upload-btn .btn {
    background: linear-gradient(135deg, #374151, #1f2937);
    border: 1px solid #4b5563;
    color: #f3f4f6;
    box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

.dark-mode .upload-btn .btn:hover {
    background: linear-gradient(135deg, #4b5563, #374151);
    border-color: #6b7280;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

.dark-mode .upload-btn .btn::before {
    color: #f3f4f6;
}

.dark-mode .upload-btn .btn span {
    color: #f3f4f6;
}


/* Empty state for campaigns */
.no-campaigns {
    text-align: center;
    padding: 40px 15px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 10px;
    color: #6c757d;
    box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    margin-top: 20px;
}

.no-campaigns i {
    font-size: 48px;
    margin-bottom: 15px;
    color: #ced4da;
}

.no-campaigns p {
    margin: 0;
    font-size: 14px;
}

.no-campaigns .campaigns-time {
    display: flex;
    justify-content: center;
    margin-top: 10px;
    align-items: center;
}

.no-campaigns .campaigns-time i {
    font-size: 18px;
    margin-right: 8px;
    margin-bottom: 0;
}

/* Dark mode styles */
body.dark-mode .no-campaigns {
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    color: #e0e0e0;
    box-shadow: 0 3px 10px rgba(0,0,0,0.3);
}

body.dark-mode .no-campaigns i {
    color: #555555;
}

body.dark-mode .no-campaigns p {
    color: #aaaaaa;
}

body.dark-mode .no-campaigns .campaigns-time {
    color: #888888;
}


/* PWA Install Prompt */
.pwa-prompt {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    z-index: 10000;
    max-width: 320px;
    border: 1px solid #e0e0e0;
}

.pwa-prompt-content {
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.pwa-prompt-icon {
    font-size: 24px;
    flex-shrink: 0;
}

.pwa-prompt-text {
    flex-grow: 1;
}

.pwa-prompt-text h5 {
    margin: 0 0 5px 0;
    font-size: 16px;
}

.pwa-prompt-text p {
    margin: 0;
    font-size: 14px;
    color: #666;
}

.pwa-prompt-buttons {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

/* Standalone mode adjustments */
@media all and (display-mode: standalone) {
    body {
        padding-top: env(safe-area-inset-top);
    }
}


</style>



<!-- Add these styles to your existing CSS -->


<style type="text/css">
/* ==================== MOBILE-FIRST IMAGE CONTAINER ==================== */
.campaign-image-section {
    position: relative;
    width: 100%;
    overflow: hidden;
    display: block;
    background-color: #f5f5f5;
    
    /* Default mobile ratio */
    height: 0;
    padding-bottom: 133.33%; /* 3:4 aspect ratio */
}

/* Container that holds everything */
.campaign-image-container,
.slideshow-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Slideshow wrapper */
.slideshow-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
}

.slideshow-track {
    display: flex;
    height: 100%;
    width: 100%;
    transition: transform 0.4s ease;
}

.slide {
    flex: 0 0 100%;
    min-width: 100%;
    height: 100%;
    position: relative;
}

/* Images fill container perfectly */
.slide img,
.main-campaign-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    display: block;
    margin: 0;
    padding: 0;
    border: none;
    loading: lazy;
    decoding: async;
}

/* First image loads with priority */
.slide:first-child img {
    fetchpriority: high;
}

/* ==================== RESPONSIVE ASPECT RATIOS ==================== */
@media (min-width: 768px) {
    .campaign-image-section {
        padding-bottom: 75%; /* 4:3 aspect ratio */
    }
}

@media (min-width: 1024px) {
    .campaign-image-section {
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
    }
}

/* Modern aspect-ratio fallback */
@supports (aspect-ratio: 3/4) {
    .campaign-image-section {
        padding-bottom: 0;
        height: auto;
        aspect-ratio: 3/4;
    }
    
    @media (min-width: 768px) {
        .campaign-image-section {
            aspect-ratio: 4/3;
        }
    }
    
    @media (min-width: 1024px) {
        .campaign-image-section {
            aspect-ratio: 16/9;
        }
    }
}

/* ==================== OVERLAY POSITIONING ==================== */
.image-overlay-top,
.image-overlay-bottom,
.sound-community-icon,
.campaign-views-overlay,
.join-prompt,
.campaign-time-left {
    position: absolute;
    z-index: 10;
    pointer-events: none;
}

/* Make interactive elements clickable */
.sound-community-icon,
.campaign-views-overlay,
.join-prompt {
    pointer-events: auto;
    cursor: pointer;
}

/* Image Overlay Top */
.image-overlay-top {
    top: 0;
    left: 0;
    right: 0;
    padding: 12px 16px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
}

/* Image Overlay Bottom */
.image-overlay-bottom {
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Campaign Category */
.campaign-category {
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    padding: 6px 14px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    display: inline-block;
    font-size: 13px;
    color: white;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* ==================== ACTION ICONS ==================== */
.campaign-action-icons {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 20px;
    margin-top: 10px;
    flex-wrap: wrap;
    width: 100%;
}

.action-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 70px;
    height: 70px;
    background-color: transparent;
    border-radius: 50%;
    color: white;
    text-decoration: none;
    transition: all 0.4s ease;
    position: relative;
    border: 2px solid rgba(255, 255, 255, 0.7);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    cursor: pointer;
}

.action-icon:hover {
    transform: translateY(-8px) scale(1.05);
    border: 2px solid rgba(255, 255, 255, 1);
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.25),
                0 0 30px rgba(255, 215, 100, 0.5);
    background: rgba(255, 255, 255, 0.05);
}

.action-icon i {
    font-size: 28px;
    transition: all 0.3s ease;
}

.action-icon:hover i {
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
}

.action-icon .tooltip {
    content: attr(data-title);
    position: absolute;
    bottom: -40px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px 15px;
    border-radius: 6px;
    font-size: 14px;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 100;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.action-icon:hover .tooltip {
    opacity: 1;
    visibility: visible;
    bottom: -35px;
}

/* ==================== PROGRESS BAR ==================== */
.progress-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.9);
    text-align: center;
    padding: 0 50px;
    width: 100%;
}

.progress-container {
    width: 100%;
    height: 10px;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 8px;
    padding: 0 50px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4ECDC4, #42b883);
    border-radius: 5px;
    width: 65%;
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
    background-size: 10px 10px;
    animation: move 1s linear infinite;
    border-radius: 5px;
}

@keyframes move {
    0% { background-position: 0 0; }
    100% { background-position: 10px 0; }
}

.campaign-stats {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    text-align: center;
    padding: 0 50px;
    width: 100%;
}

/* Mobile Goal Display - SEPARATE ELEMENT */
.mobile-goal-display {
    display: none;
    text-align: center;
    font-size: 14px;
    font-weight: 600;
    color: #4ECDC4;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    padding: 8px 16px;
    background: rgba(0, 0, 0, 0.6);
    border-radius: 20px;
    margin: 0 auto;
    width: fit-content;
    backdrop-filter: blur(6px);
    border: 1px solid rgba(78, 205, 196, 0.3);
    z-index: 15;
    position: relative; /* Not absolute - flows in the container */
}

/* ==================== MOBILE POSITIONING ==================== */
@media (max-width: 768px) {
    /* Mobile Goal Display - show BELOW action icons */
    .mobile-goal-display {
        display: block;
        margin: 5px auto 10px auto !important; /* Space above and below */
        max-width: 280px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    /* Slideshow Dots - positioned ABOVE mobile goal display */
    .slideshow-dots {
        bottom: 80px !important; /* Above mobile-goal-display */
    }
    
    /* Hide detailed progress elements on mobile */
    .progress-info,
    .campaign-stats,
    .progress-container {
        display: none !important;
    }
}

/* ==================== VERY SMALL MOBILE OPTIMIZATION ==================== */
@media (max-width: 480px) {
    .slideshow-dots {
        bottom: 70px !important;
    }
    
    .dot {
        width: 6px !important;
        height: 6px !important;
    }
    
    .mobile-goal-display {
        font-size: 13px;
        padding: 6px 14px;
        max-width: 250px;
        margin: 5px auto 8px auto !important;
    }
}

/* ==================== DESKTOP POSITIONING ==================== */
@media (min-width: 769px) {
    .slideshow-dots {
        bottom: 30px !important;
    }
    
    .mobile-goal-display {
        display: none !important; /* Hidden on desktop */
    }
}

/* ==================== LAYOUT STRUCTURE ==================== */
/* Image Overlay Bottom - contains action icons and mobile goal display */
.image-overlay-bottom {
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 10;
}

/* Mobile layout order */
@media (max-width: 768px) {
    .image-overlay-bottom {
        padding: 15px 10px 25px 10px !important; /* More bottom padding for dots */
        gap: 8px;
    }
    
    /* Visual order: 1. Action Icons, 2. Mobile Goal Display */
    .campaign-action-icons {
        order: 1;
        margin-top: 10px;
        margin-bottom: 5px;
    }
    
    .mobile-goal-display {
        order: 2;
    }
    
    /* Slideshow dots are NOT in image-overlay-bottom */
    /* They are absolutely positioned separate from this container */
}

/* ==================== FIX Z-INDEX LAYERING ==================== */
/* Ensure dots are above everything except interactive elements */
.slideshow-dots {
    z-index: 20 !important; /* Above image overlay */
}

.campaign-action-icons,
.mobile-goal-display,
.campaign-time-left,
.sound-community-icon {
    z-index: 15 !important; /* Below dots for clickability */
}

/* Make sure dots don't block clicks on time-left and sound icon */
@media (max-width: 768px) {
    .campaign-time-left,
    .sound-community-icon {
        z-index: 25 !important; /* Above dots */
    }
}

/* ==================== HIDE DOTS WHEN ONLY ONE IMAGE ==================== */
/* This is important - hide dots if only one image exists */
.slideshow-container:has(.slide:only-child) .slideshow-dots,
.slideshow-container:has(.slide:first-child:last-child) .slideshow-dots {
    display: none !important;
}

/* ==================== DARK MODE ==================== */
.dark-mode .slideshow-dots .dot {
    background: rgba(255, 255, 255, 0.3) !important;
}

.dark-mode .slideshow-dots .dot.active {
    background: white !important;
}

.dark-mode .mobile-goal-display {
    background: rgba(0, 0, 0, 0.7);
    border-color: rgba(78, 205, 196, 0.4);
    color: #4ECDC4;
}
/* ==================== CAMPAIGN TIME LEFT ==================== */
.campaign-time-left {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: 13px;
    color: white;
    background: rgba(0, 0, 0, 0.6);
    padding: 6px 12px;
    border-radius: 20px;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    z-index: 15;
}

.campaign-time-left i {
    margin-right: 8px;
    color: #FFD700;
    font-size: 12px;
}

/* ==================== SOUND COMMUNITY ICON ==================== */
.sound-community-icon {
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
    border: 2px solid rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.sound-community-icon:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    background: rgba(255, 255, 255, 0.25);
    border: 2px solid rgba(255, 255, 255, 0.9);
    transform: scale(1.1);
}

.sound-community-icon i {
    transition: transform 0.3s ease;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    font-size: 20px;
}

.sound-community-icon:hover i {
    transform: scale(1.2);
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.7);
}

.sound-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #e74c3c;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border: 2px solid white;
}

/* ==================== CAMPAIGN VIEWS OVERLAY ==================== */
.campaign-views-overlay {
    background: rgba(0, 0, 0, 0.6);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 5px;
    backdrop-filter: blur(2px);
    cursor: pointer;
    transition: all 0.2s ease;
}

.campaign-views-overlay:hover {
    background: rgba(0, 0, 0, 0.8);
}

.campaign-views-overlay i {
    font-size: 12px;
}

.views-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 6px 10px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
    margin-bottom: 8px;
    pointer-events: none;
}

.views-tooltip:after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: rgba(0,0,0,0.8) transparent transparent transparent;
}

.campaign-views-overlay:hover .views-tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

/* ==================== JOIN PROMPT ==================== */
.join-prompt {
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 10px 15px;
    border-radius: 20px;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.blink-5s {
    animation: fadePulse 5s infinite;
}

@keyframes fadePulse {
    0%, 100% { 
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.95);
    }
}

/* ==================== NO IMAGE PLACEHOLDER ==================== */
.no-image-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #999;
    background: #f5f5f5;
}

.no-image-placeholder i {
    font-size: 48px;
    margin-bottom: 12px;
    opacity: 0.5;
}

/* ==================== SLIDESHOW DOTS - FIXED POSITIONING ==================== */

/* Slideshow Dots Container */
.slideshow-dots {
    position: absolute !important;
    bottom: 70px !important; /* Position above mobile-goal-display */
    left: 0 !important;
    right: 0 !important;
    display: flex !important;
    justify-content: center !important;
    gap: 8px !important;
    z-index: 20 !important; /* Above other elements */
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    margin: 0 !important;
    padding: 0 !important;
}

.dot {
    width: 8px !important;
    height: 8px !important;
    border-radius: 50% !important;
    border: none !important;
    background: rgba(255, 255, 255, 0.5) !important;
    cursor: pointer !important;
    padding: 0 !important;
    transition: all 0.3s ease !important;
    margin: 0 !important;
}

.dot.active {
    background: white !important;
    transform: scale(1.2) !important;
}

.dot:hover {
    background: rgba(255, 255, 255, 0.8) !important;
}


/* Slideshow Controls */
.slideshow-controls {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    padding: 0 10px;
    transform: translateY(-50%);
    z-index: 5;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.slideshow-container:hover .slideshow-controls {
    opacity: 1;
}

.slideshow-prev,
.slideshow-next {
    background: rgba(0, 0, 0, 0.5);
    border: none;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    transition: all 0.3s ease;
}

.slideshow-prev:hover,
.slideshow-next:hover {
    background: rgba(0, 0, 0, 0.8);
    transform: scale(1.1);
}

/* ==================== DESKTOP POSITIONING ==================== */
@media (min-width: 769px) {
    /* Sound Community Icon */
    .sound-community-icon {
        bottom: 100px;
        right: 20px;
        width: 55px;
        height: 55px;
    }
    
    .sound-community-icon i {
        font-size: 22px;
    }
    
    /* Campaign Views Overlay */
    .campaign-views-overlay {
        top: 15px;
        right: 15px;
    }
    
    /* Campaign Time Left */
    .campaign-time-left {
        bottom: 100px;
        left: 20px;
        font-size: 14px;
        padding: 8px 16px;
    }
    
    .campaign-time-left i {
        font-size: 14px;
        margin-right: 10px;
    }
    
    /* Join Prompt */
    .join-prompt {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        position: absolute;
    }
    
    /* Progress elements - show on desktop */
    .progress-info,
    .progress-container,
    .campaign-stats {
        display: flex;
    }
    
    .mobile-goal-display {
        display: none;
    }
    
    /* Slideshow Dots - desktop */
    .slideshow-dots {
        bottom: 30px !important;
    }
}

/* ==================== MOBILE POSITIONING - ELEMENTS MOVED UP ==================== */
@media (max-width: 768px) {
    /* Sound Community Icon - MOVED UP HIGHER */
    .sound-community-icon {
        bottom: 160px;
        right: 15px;
        width: 45px;
        height: 45px;
    }
    
    .sound-community-icon i {
        font-size: 18px;
    }
    
    /* Campaign Views Overlay */
    .campaign-views-overlay {
        top: 15px;
        right: 15px;
    }
    
    /* Campaign Time Left - MOVED UP HIGHER */
    .campaign-time-left {
        bottom: 160px;
        left: 10px;
        font-size: 12px;
        padding: 6px 10px;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(8px);
    }
    
    .campaign-time-left i {
        font-size: 11px;
        margin-right: 6px;
        color: #4ECDC4;
    }
    
    /* Action Icons - MOVED UP HIGHER */
    .campaign-action-icons {
        gap: 25px;
        margin-bottom: 15px;
        margin-top: 20px;
    }
    
    .action-icon {
        width: 55px;
        height: 55px;
        border: 2px solid rgba(255, 255, 255, 0.8);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .action-icon i {
        font-size: 22px;
    }
    
    /* Reduce hover effects on mobile */
    .action-icon:hover {
        transform: translateY(-3px) scale(1.05);
    }
    
    /* Progress elements - hide detailed, show mobile version */
    .progress-info,
    .campaign-stats {
        display: none;
    }
    
    .progress-container {
        display: none;
    }
    
    /* Mobile Goal Display - show and position */
    .mobile-goal-display {
        display: block;
        margin: 10px auto 5px auto;
        max-width: 280px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    /* Join Prompt - adjust to avoid overlap */
    .join-prompt {
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 8px 12px;
        font-size: 13px;
    }
    
    /* Image Overlay Bottom - adjust padding */
    .image-overlay-bottom {
        padding: 15px 10px 20px 10px;
        gap: 12px;
    }
    
    /* Mobile slideshow controls - ALWAYS SHOW */
    .slideshow-controls {
        opacity: 1 !important;
        pointer-events: auto !important;
    }
    
    .slideshow-prev,
    .slideshow-next {
        min-width: 44px !important;
        min-height: 44px !important;
    }
    
    /* Slideshow Dots - mobile positioning */
    .slideshow-dots {
        bottom: 50px !important;
    }
    
    .dot {
        width: 6px !important;
        height: 6px !important;
    }
}

/* ==================== VERY SMALL MOBILE OPTIMIZATION ==================== */
@media (max-width: 480px) {
    .sound-community-icon {
        bottom: 140px;
        width: 42px;
        height: 42px;
    }
    
    .campaign-time-left {
        bottom: 140px;
        font-size: 11px;
        padding: 5px 8px;
        max-width: 150px;
    }
    
    .campaign-action-icons {
        gap: 20px;
    }
    
    .action-icon {
        width: 50px;
        height: 50px;
    }
    
    .action-icon i {
        font-size: 20px;
    }
    
    .mobile-goal-display {
        font-size: 13px;
        padding: 6px 14px;
        max-width: 250px;
    }
    
    .image-overlay-bottom {
        padding: 12px 8px 18px 8px;
        gap: 10px;
    }
    
    /* Ensure touch targets are large enough */
    .action-icon,
    .sound-community-icon {
        min-width: 44px;
        min-height: 44px;
    }
    
    .campaign-time-left {
        padding: 8px 12px;
    }
    
    /* Slideshow dots for very small screens */
    .slideshow-dots {
        bottom: 45px !important;
    }
    
    .dot {
        width: 5px !important;
        height: 5px !important;
    }
}

/* ==================== DARK MODE ==================== */
.dark-mode .campaign-image-section {
    background-color: #1a1a1a;
}

.dark-mode .image-overlay-top {
    background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
}

.dark-mode .image-overlay-bottom {
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
}

.dark-mode .mobile-goal-display {
    background: rgba(0, 0, 0, 0.7);
    border-color: rgba(78, 205, 196, 0.4);
    color: #4ECDC4;
}

.dark-mode .campaign-time-left {
    background: rgba(0, 0, 0, 0.7);
    border-color: rgba(255, 255, 255, 0.15);
}

.dark-mode .no-image-placeholder {
    background: #2d2d2d;
    color: #666;
}

.dark-mode .slideshow-prev,
.dark-mode .slideshow-next {
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
}

.dark-mode .slideshow-prev:hover,
.dark-mode .slideshow-next:hover {
    background: rgba(255, 255, 255, 0.3);
}

.dark-mode .dot {
    background: rgba(255, 255, 255, 0.3) !important;
}

.dark-mode .dot.active {
    background: white !important;
}

/* ==================== FORCE SLIDESHOW DOTS VISIBILITY ==================== */
/* This ensures dots are always visible and positioned correctly */
.slideshow-container .slideshow-dots {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* Ensure dots don't get hidden by other elements */
.slideshow-dots {
    z-index: 20 !important; /* Highest z-index */
}

/* Fix for when there's only one image */
.slideshow-container:has(.slide:only-child) .slideshow-dots {
    display: none !important; /* Hide dots if only one image */
}

/* ==================== REMOVE CONFLICTING STYLES ==================== */
/* Remove any duplicate or conflicting styles that might hide dots */
.campaign-image-container img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: center center !important;
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    position: absolute !important;
    top: 0;
    left: 0;
}

/* Ensure container doesn't hide overflow that affects dots */
.campaign-image-container,
.slideshow-container {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: visible !important; /* Allow dots to be visible */
}

/* Ensure wrapper doesn't hide dots */
.slideshow-wrapper {
    width: 100%;
    height: 100%;
    position: relative;
}

/* Remove conflicting max-height constraints */
@media (max-width: 768px) {
    .simple-campaign-card,
    .campaign-image-section,
    .campaign-image-container,
    .slideshow-container {
        max-height: none !important;
    }
}


/* ==================== SLIDESHOW DOTS - MOBILE POSITION FIX ==================== */

/* Slideshow Dots Container - MOBILE SPECIFIC */
@media (max-width: 768px) {
    .slideshow-dots {
        bottom: 90px !important; /* MOVED UP from 80px to 100px */
        gap: 6px !important;
    }
    
    .dot {
        width: 7px !important;
        height: 7px !important;
    }
}

/* Very Small Mobile Adjustment */
@media (max-width: 480px) {
    .slideshow-dots {
        bottom: 80px !important; /* MOVED UP from 70px to 90px */
    }
    
    .dot {
        width: 6px !important;
        height: 6px !important;
    }
}

/* Keep Desktop Dots Position */
@media (min-width: 769px) {
    .slideshow-dots {
        bottom: 20px !important;
    }
}

    .views-label {
        font-size: 10px;
        opacity: 0.7;
    }
}

/* Very small mobile */
@media (max-width: 480px) {
    .campaign-views-overlay {
        top: 8px;
        right: 8px;
        padding: 4px 8px;
        font-size: 11px;
    }
    
    /* Optionally hide "Views" text on very small screens for space */
    .views-label {
        display: none;
    }
}
/* ==================== CAMPAIGN MENU - FIXED TO CAMPAIGN ONLY ==================== */
.simple-campaign-card .campaign-menu {
    position: absolute !important;
    top: 15px !important;
    right: 50px !important;
    z-index: 100 !important;
}

/* Make menu dropdown appear above campaign elements */
.simple-campaign-card .menu-dropdown {
    z-index: 101 !important;
    position: absolute !important;
}

/* Ensure menu stays within campaign card boundaries */
.simple-campaign-card {
    position: relative !important;
    overflow: visible !important;
}

/* Mobile adjustment */
@media (max-width: 768px) {
    .simple-campaign-card .campaign-menu {
        top: 10px !important;
        right: 45px !important;
    }
}

/* Make sure other campaign elements have lower z-index */
.simple-campaign-card .campaign-views-overlay,
.simple-campaign-card .image-overlay-top {
    z-index: 90 !important;
}



/* ==================== HIDE SLIDESHOW CONTROLS ON MOBILE ==================== */
@media (max-width: 768px) {
    /* Hide prev/next buttons on mobile by default */
    .slideshow-prev,
    .slideshow-next {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
    
    /* Remove any hover effect for mobile */
    .slideshow-container:hover .slideshow-controls {
        opacity: 0 !important;
    }
    
    /* Ensure controls container doesn't interfere with clicks */
    .slideshow-controls {
        display: none !important;
        pointer-events: none !important;
    }
}

/* ==================== SHOW CONTROLS ON DESKTOP ==================== */
@media (min-width: 769px) {
    .slideshow-prev,
    .slideshow-next {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
    }
    
    .slideshow-controls {
        display: flex !important;
        pointer-events: auto !important;
    }
    
    /* Keep the hover effect for desktop */
    .slideshow-container:hover .slideshow-controls {
        opacity: 1 !important;
    }
}


/* ==================== FIX MENU BELOW SEARCH BAR ==================== */
.rallynex-header-container {
    z-index: 1000 !important; /* Search bar on top */
}

.simple-campaign-card .campaign-menu {
    z-index: 100 !important; /* Menu below search bar */
}

.simple-campaign-card .menu-dropdown {
    z-index: 101 !important; /* Dropdown below search bar too */
}

/* Ensure when search popup is active, menu goes below it */
.rallynex-mobile-search-popup.active {
    z-index: 1001 !important; /* Search popup highest */
}

/* Mobile specific - ensure menu respects search bar */
@media (max-width: 768px) {
    .rallynex-header-container {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 1000 !important;
        background: white;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        padding: 8px 15px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .dark-mode .rallynex-header-container {
        background: #1a1a1a;
    }
    
    /* Push all content below header */
    .simple-campaign-card {
        position: relative;
        z-index: auto !important;
    }
    
    /* Menu inside campaign - below header */
    .simple-campaign-card .campaign-menu {
        z-index: 99 !important;
    }
    
    /* Search popup when active - absolute top */
    .rallynex-mobile-search-popup.active {
        position: fixed !important;
        top: 50px !important; /* Below header */
        z-index: 999 !important;
    }
}

/* Mobile styles */
@media (max-width: 768px) {
    /* FIXED: Proper sticky header */
    .rallynex-header-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(192, 192, 192, 0.2);
        z-index: 1000;
        padding: 8px 15px;
        box-sizing: border-box;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    /* FIXED: Main content wrapper with proper top margin */
    main {
        display: flex;
        justify-content: space-around;
        padding: 0;
        margin-top: 50px !important; /* Push content below fixed header - MOBILE ONLY */
    }

    /* FIXED: Sub section - JUST NEEDS TO CLEAR THE 50px HEADER */
    .sub {
        display: flex;
        align-items: center;
        gap: 12px;
   
        padding: 14px;
        border-radius: 10px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        transition: transform 0.2s ease;
        position: relative;
        z-index: 1;
    }

    .dark-mode .rallynex-header-container {
        background: rgba(26, 26, 26, 0.95);
        border-bottom: 1px solid rgba(58, 58, 58, 0.3);
    }

    /* NEW: Beautiful mobile search popup with silver icons */
    .rallynex-mobile-search-popup {
        display: none;
        position: fixed;
        top: 50px;
        left: 0;
        right: 0;
        width: 100%;
        background: white;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        z-index: 9999;
        box-sizing: border-box;
    }

    .rallynex-mobile-search-popup.active {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    /* NEW: Search wrapper with silver icons */
    .rallynex-mobile-search-wrapper {
        flex: 1;
        position: relative;
        display: flex;
        align-items: center;
    }

    .rallynex-mobile-search-wrapper input {
        width: 100%;
        padding: 12px 45px 12px 15px;
        border: 1px solid #ddd;
        border-radius: 20px;
        font-size: 14px;
        background: white;
        color: #333;
        transition: all 0.3s ease;
    }

    .rallynex-mobile-search-wrapper input:focus {
        outline: none;
        border-color: #c0c0c0;
        box-shadow: 0 0 0 2px rgba(192, 192, 192, 0.1);
    }

    /* NEW: Silver icons (replacing buttons) */
    .rallynex-clear-search,
    .rallynex-mobile-search-wrapper button[type="submit"] {
        position: absolute;
        background: transparent;
        border: none;
        cursor: pointer;
        color: #c0c0c0; /* Silver color */
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
    }

    .rallynex-clear-search {
        right: 35px;
        opacity: 0;
        visibility: hidden;
    }

    .rallynex-clear-search.visible {
        opacity: 1;
        visibility: visible;
    }

    .rallynex-mobile-search-wrapper button[type="submit"] {
        right: 10px;
    }

    .rallynex-clear-search:hover,
    .rallynex-mobile-search-wrapper button[type="submit"]:hover {
        color: #a0a0a0; /* Darker silver on hover */
    }

    /* NEW: Close button as silver icon */
    .rallynex-close-mobile-search {
        font-size: 20px;
        cursor: pointer;
        color: #c0c0c0; /* Silver color */
        background: transparent;
        border: none;
        padding: 4px;
        border-radius: 50%;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
    }

    .rallynex-close-mobile-search:hover {
        color: #a0a0a0;
        background: rgba(192, 192, 192, 0.1);
    }

    /* Mobile search icon in header */
    .rallynex-mobile-search-icon {
        display: block !important;
        font-size: 20px;
        color: #c0c0c0; /* Silver color */
        cursor: pointer;
        padding: 6px;
        border-radius: 50%;
        transition: all 0.2s ease;
        background: transparent;
        border: none;
    }

    .rallynex-mobile-search-icon:hover {
        color: #a0a0a0;
        background: rgba(192, 192, 192, 0.1);
    }

    /* Hide the original search container on mobile */
    .rallynex-search-container form {
        display: none !important;
    }

    /* Dark Mode for Mobile Search */
    .dark-mode .rallynex-mobile-search-popup {
        background: #1e1e1e;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .dark-mode .rallynex-mobile-search-wrapper input {
        background: #2d2d2d;
        border-color: #444;
        color: #e0e0e0;
    }

    .dark-mode .rallynex-mobile-search-wrapper input:focus {
        border-color: #c0c0c0;
        box-shadow: 0 0 0 2px rgba(192, 192, 192, 0.1);
    }

    .dark-mode .rallynex-clear-search,
    .dark-mode .rallynex-mobile-search-wrapper button[type="submit"],
    .dark-mode .rallynex-close-mobile-search,
    .dark-mode .rallynex-mobile-search-icon {
        color: #8a8a8a; /* Silver in dark mode */
    }

    .dark-mode .rallynex-clear-search:hover,
    .dark-mode .rallynex-mobile-search-wrapper button[type="submit"]:hover,
    .dark-mode .rallynex-close-mobile-search:hover,
    .dark-mode .rallynex-mobile-search-icon:hover {
        color: #b0b0b0;
        background: rgba(192, 192, 192, 0.05);
    }
}

/* Desktop styles - UNCHANGED */
@media (min-width: 769px) {
    .rallynex-header-container {
        display: none !important;
    }

    .rallynex-mobile-search-icon,
    .rallynex-mobile-search-popup,
    .rallynex-clear-search {
        display: none !important;
    }

    main {
        display: flex;
        justify-content: space-around;
        padding: 0;
        /* NO margin-top on desktop - web version stays the same */
        margin-top: 0;
    }

    section {
        flex: 3;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 750px;
        padding: 0;
        box-sizing: border-box;
        border: 1px solid whitesmoke;
        margin: 0 auto;
    }

    /* Desktop sub section - UNCHANGED from your original */
    .sub {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 14px; /* Original margin */
        padding: 14px;
        border-radius: 10px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        transition: transform 0.2s ease;
    }
}

/* Common styles for both mobile and desktop */
.sub:hover {
    transform: translateY(-2px);
}

.sub i {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    font-size: 16px;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    color: #4b5563;
    border-radius: 50%;
    flex-shrink: 0;
    border: 1px solid #f9fafb;
}

.sub h2 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
}

.sub p {
    margin: 5px 0 0;
    font-size: 13px;
    color: #6b7280;
    line-height: 1.45;
}

/* Dark mode */
body.dark-mode .sub {
    background: #1e1e1e;
    border: 1px solid #333;
}

body.dark-mode .sub i {
    background: linear-gradient(135deg, #2d2d2d 0%, #252525 100%);
    color: #b0b0b0;
    border: 1px solid #333;
}

body.dark-mode .sub h2 {
    color: #f0f0f0;
}

body.dark-mode .sub p {
    color: #a0a0a0;
}

/* PWA Safe area support - MOBILE ONLY */
@supports (padding: max(0px)) {
    @media (max-width: 768px) {
        .rallynex-header-container {
            padding-top: max(8px, env(safe-area-inset-top));
            height: calc(50px + max(0px, env(safe-area-inset-top)));
        }
        
        main {
            margin-top: calc(50px + max(0px, env(safe-area-inset-top))) !important;
        }
        
       
    }
}

header {
    background-color: #ffffff; /* Added proper background color */
    color: grey;
    padding: 0;
    text-align: center;
    /* Fix for PWA header */
    position: relative;
    z-index: 100;
}

main {
    display: flex;
    justify-content: space-around;
    padding: 0;
    /* Ensure main content starts below header */
    margin-top: 0;
}

section {
    flex: 3;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 750px;
    padding: 0;
    box-sizing: border-box;
    border: 1px solid whitesmoke;
    margin: 0 auto;
}

/* Media query for smaller screens */
@media (max-width: 768px) {
    section {
        width: calc(100vw - 2px);
    }
    
    /* Additional PWA mobile fixes */
    body {
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
    }
}

.left-aside, .right-aside {
    flex: 1;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

/* iOS PWA specific fixes */
@supports (padding: max(0px)) {
    body {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-top: max(0px, env(safe-area-inset-top));
    }
}

/* Ensure content doesn't hide behind status bar */
@media all and (display-mode: standalone) {
    body {
        padding-top: env(safe-area-inset-top);
    }
}

nav a {
    text-decoration: none;
    font-weight: bold;
    padding: 8px 10px;
    display: block;
    transition: background-color 0.3s ease;
    border-bottom: 1px solid #e6e6e6;
}

nav a:hover {
    background-color: limegreen; /* Light lime green on hover */
}
/* Mobile styles */
@media (max-width: 768px) {
    /* FIXED: Proper sticky header */
    .rallynex-header-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(192, 192, 192, 0.2);
        z-index: 1000;
        padding: 8px 15px;
        box-sizing: border-box;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    /* FIXED: Main content wrapper with proper top margin */
    main {
        display: flex;
        justify-content: space-around;
        padding: 0;
        margin-top: 50px !important; /* Push content below fixed header - MOBILE ONLY */
    }



    /* ... rest of mobile styles ... */
}

/* PWA Safe area support - MOBILE ONLY */
@supports (padding: max(0px)) {
    @media (max-width: 768px) {
        .rallynex-header-container {
            padding-top: max(8px, env(safe-area-inset-top));
            height: calc(50px + max(0px, env(safe-area-inset-top)));
        }
        
        main {
            margin-top: calc(50px + max(0px, env(safe-area-inset-top))) !important;
        }
        
        .sub {
            margin-top: 0 !important; /* NO top margin */
        }
    }
}






/* For your top-navigation-container (mobile search) */
@media (max-width: 768px) {
    .top-navigation-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: white;
        z-index: 1000;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin: 0;
        width: 100%;
        box-sizing: border-box;
        height: 50px;
    }
    
    /* The spacer div - REDUCED height */
    .search-spacer {
        height: 55px; /* Reduced from 60px to 55px */
        display: block;
        width: 100%;
        background: transparent;
    }
    
    /* Sub section with REDUCED spacing */
    .sub {
        display: flex;
        align-items: center;
        gap: 12px;
        margin: 10px 15px 14px 15px !important; /* Only 10px top margin now */
        padding: 14px;
        border-radius: 10px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        transition: transform 0.2s ease;
        position: relative;
        z-index: 1;
    }
    
    /* Also apply the body padding fix */
    body:has(.top-navigation-container) {
        padding-top: 50px !important;
    }
}

/* PWA Safe area support - MOBILE ONLY */
@supports (padding: max(0px)) {
    @media (max-width: 768px) {
        .top-navigation-container {
            padding-top: max(8px, env(safe-area-inset-top));
            height: calc(50px + max(0px, env(safe-area-inset-top)));
        }
        
        .search-spacer {
            height: calc(55px + max(0px, env(safe-area-inset-top))) !important;
        }
        
        .sub {
            margin-top: calc(10px + max(0px, env(safe-area-inset-top))) !important;
        }
    }
}

/* Desktop styles - UNCHANGED */
@media (min-width: 769px) {
    .top-navigation-container,
    .search-spacer {
        display: none;
    }
    
    /* Reset for desktop */
    .sub {
        margin-bottom: 14px; /* Original margin */
    }
}

/* Dark mode for search spacer */
.dark-mode .search-spacer {
    background: transparent;
}






/* Show only on mobile (max width 768px) */
@media (max-width: 768px) {
    .top-navigation-container {
        display: flex;
    }
}

/* Hide on tablets and desktop (min width 769px) */
@media (min-width: 769px) {
    .top-navigation-container {
        display: none;
    }
}

    .back-arrow-container {
        flex: 0 0 auto;
    }

    .go-back-arrow {
        color: #555;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 8px;
    }

    .go-back-arrow:hover {
        color: #000;
        background: rgba(0,0,0,0.05);
        border-radius: 4px;
    }

    .search-form {
        flex: 1;
        max-width: 500px;
        margin-left: auto;
    }

    .search-wrapper {
        position: relative;
        display: flex;
        align-items: center;
    }

    #query-field {
        width: 100%;
        padding: 8px 40px 8px 15px;
        border: 1px solid #ddd;
        border-radius: 20px;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    #query-field:focus {
        outline: none;
        border-color: #777;
        box-shadow: 0 0 0 2px rgba(0,0,0,0.05);
    }

    .btn-reset, .btn-search {
        position: absolute;
        background: transparent;
        border: none;
        cursor: pointer;
        color: #777;
        transition: all 0.2s ease;
    }

    .btn-reset {
        right: 35px;
    }

    .btn-search {
        right: 10px;
    }

    .btn-reset:hover, .btn-search:hover {
        color: #333;
    }

    .content {
        padding: 20px;
    }
        /* Dark Mode Classes - Add these without changing original code */
.dark-mode .top-navigation-container {
  background: #1e1e1e;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  transition: background-color 0.2s ease;
}

.dark-mode .go-back-arrow {
  color: #aaa;
  transition: color 0.2s ease;
}

.dark-mode .go-back-arrow:hover {
  color: #64b5f6;
  background: rgba(100, 181, 246, 0.1);
}

.dark-mode .search-form {
  background: transparent;
}

.dark-mode #query-field {
  background: #2d2d2d;
  border-color: #444;
  color: #e0e0e0;
  transition: all 0.2s ease;
}

.dark-mode #query-field:focus {
  border-color: #64b5f6;
  box-shadow: 0 0 0 2px rgba(100, 181, 246, 0.1);
}

.dark-mode .btn-reset,
.dark-mode .btn-search {
  color: #aaa;
  transition: color 0.2s ease;
}

.dark-mode .btn-reset:hover,
.dark-mode .btn-search:hover {
  color: #64b5f6;
}

.dark-mode .content {
  background: #121212;
  color: #e0e0e0;
  transition: background-color 0.2s ease;
}





</style>





</head>



<body id="mainBody" >





<header>
    
  





</div>


  <nav id="navbar" class="navbar">
        <!-- Main bottom navigation (5 items) -->
        <ul class="bottom-nav">
            <li>
                <a href="{% url 'home' %}" class="{% if request.path == '/' %}active{% endif %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2L2 7V22H22V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    {% if new_campaigns_from_follows %}
                        <span class="alert-badge">{{ new_campaigns_from_follows.count }}</span>
                    {% endif %}
                </a>
            </li>
            
            <li>
                <a href="{% url 'suggest' %}" class="{% if 'suggest' in request.path %}active{% endif %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17 3.13C17.8604 3.35031 18.623 3.85071 19.1676 4.55232C19.7122 5.25392 20.0078 6.11683 20.0078 7.005C20.0078 7.89318 19.7122 8.75608 19.1676 9.45769C18.623 10.1593 17.8604 10.6597 17 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </li>
            
            <li class="create-btn-container">
                <a href="{% url 'create_campaign' %}" class="create-btn" onclick="handleCreateClick(event)">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 4V20M4 12H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </a>
            </li>
            
            <li>
                <a href="{% url 'notification_list' %}" class="{% if 'notification' in request.path %}active{% endif %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    {% if unread_notifications %}
                        <span class="alert-badge">{{ unread_notifications.count }}</span>
                    {% endif %}
                </a>
            </li>
            
            <li class="menu-toggle">
                <a href="#" onclick="toggleMenu(event)">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Hidden menu that appears when hamburger is clicked -->
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>

    <div class="navbar-dropdown-menu" id="navbarDropdownMenu">
        <ul>
            

            <li>
                {% if not user.is_anonymous %}
                <a href="{% url 'profile_view' username=request.user.username %}" class="{% if 'profile' in request.path %}active{% endif %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Profile</span>
                </a>
                {% else %}
                <span class="anonymous-label">Anonymous User</span>
                {% endif %}
            </li>
            
            <li>
                <a href="#" onclick="switchColor()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 3V5M18.36 5.64L16.95 7.05M21 12H19M18.36 18.36L16.95 16.95M12 19V21M7.05 16.95L5.64 18.36M5 12H3M7.05 7.05L5.64 5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Switch Mode</span>
                </a>
            </li>
            
            <li>
                <a href="{% url 'private_campaign' %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M19 11H5C3.89543 11 3 11.8954 3 13V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V13C21 11.8954 20.1046 11 19 11Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    <span>Private</span>
                </a>
            </li>
            
            <li>
                <a href="{% url 'user_chats' %}">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    <span>Chat Room</span>
                    {% if unread_messages_count %}
                        <span class="alert-badge chat-alert">{{ unread_messages_count }}</span>
                    {% endif %}
                </a>
            </li>
            
            <li>
                <a href="{% url 'index' %}" title="Explore" class="explore-link" style="margin-left: 10px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Explore</span>
                </a>
            </li>
              
            <li>
                <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 17L21 12L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Logout</span>
                </a>
                <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
                    {% csrf_token %}
                </form>
            </li>
<!-- PWA Install Button - Blue Theme -->
<li class="d-block d-md-none" style="margin: 8px 8px 4px 8px; padding: 0;">
    <a href="javascript:void(0)" onclick="showPWAInstall()" 
       style="display: flex; align-items: center; gap: 10px; padding: 10px 12px; background: rgba(29, 155, 240, 0.1); color: #1d9bf0; border: 1px solid rgba(29, 155, 240, 0.3); border-radius: 8px; text-decoration: none; font-weight: 500; font-size: 14px; transition: all 0.2s ease;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" style="flex-shrink: 0;">
            <path d="M12 2C12 2 12 7 12 12C12 17 12 22 12 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M17 7L12 2L7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12H7H12H17H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Install App</span>
        <small style="background: #1d9bf0; color: white; padding: 2px 6px; border-radius: 6px; font-size: 9px; margin-left: auto; font-weight: bold;">New</small>
    </a>
    <div style="text-align: center; margin-top: 4px;">
        <small style="color: #666; font-size: 11px;">Better mobile experience</small>
    </div>
</li>
        </ul>
    </div>

<!-- Search container can be removed since search is now in the bottom nav -->
</header>



  <main>




<aside class="left-aside">

<h3 style="
    font-family: 'Courier New', monospace;
    color: #ffffff;
    background: linear-gradient(135deg, #c0c0c0, #f8f8f8);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 
        0 1px 1px rgba(0,0,0,0.3),
        0 0 8px rgba(255,255,255,0.4);
    font-weight: bold;
    letter-spacing: 3px;
    font-size: 24px;
    padding: 4px 12px; /* reduced top/bottom padding (4px), kept left/right (12px) */
    display: inline-block;
    border-radius: 3px;
    backdrop-filter: brightness(1.2);
    margin: 0;
    z-index: 1000;
"><img src="{% static 'main/files/w.png' %}" alt="Rallynex Logo" style="height: 50px; width: 50px;"> RALLYNEX</h3>

    <!-- Updated the <nav> tag to <nav class="campaign-nav"> -->
<nav class="campaign-nav">
    <ul>
        <!-- Home link with red spot -->
        <li>
            <a href="{% url 'home' %}" style="color: black; position: relative;">
                <i class="fas fa-home"></i> Home
                {% if new_campaigns_from_follows %}
                    <span id="home-alert" class="alert-badge">{{ new_campaigns_from_follows.count }}</span> <!-- Red alert spot -->
                {% endif %}
            </a>
        </li>

        <li>
            <a href="#" onclick="switchColor()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 3V5M18.36 5.64L16.95 7.05M21 12H19M18.36 18.36L16.95 16.95M12 19V21M7.05 16.95L5.64 18.36M5 12H3M7.05 7.05L5.64 5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Switch Mode</span>
            </a>
        </li>
        
        <li><a href="{% url 'private_campaign' %}" style="color: black;"><i class="fas fa-lock"></i> Private </a></li>

        <!-- Chat Table link with red spot -->
        <li>
            <a href="{% url 'user_chats' %}" style="color: black; position: relative;">
                <i class="fas fa-comment-alt"></i> Chat Room
                {% if unread_messages_count %}
                    <span id="chat-alert" class="alert-badge" style="background-color: red;">{{ unread_messages_count }}</span>
                {% endif %}
            </a>
        </li>

        <!-- Notification icon with red spot -->
        <li>
            <a href="{% url 'notification_list' %}" style="color: black; position: relative;">
                <i class="fas fa-bell"></i>
                {% if unread_notifications %}
                    <span id="notification-alert" class="alert-badge">{{ unread_notifications.count }}</span>
                {% endif %}
                Notification
            </a>
        </li>

        <li><a href="{% url 'suggest' %}" style="color: black;"><i class="fas fa-user-friends"></i> Suggested Users</a></li>

        <li>
            <a href="{% url 'index' %}" title="Explore" style="color: black;">
                <i class="fas fa-compass" style="font-size: 14px;"> Explore</i>
            </a>
        </li>
        
        <!-- User Profile link -->
        <li>
            <a href="{% url 'profile_view' username=request.user.username %}" style="color: black;">
                <i class="fas fa-user-circle"></i> My Profile
            </a>
        </li>

        <!-- Logout link -->
        <li>
            <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
            <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
                {% csrf_token %}
            </form>
        </li>
    </ul>
</nav>
      

    <div class="upload-container hide-on-mobile">
<div class="upload-btn">
    <button class="btn">
        <span>Upload</span>
        <a href="{% url 'create_campaign' %}" class="overlay-link"></a>
    </button>
</div>

</div>

<div class="dashboard-snaps">
  <div class="snaps-header">
    <h3 class="snaps-title"><i class="fas fa-bolt"></i> Quick Actions</h3>
  </div>

  <div class="snaps-grid">
    <a href="{% url 'create_campaign' %}" class="snap-link">
      <i class="snap-icon fas fa-bullhorn"></i>
      <span class="snap-label">Start Campaign</span>
    </a>

    <a href="{% url 'profile_view' username=request.user.username %}" class="snap-link">
      <i class="snap-icon fas fa-user"></i>
      <span class="snap-label">Visit Profile</span>
    </a>
    
    <a href="{% url 'index' %}" class="snap-link">
      <i class="snap-icon fas fa-search"></i>
      <span class="snap-label">Explore</span>
    </a>

    <a href="{% url 'user_chats' %}" class="snap-link">
      <i class="snap-icon fas fa-comments"></i>
      <span class="snap-label">My Chats</span>
    </a>

  </div>
</div><br>

 <div class="aside-footer">
    <a href="{% url 'aboutus' %}">About</a> â€¢ 
    <a href="{% url 'hiw' %}">Help</a> â€¢ 
    <a href="{% url 'terms_of_service' %}">Terms</a> â€¢ 
    <a href="{% url 'privacy_policy' %}">Privacy</a> â€¢ 
    <a href="{% url 'faq' %}">FAQ</a> â€¢ 
    <a href="{% url 'project_support' %}">Support</a>
</div>
</aside>




<section>



<div class="top-navigation-container">
    <!-- Back Arrow (Left) -->
    <div class="back-arrow-container">
        <div class="go-back-arrow" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
        </div>
    </div>

    <!-- Search Bar (Right) -->
    <form action="{% url 'search_campaign' %}" method="get" class="search-form">
        <div class="search-wrapper">
            <input type="text" placeholder="Search..." name="search_query" id="query-field">
            <button type="button" class="btn-reset" id="reset-field">
                <i class="fas fa-times"></i>
            </button>
            <button type="submit" class="btn-search">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </form>
</div>


<div class="search-spacer"></div> <!-- ADD THIS LINE -->

<div class="sub">
   <i class="fas fa-lock"></i> 
    <div>
        <h2>Private</h2>
           <p>Discover exclusive campaigns reserved for invited members.</p>
    </div>
</div>




<!-- Beautiful upload button -->

    
</div><br>



<div class="sidebar-box ">
   {% if private_campaigns %}
<div class="simple-campaigns-container">
    {% for campaign in private_campaigns %}
    <div class="simple-campaign-card">
        <!-- Top Section - Creator Info -->
        <div class="creator-info">
            <a href="{% url 'profile_view' username=campaign.user.user.username %}" class="creator-pic">
                <img src="{{ campaign.user.image.url }}" alt="{{ campaign.user.user.username }}">
            </a>
            <div class="creator-details">
                <div class="creator-name">
                    {{ campaign.user.user.username }}
                    {% if campaign.user.profile_verified %}
                    <span class="verified-badge"><i class="material-icons">verified_user</i></span>
                    {% endif %}
                    {% if campaign.is_changemaker %}
                    <span class="changemaker-badge"><i class="far fa-star"></i> Changemaker</span>
                    {% endif %}
                </div>
                <div class="campaign-time">
                    {{ campaign.timestamp|timesince }} ago â€¢ {{ campaign.user.location }}
                </div>
            </div>





<div class="campaign-menu" onclick="togglaMenu(this)" style="position: relative;">
  <i class="fas fa-ellipsis-v"></i>
  <div class="menu-dropdown">

    <!-- ===== Public Items ===== -->
    <a href="{% url 'view_campaign' campaign_id=campaign.pk %}">
      <i class="fas fa-eye"></i> View Details
    </a>

    <a href="{% url 'campaign_joiners' campaign.id %}" class="comment-count" aria-label="View joiners of this campaign">
      <i class="fas fa-user-plus"></i> Joiners ({{ campaign.user_profiles.count|format_count }})
    </a>

    <a href="{% url 'top_participants' campaign_id=campaign.pk %}" class="top-supporters-link">
      <i class="fas fa-trophy"></i> Top Participants
    </a>

   

    <a href="{% url 'report_campaign' campaign.id %}">
      <i class="fas fa-flag"></i> Report
    </a>

    <div class="not-interested-container">
      <form action="{% url 'mark_not_interested' campaign_id=campaign.pk %}" method="post" class="not-interested-form">
        {% csrf_token %}
        <div class="form-row">
          <label for="not-interested" class="form-label">
            <i class="fas fa-times-circle"></i> Not Interested
          </label>
          <div class="form-controls">
            <input type="checkbox" id="not-interested" name="not_interested" class="form-checkbox">
          </div>
        </div>
        <button type="submit" class="form-submit-button">Submit</button>
      </form>
    </div>
<!-- ===== Owner-Only Items ===== -->
{% if user == campaign.user.user %}
  <a href="{% url 'recreate_campaign' campaign.id %}">
    <i class="fas fa-edit"></i> Edit / Recreate
  </a>

   {% if campaign.supportcampaign_set.first.pledge_visible %}
  <a href="{% url 'campaign_pledgers' campaign.id %}">
    <i class="fas fa-donate"></i> Pledgers
  </a>
{% endif %}

  <a href="{% url 'support' campaign_id=campaign.id %}" class="update-visibility-link">
    <i class="fas fa-mouse-pointer"></i> CTA Buttons
  </a>

  <a href="{% url 'campaign_engagement' campaign.id %}">
    <i class="fas fa-chart-bar"></i> Engagement
  </a>

  <!-- âœ… New link: Activity List -->
  <a href="{% url 'activity_list' campaign.id %}">
    <i class="fas fa-tasks"></i> Add Activity
  </a>

  <a href="{% url 'campaign-delete' campaign.pk %}" class="delete-link">
    <i class="fas fa-trash"></i> Delete
  </a>
{% endif %}

<!-- Optional: Visibility toggle could also be owner-only -->
{% if user == campaign.user.user %}
  <a href="{% url 'update_visibilit' campaign.pk %}">
    <i class="fas fa-lock"></i> Visibility
  </a>
{% endif %}

  </div>
</div>

        </div>


<div class="campaign-tags">
    {% for tag in campaign.tags.all|slice:":5" %}
        <span class="tag-badge">
            <i class="fas fa-tag"></i> {{ tag.name }}
        </span>
    {% endfor %}
    {% if campaign.tags.count > 5 %}
        <span class="tag-badge tag-more">+{{ campaign.tags.count|add:"-5" }} more</span>
    {% endif %}
</div>
 <!-- Campaign Image - Dominant Space -->
<div class="campaign-image-section">
    {% if campaign.poster or campaign.additional_images %}
    <div class="campaign-image-container slideshow-container">
        <!-- Slideshow wrapper -->
        <div class="slideshow-wrapper">
            <div class="slideshow-track">
                <!-- Main poster as first slide -->
                {% if campaign.poster %}
                <div class="slide active" data-index="0">
                    {% if user.is_authenticated and user.profile in campaign.user_profiles.all %}
                    <a href="{% url 'activity_list' campaign_id=campaign.id %}" class="campaign-poster-link">
                    {% endif %}
                    
                    <img src="{{ campaign.poster.url }}" 
                         alt="{{ campaign.title }}" 
                         class="main-campaign-image {% if user.profile in campaign.user_profiles.all %}clickable-poster{% endif %}"
                         style="{% if user.profile in campaign.user_profiles.all %}cursor: pointer;{% endif %}">
                    
                    {% if user.is_authenticated and user.profile in campaign.user_profiles.all %}
                    </a>
                    {% endif %}
                </div>
                {% endif %}
                
                <!-- Additional images as subsequent slides -->
                {% if campaign.additional_images %}
                    {% for image_url in campaign.additional_images %}
                    <div class="slide" data-index="{{ forloop.counter }}">
                        <img src="{{ image_url }}" 
                             alt="{{ campaign.title }} - Image {{ forloop.counter }}" 
                             class="main-campaign-image">
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
            
            <!-- Slideshow Controls (only show if multiple images) -->
            {% if campaign.additional_images %}
            <div class="slideshow-controls">
                <button class="slideshow-prev" aria-label="Previous image">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="slideshow-next" aria-label="Next image">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- Dots indicator -->
            <div class="slideshow-dots">
                <button class="dot active" data-index="0" aria-label="Go to poster"></button>
                {% for image_url in campaign.additional_images %}
                <button class="dot" data-index="{{ forloop.counter }}" 
                        aria-label="Go to image {{ forloop.counter }}"></button>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <!-- Your existing overlay elements - FIXED POSITIONING -->
        <div class="sound-community-icon" onclick="soundManager.openPopup({{ campaign.id }})">
            <i class="fas fa-music"></i>
            {% with tribe_count=campaign.get_sound_tribe_members_count %}
                {% if tribe_count > 0 %}
                    <span class="sound-badge">{{ tribe_count|format_count }}</span>
                {% endif %}
            {% endwith %}
        </div>

        <div class="campaign-views-overlay" aria-label="Total campaign views">
            <i class="far fa-eye"></i>
            <span>{{ campaign.campaignview_set.count|format_count }}</span>
            <span class="views-label">Views</span>
        </div>   
        
        <!-- Image Overlay Info -->
        <div class="image-overlay-top">
            <span class="campaign-category">{{ campaign.category }} </span>
        </div>
        
        <div class="image-overlay-bottom">
            <!-- Action icons with data-title instead of title -->
            <div class="campaign-action-icons">
                <!-- Donate icon - only show if donation is enabled -->
                {% if campaign.supportcampaign_set.first.donate_monetary_visible %}
                    <a href="{% url 'create_donation' campaign_id=campaign.id %}" class="action-icon" data-title="Donate">
                        <i class="fas fa-hand-holding-heart"></i>
                        <span class="tooltip">Donate</span>
                    </a>
                {% endif %}
               
                <!-- Pledge icon - only show if pledge is enabled -->
                {% if campaign.supportcampaign_set.first.pledge_visible %}
                    <a href="{% url 'create_pledge' campaign_id=campaign.id %}" class="action-icon" data-title="Pledge">
                        <i class="fas fa-handshake"></i>
                        <span class="tooltip">Pledge</span>
                    </a>
                {% endif %}

                <!-- Purchase Products icon - only show if campaign product is enabled -->
                {% if campaign.supportcampaign_set.first.campaign_product_visible %}
                    <a href="{% url 'product_manage' campaign_id=campaign.id %}" class="action-icon" data-title="Purchase Products">
                       <i class="fas fa-box-open"></i>
                        <span class="tooltip">Purchase Products</span>
                    </a>
                {% endif %}
            </div>
            
            {% if campaign.supportcampaign_set.first.donate_monetary_visible %}
            <div class="progress-info">
                <span>Raised: ${{ campaign.total_donations }}</span>
                <span>Goal: ${{ campaign.funding_goal }}</span>
            </div>

            <div class="progress-container">
                <div class="progress-fill" style="width: {{ campaign.donation_percentage }}%;"></div>
            </div>

            <div class="campaign-stats">
                <span>{{ campaign.donation_percentage }}% funded</span>
                <span>${{ campaign.donation_remaining }} to go</span>
            </div>

            <div class="mobile-goal-display">
                {{ campaign.donation_percentage }}% funded â€¢ ${{ campaign.donation_remaining }} to go
            </div>
            {% endif %}

            <div class="campaign-time-left">
                <i class="fas fa-clock"></i>
                <span>
                    {% if campaign.days_left != None %}
                        {{ campaign.days_left }} {% if campaign.days_left == 1 %}day{% else %}days{% endif %} left
                    {% else %}
                        Ongoing
                    {% endif %}
                </span>
            </div>
        </div>

        {% if not user.profile in campaign.user_profiles.all %}
        <div class="join-prompt blink-5s">
            <i class="fas fa-lock"></i> Join to see activities
        </div>
        {% endif %}
    </div>
    {% else %}
    <div class="no-image-placeholder">
        <i class="fas fa-image"></i>
        <p>No image available</p>
    </div>
    {% endif %}
</div>


        <!-- Campaign Title and Objective - Simplified -->
      <div class="campaign-caption">
 <!-- Only use this ONE section - delete the duplicate above -->
<div class="campaign-content-points">
    <ul>
        {% for point in campaign.content.splitlines %}
            <li>{{ point }}</li>
        {% endfor %}
    </ul>
    
    <!-- Show "See More" if content is long -->
    {% if campaign.content|length > 150 %}
    <div class="see-more-container">
        <button class="see-more-btn" onclick="toggleFullContent(this)">
            See More <i class="fas fa-chevron-down"></i>
        </button>
    </div>
    {% endif %}
    
    <!-- Full content (initially hidden) -->
    <div class="full-content" style="display:none;">
        <ul>
            {% for point in campaign.content.splitlines %}
                <li>{{ point }}</li>
            {% endfor %}
        </ul>
        <button class="see-less-btn" onclick="toggleContent(this.parentElement)">
            See Less <i class="fas fa-chevron-up"></i>
        </button>
    </div>
</div>
   Goals: {{ campaign.get_goals_and_activities.Goals.0|default:"No goal specified"|truncatechars:80 }}
</div>

        <!-- Campaign Status - Visual Indicators -->
        <div class="campaign-status">
            {% if campaign.is_outdated %}
            <div class="status-badge outdated">
                <i class="fas fa-exclamation-circle"></i> Campaign Ended
            </div>
            {% else %}
            <div class="status-badge active">
                <i class="fas fa-check-circle"></i> Active Now
            </div>
            {% endif %}
            
            <div class="runtime-info">
                <i class="fas fa-calendar-alt"></i>
                {% if campaign.duration %}
                    {{ campaign.duration }} {{ campaign.duration_unit }}
                {% else %}
                    Ongoing
                {% endif %}
            </div>
        </div>
  

<!-- After campaign-status, before simple-actions -->
{% if user.profile in campaign.user_profiles.all %}
<div class="campaign-participation-links">
    <a href="{% url 'activity_list' campaign_id=campaign.id %}" class="participation-link">
        <i class="fas fa-tasks"></i> View Activities
    </a>
    <a href="{% url 'support' campaign_id=campaign.id %}" class="participation-link">
        <i class="fas fa-hands-helping"></i> Participate Now
    </a>
</div>
{% endif %}

<div class="campaign-members">
    <h3>
        <i class="fas fa-users" style="margin-right: 8px;"></i>
        Visible to: ({{ campaign.visible_to_followers.all.count }})
    </h3>
    {% if campaign.visible_to_followers.all %}
        <div style="display: flex; flex-wrap: wrap; gap: 8px; max-height: 150px; overflow-y: auto; padding-right: 5px;">
            {% for follower in campaign.visible_to_followers.all %}
                <a href="{% url 'profile_view' follower.user.username %}" class="follower-card">
                    <img src="{{ follower.image.url }}" alt="{{ follower.user.username }}">
                    {{ follower.user.username }}
                </a>
            {% endfor %}
        </div>
    {% else %}
        <p>
            <i class="fas fa-info-circle" style="margin-right: 6px;"></i>
            This campaign is not visible to any specific followers
        </p>
    {% endif %}
</div>

        <!-- Simple Action Buttons -->
        <div class="simple-actions">
<div class="action-group">
    <button class="simple-action-btn love-btn" onclick="toggleLove({{ campaign.id }})">
        <i id="love-icon-{{ campaign.id }}" class="fas fa-heart"></i> 
        <span id="love-count-{{ campaign.id }}">{{ campaign.love_count|format_count }}</span>
        <span class="action-label">Like</span>
    </button>
    
    <button class="simple-action-btn" onclick="showCommentPopup({{ campaign.id }})">
        <i class="far fa-comment"></i> 
        <span id="comment-count-{{ campaign.id }}">{{ campaign.comments.count|default:0 }}</span>
        <span class="action-label">Comment</span>
    </button>
    
    <button class="simple-action-btn" onclick="showSharePopup({{ campaign.id }})">
        <i class="fas fa-share-alt"></i> 
        <span class="action-label">Share</span>
    </button>
</div>
            {% if user.profile in campaign.user_profiles.all %}
            <a href="{% url 'join_leave_campaign' campaign.id %}" class="simple-join-btn leave-btn">
                <i class="fas fa-user-minus"></i> Leave
            </a>
            {% else %}
            <a href="{% url 'join_leave_campaign' campaign.id %}" class="simple-join-btn">
                <i class="fas fa-user-plus"></i> Join
            </a>
            {% endif %}
        </div>
        
        <!-- Hidden content that was in your original HTML -->
        <div class="hidden-content" style="display:none;">
            <!-- All your original content that we're keeping but hiding -->
            <div class="campaign-content" data-campaign-id="{{ campaign.id }}">
                <ul>
                    {% for point in campaign.content.splitlines %}
                        <li>{{ point }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            <div class="funding-progress-card">
                <!-- Your original funding progress card -->
            </div>
            


            <div class="activity-links">
                {% if user.profile in campaign.user_profiles.all %}
                <a href="{% url 'activity_list' campaign_id=campaign.id %}" class="activity-link">
                    <i class='fas'>&#xf6e3;</i> Activities
                </a>
                <a href="{% url 'support' campaign_id=campaign.id %}" class="support-link">
                    <i class="material-icons">&#xe925;</i> Participate
                </a>
                {% endif %}
            </div>
            
            <!-- Audio player -->
            
<!-- Audio player -->
{% if campaign.poster %}
{% if campaign.audio %}
    <audio class="campaign-audio" loop preload="auto" muted autoplay>
        <source src="{{ campaign.audio.url }}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
{% else %}
    <div class="audio-player">
        {% if campaign.category == 'Poverty and Hunger' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/peace.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Clean Water and Sanitation' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/art.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Disaster Relief' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/Humanitarian Aid.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Healthcare and Medicine' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/health.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Mental Health' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/environment.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Human Rights and Equality' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/Equality1.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Peace and Justice' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/Policy.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Education for All' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/education1.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Economic Empowerment' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/economic.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Climate Action' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/Sustainable.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Save Our Planet' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/animal.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Tech for Humanity' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/digital.mp3' %}" type="audio/mpeg">
            </audio>
        {% elif campaign.category == 'Community Development' %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/community.mp3' %}" type="audio/mpeg">
            </audio>
        {% else %}
            <audio class="campaign-audio" loop preload="auto" muted autoplay>
                <source src="{% static 'main/audio/default.mp3' %}" type="audio/mpeg">
            </audio>
        {% endif %}
    </div>
{% endif %}
{% endif %}

        </div>
    </div>
    


<!-- Sound Community Popup -->
<div id="soundCommunityPopup" class="sound-community-popup">
    <div class="popup-content">
        <div class="popup-loader" id="popupLoader">
            <i class="fas fa-spinner fa-spin"></i>
        </div>
        <div class="popup-header">
            <h3>Soundmark Tribe</h3>
            <button class="close-popup" onclick="soundManager.closePopup()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="popup-body">
            <div class="sound-community-section">
                <!-- Header -->
                <div class="sound-community-header">
                    <div class="sound-community-icon-container">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="sound-community-header-text">
                        <h4>Join the Soundmark Tribe</h4>
                        <p>Show you stand with this cause</p>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-container">
                    <div class="stat-item">
                        <div id="tribeMemberCount" class="stat-value">0</div>
                        <div class="stat-label">TRIBE MEMBERS</div>
                    </div>
                </div>

                <!-- Join Button -->
                <div class="join-section">
                    <button id="joinTribeBtn" onclick="soundManager.joinSoundTribe()" class="join-tribe-btn">
                        <i class="fas fa-music"></i> Join Soundmark Tribe
                    </button>
                </div>

                <!-- Recent Members -->
                <div class="recent-members-container">
                    <h5 class="recent-members-header">
                        <i class="fas fa-users"></i>
                        Recent Tribe Members
                    </h5>
                    <div id="recentMembersContainer" class="recent-members">
                        <div class="empty-state">
                            <i class="fas fa-music"></i>
                            <span>Be the first to join the sound tribe!</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<!-- CSRF Token - ADD THIS LINE SOMEWHERE IN YOUR TEMPLATE -->
{% csrf_token %}



    {% endfor %}
</div>
{% else %}
<div class="no-campaigns">
    <i class="material-icons">lock</i>
    <p>No private campaigns</p>
    <p class="campaigns-time">
        <i class="material-icons">info</i> Private campaigns will appear here when created
    </p>
</div>
{% endif %}
</div>



    <!-- PWA INSTALL PROMPT -->
    <!-- ==================== -->
    <div id="pwa-install-prompt" class="pwa-prompt" style="display: none;">
        <div class="pwa-prompt-content">
            <div class="pwa-prompt-icon">ðŸ“±</div>
            <div class="pwa-prompt-text">
                <h5>Get the Full RallyNex Experience</h5>
                <p>Install our app for better community engagement</p>
            </div>
            <div class="pwa-prompt-buttons">
                <button id="pwa-install-btn" class="btn btn-primary btn-sm">Install</button>
                <button id="pwa-dismiss-btn" class="btn btn-outline-secondary btn-sm">Later</button>
            </div>
        </div>
    </div>







<!-- Share Popup Container -->
<div id="sharePopup" class="share-popup">
    <div class="share-popup-content">
        <span class="close-share" onclick="hideSharePopup()">Ã—</span>
        <h3>Share This Campaign</h3>
        <div class="share-buttons">
            <a href="#" class="share-btn facebook" onclick="shareOnFacebook()" title="Share on Facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="share-btn twitter" onclick="shareOnTwitter()" title="Share on Twitter">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="share-btn linkedin" onclick="shareOnLinkedIn()" title="Share on LinkedIn">
                <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="#" class="share-btn whatsapp" onclick="shareOnWhatsApp()" title="Share on WhatsApp">
                <i class="fab fa-whatsapp"></i>
            </a>
            <a href="#" class="share-btn reddit" onclick="shareOnReddit()" title="Share on Reddit">
                <i class="fab fa-reddit-alien"></i>
            </a>
            <a href="#" class="share-btn telegram" onclick="shareOnTelegram()" title="Share on Telegram">
                <i class="fab fa-telegram-plane"></i>
            </a>
            <a href="#" class="share-btn pinterest" onclick="shareOnPinterest()" title="Share on Pinterest">
                <i class="fab fa-pinterest-p"></i>
            </a>
            <a href="#" class="share-btn email" onclick="shareViaEmail()" title="Share via Email">
                <i class="fas fa-envelope"></i>
            </a>
        </div>
        <div class="copy-link-container">
            <span class="copy-link-title">Or copy link</span>
            <div class="copy-link">
                <input type="text" id="campaignUrl" readonly>
                <button onclick="copyCampaignUrl()" title="Copy link">
                    <i class="fas fa-copy"></i>
                </button>
            </div>
        </div>
    </div>
</div>






<!-- Comment Popup Container -->
<div id="commentPopup" class="comment-popup-container" style="display: none;">
    <div class="comment-popup-content">
        <span class="close-comment-popup">&times;</span>
        <h3>Comments</h3>
        
        <!-- Comment Form -->
      <div class="comment-form-container">
    <div class="current-user-preview">
        <img src="{{ user.profile.image.url }}" alt="Your profile picture" class="current-user-img">
        <span>Posting as {{ user.username }}</span>
    </div>
    <form id="commentForm" method="post">
        {% csrf_token %}
        <input type="hidden" id="campaignIdInput" name="campaign_id">
        <textarea name="text" class="comment-textarea" placeholder="Write your comment here..."></textarea>
        <button type="submit" class="submit-comment-btn">Post Comment</button>
    </form>
</div>

        
        <!-- Comment List -->
        <div class="comment-list-container" id="commentList">
            <!-- Comments will be loaded here dynamically -->
            <div class="loading-comments">Loading comments...</div>
        </div>
    </div>
</div>

</section>

<aside class="right-aside">

  <div class="search-container">
  <form action="{% url 'search_campaign' %}" method="get">
    <div class="search-wrapper">
      <input type="text" placeholder="Search..." name="search_query" id="query-field">
      <div class="search-icons">
        <button type="button" class="btn-reset" id="reset-field">
          <i class="fas fa-times"></i>
        </button>
        <button type="submit" class="btn-search">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </form>
</div><br>

  <!-- Suggested Users Section -->
  <div class="suggested-users">
    <div class="section-header">
      <h3 class="section-title">Suggested for You</h3>
       {% if suggested_users|length >= 2 %}
            <a href="{% url 'suggest' %}" class="see-all">See All</a>
        {% endif %}
    </div>
    {% for suggested in suggested_users %}
    {% with user=suggested.user followers_count=suggested.followers_count %}
    <div class="user-card">
      <div class="user-avatar">
        <img src="{{ user.profile.image.url }}" alt="{{ user.username }}" class="avatar-img">
        {% if user.profile.is_online %}
        <span class="online-status"></span>
        {% endif %}
      </div>
      <div class="user-info">
        <h4 class="user-name">{{ user.get_full_name|default:user.username }}</h4>
        <p class="user-bio">{{ user.profile.bio|truncatechars:30 }}</p>
        <div class="user-meta">
          <span class="followers">{{ followers_count }} followers</span>
          {% if user.profile.is_verified %}
          <span class="verified-badge">âœ“</span>
          {% endif %}
        </div>
        <div class="user-actions">
          {% if request.user != user %}
          <span id="follow-btn-{{ user.id }}" 
                class="follow-text {% if request.user in user.followers.all %}following{% endif %}" 
                data-user-id="{{ user.id }}"
                data-is-following="{% if request.user in user.followers.all %}true{% else %}false{% endif %}">
              {% if request.user in user.followers.all %}
                  Following 
              {% else %}
                  Follow 
              {% endif %}
          </span>
          {% endif %}
          <a href="{% url 'profile_view' username=user.username %}" class="visit-btn">
              <span class="btn-text">Visit</span>
          </a>
        </div>
      </div>
    </div>
    {% endwith %}
{% empty %}
    <p class="no-suggestions">No suggestions available. Follow more people to get better recommendations.</p>
{% endfor %}
  
<div class="trending-now">
  <div class="trending-header">
    <h3 class="trending-title"><i class="fas fa-fire"></i> Trending Now</h3>
   
  </div>
  
  <ul class="trending-list">
    {% for campaign in trending_campaigns|slice:":5" %}
    <li class="trending-item">
      <span class="trending-rank trending-rank-{{ forloop.counter }}">{{ forloop.counter }}</span>
      {% if forloop.counter <= 3 %}
      <span class="trending-hot">HOT</span>
      {% endif %}
      
      <div class="trending-content">
        <h4 class="trending-topic">
          <a href="{% url 'view_campaign' campaign_id=campaign.pk %}" style="color: inherit; text-decoration: none;">
            {{ campaign.title|truncatechars:40 }}
          </a>
          {% if campaign.user.profile_verified %}
          <i class="fas fa-check-circle"></i>
          {% endif %}
        </h4>
        <div class="trending-meta">
          <span class="trending-posts">
            <i class="fas fa-heart" style="color: #ff4d4f;"></i>
            {{ campaign.love_count|default:0 }} loves
          </span>
          <span class="trending-posts">
            <i class="fas fa-comment" style="color: #1890ff;"></i>
            {{ campaign.comments.count|default:0 }} comments
          </span>
          <span class="trending-category">{{ campaign.category }}</span>
        </div>
      </div>
    </li>
    {% endfor %}
  </ul>
  
 
</div>






 <div class="top-contributors">
  <div class="contributors-header">
    <h3 class="contributors-title"><i class="fas fa-trophy"></i> Top Contributors</h3>
  </div>
  
  <div class="contributors-list">
    {% for contributor in top_contributors %}
    <div class="contributor-item">
      <div class="contributor-avatar">
        <img src="{{ contributor.image.url }}" class="contributor-img" alt="{{ contributor.user.get_full_name }}">
        <div class="contributor-badge">{{ forloop.counter }}</div>
      </div>
      <div class="contributor-info">
        <h4 class="contributor-name">
          {{ contributor.user.get_full_name|default:contributor.user.username }}
        </h4>
        <div class="contributor-stats">
          {{ contributor.campaign_count }} Campaign{{ contributor.campaign_count|pluralize }}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>



  <!-- Footer Links -->

</aside>



  </main>



<footer class="footer">
    <div class="footer-content">
        <!-- Existing footer sections -->
        <div class="footer-section">
            <h2>Contact Us</h2>
            <p>Email: rallynex1@gmail.com</p>
            <p style="display:none;">Address: 123 Networking St, Net City</p>
        </div>
        <div class="footer-section" style="display: none;">
            <h2>Follow Us</h2>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
        </div>
        <div class="footer-section">
            <h2>Subscribe</h2>
            <!-- Include subscription form -->
        
            <p><a href="{% url 'subscribe' %}" class="subscribe-link">Subscribe Now</a></p>
        </div>
        <div class="footer-section">
            <h2>Legal</h2>
            <a href="{% url 'privacy_policy' %}">Privacy Policy|</a>
            <a href="{% url 'terms_of_service' %}">Terms of Service|</a>
            <a href="{% url 'project_support' %}">Support|</a>
            <a href="{% url 'hiw' %}">How It Works|</a>
            <a href="{% url 'faq' %}">FAQ|</a>
            <a href="{% url 'aboutus' %}">About Us|</a>
            
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Networking Site. All rights reserved.</p>
        <p class="mystery-text"></p>
    </div>
</footer>






    <!-- ==================== -->
    <!-- SCRIPTS -->
    <!-- ==================== -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="{% static 'main/js/pwa.js' %}"></script>




<script>
    function toggleMenu(event) {
        if (event) {
            event.preventDefault();
        }
        const menu = document.getElementById('navbarDropdownMenu');
        const overlay = document.getElementById('menuOverlay');
        
        menu.classList.toggle('active');
        overlay.classList.toggle('active');
    }
    
    // Close menu when clicking outside
    document.getElementById('menuOverlay').addEventListener('click', function() {
        toggleMenu();
    });
</script>






<script>
function togglaMenu(clickedElement) {
    // Close other open menus
    document.querySelectorAll('.menu-dropdown.active').forEach(menu => {
        if (!clickedElement.contains(menu)) {
            menu.classList.remove('active');
        }
    });

    // Toggle the clicked one
    const dropdown = clickedElement.querySelector('.menu-dropdown');
    dropdown.classList.toggle('active');
}

// Close the menu if clicked outside
document.addEventListener('click', function(event) {
    // Don't close if clicking on form elements within the menu
    const isFormElement = event.target.closest('.not-interested-form') || 
                         event.target.matches('input, select, textarea, label');
    
    const isClickInside = event.target.closest('.campaign-menu');
    
    if (!isClickInside && !isFormElement) {
        document.querySelectorAll('.menu-dropdown.active').forEach(menu => {
            menu.classList.remove('active');
        });
    }
});

// Prevent checkbox clicks from bubbling up and closing the menu
document.addEventListener('click', function(event) {
    if (event.target.matches('.form-checkbox, .form-label, .form-submit-button')) {
        event.stopPropagation();
    }
}, true);
</script>



<script>
  // Mobile search toggle
  document.addEventListener('DOMContentLoaded', function() {
    const mobileSearchIcon = document.querySelector('.mobile-search-icon');
    const mobileSearchPopup = document.querySelector('.mobile-search-popup');
    const closeMobileSearch = document.querySelector('.close-mobile-search');

    if (mobileSearchIcon && mobileSearchPopup) {
      mobileSearchIcon.addEventListener('click', function() {
        mobileSearchPopup.classList.add('active');
        mobileSearchPopup.querySelector('input').focus();
      });

      closeMobileSearch.addEventListener('click', function() {
        mobileSearchPopup.classList.remove('active');
      });
    }
  });
</script>






<script>
    function handleCreateClick(e) {
        // Optional: Add any animation or pre-submit logic here
        // e.preventDefault(); // Uncomment if you want to handle with AJAX
        
        // Example animation:
        const btn = e.target;
        btn.style.transform = 'scale(0.9)';
        setTimeout(() => {
            btn.style.transform = 'scale(1)';
        }, 100);
    }
</script>
<script>
// In your script tags or JS file
function blinkJoinPrompt() {
    const prompt = document.querySelector('.join-prompt');
    if (prompt) {
        setInterval(() => {
            prompt.style.opacity = prompt.style.opacity === '0' ? '1' : '0';
        }, 5000); // Toggle every 5 seconds
    }
}

// Call on page load
window.addEventListener('DOMContentLoaded', blinkJoinPrompt);
</script>






<script>

// Your existing functions
function toggleLove(campaignId) {
    // Existing love toggle functionality
}

function showSharePopup(campaignId) {
    // Existing share functionality
}
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const resetButton = document.getElementById('reset-field');
        const queryField = document.getElementById('query-field');

        resetButton.addEventListener('click', function() {
            queryField.value = ''; // Clear the input field
            queryField.focus(); // Optionally, refocus the input field
        });
    });
</script>



<script type="text/javascript">
// Helper functions for cookies
function setCookie(name, value, days) {
    const expires = new Date(Date.now() + days*24*60*60*1000).toUTCString();
    document.cookie = `${name}=${value}; expires=${expires}; path=/`;
}

function getCookie(name) {
    const cookies = document.cookie.split(';').map(c => c.trim());
    for (let c of cookies) {
        if (c.startsWith(name + '=')) return c.split('=')[1];
    }
    return null;
}

// Function to toggle dark mode
function switchColor() {
    const body = document.body;
    const isDarkMode = body.classList.toggle('dark-mode'); // Toggle dark mode class

    // Save preference to cookie for 1 year
    setCookie('dark_mode', isDarkMode, 365);

    // Funding progress card
    document.querySelector('.funding-progress-card')?.classList.toggle('dark-mode', isDarkMode);

    // Elements to update background and text colors
    const elementsToUpdate = document.querySelectorAll(
        'header, footer, section, .left-aside, .right-aside, .upper-post, .campaign-content, .react, .search-container input, .search-container .btn-reset'
    );
    elementsToUpdate.forEach(el => el.classList.toggle('dark-mode', isDarkMode));

    // Text color updates
    const textElements = document.querySelectorAll(
        'h1, h2, h3, h4, p, li, .campaign-nav, .campaign-nav a, .btn, .reaction, .action-item, .action-item a, .carousel, .ad, .slide, .ad a, .explore-link, .love-count, #view-count, .comment-count'
    );
    textElements.forEach(el => el.style.color = isDarkMode ? '#ffffff' : '#000000');

    // Buttons
    const buttons = document.querySelectorAll('button:not(.btn-search, .btn-reset)');
    buttons.forEach(btn => {
        btn.style.backgroundColor = isDarkMode ? '#262626' : '';
        btn.style.color = isDarkMode ? '#ffffff' : '#000000';
    });

    // `.react` divs
    const reactDivs = document.querySelectorAll('.react');
    reactDivs.forEach(div => {
        div.style.backgroundColor = isDarkMode ? "#262626" : "";
        div.style.color = isDarkMode ? "white" : "black";
        if (isDarkMode) div.classList.add('react-hover');
        else div.classList.remove('react-hover');
    });

    // Input field and reset button
    const inputField = document.querySelector('.search-container input[type="text"]');
    if (inputField) {
        inputField.style.backgroundColor = isDarkMode ? '#333333' : '#ffffff';
        inputField.style.color = isDarkMode ? '#ffffff' : '#000000';
    }
    const inputResetButton = document.querySelector('.search-container .btn-reset');
    if (inputResetButton) inputResetButton.style.color = '#b0b0b0';
}

// Apply dark mode on page load based on cookie
window.addEventListener('DOMContentLoaded', () => {
    const darkModeCookie = getCookie('dark_mode');
    if (darkModeCookie === 'true') {
        switchColor();
    }
});
</script>




<script>



function toggleCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "block";
}

function closeCommentForm() {
    var popup = document.getElementById("commentFormPopup");
    popup.style.display = "none";
}

document.addEventListener('DOMContentLoaded', function() {
    var campaignElement = document.querySelector('.campaign-details');
    var campaignId = {{ campaign.id }};
    var startTime;

    function recordCampaignView() {
        var endTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        var timeSpent = endTime - startTime;
        
        fetch(`/record_campaign_view/${campaignId}/`, {
            method: 'POST',
            credentials: 'same-origin',
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ time_spent: timeSpent })
        })
        .then(response => {
            if (response.ok) {
                console.log('View recorded successfully');
            } else {
                console.error('Failed to record view');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function handleVisibilityChange() {
        if (document.visibilityState === 'visible') {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    function isInViewport(element) {
        var rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function handleScroll() {
        if (isInViewport(campaignElement)) {
            startTime = Math.floor(Date.now() / 1000); // Get current time in seconds
        } else {
            recordCampaignView();
        }
    }

    document.addEventListener('visibilitychange', handleVisibilityChange);
    document.addEventListener('scroll', handleScroll);
});

document.addEventListener('DOMContentLoaded', function() {
    var mediaQuery = window.matchMedia('(max-width: 768px)');
    var leftAside = document.querySelector('.left-aside');
    var rightAside = document.querySelector('.right-aside');

    function handleMediaQueryChange(e) {
        if (e.matches) {
            leftAside.style.display = 'none';
            rightAside.style.display = 'none';
        } else {
            leftAside.style.display = 'block';
            rightAside.style.display = 'block';
        }
    }

    mediaQuery.addListener(handleMediaQueryChange);
    handleMediaQueryChange(mediaQuery);
});


</script>

<script type="text/javascript">
  function handleCreateClick() {
    console.log("Create button clicked!");
    // Add your custom logic here, if needed
}

</script>




<script>
// Store follow state in localStorage
function updateFollowState(userId, isFollowing) {
    const storageKey = `followState_${userId}`;
    localStorage.setItem(storageKey, isFollowing ? 'true' : 'false');
}

// Retrieve follow state from localStorage
function getFollowState(userId) {
    const storageKey = `followState_${userId}`;
    return localStorage.getItem(storageKey) === 'true';
}

document.addEventListener('DOMContentLoaded', function() {
    // Initialize text elements with correct state
    document.querySelectorAll('.follow-text').forEach(element => {
        const userId = element.getAttribute('data-user-id');
        const storedState = getFollowState(userId);
        const currentState = element.getAttribute('data-is-following') === 'true';
        
        // Use stored state if available, otherwise use server state
        const finalState = storedState !== null ? storedState : currentState;
        
        if (finalState) {
            element.classList.add('following');
            element.textContent = 'â€¢ Following';
            element.setAttribute('data-is-following', 'true');
        } else {
            element.classList.remove('following');
            element.textContent = 'â€¢ Follow';
            element.setAttribute('data-is-following', 'false');
        }
    });

    // Handle follow text clicks
    document.querySelectorAll('.follow-text').forEach(element => {
        element.addEventListener('click', async function() {
            const userId = this.getAttribute('data-user-id');
            const isFollowing = this.getAttribute('data-is-following') === 'true';
            const action = isFollowing ? 'unfollow' : 'follow';
            
            try {
                const response = await fetch('/toggle_follow/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify({
                        'user_id': userId,
                        'action': action
                    })
                });

                const data = await response.json();
                
                if (data.status === 'success') {
                    // Update text state
                    const newState = data.action === 'followed';
                    this.classList.toggle('following', newState);
                    this.textContent = newState ? 'â€¢ Following' : 'â€¢ Follow';
                    this.setAttribute('data-is-following', newState.toString());
                    
                    // Update followers count
                    const followersCount = document.getElementById(`followers-count-${userId}`);
                    if (followersCount) {
                        followersCount.textContent = `(${data.followers_count} followers)`;
                    }
                    
                    // Persist state in localStorage
                    updateFollowState(userId, newState);
                } else {
                    console.error('Error:', data.message);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred. Please try again.');
            }
        });
    });
});
</script>



<script>
function toggleFullContent(button) {
    const fullContent = button.closest('.see-more-container').nextElementSibling;
    if (fullContent.style.display === 'none') {
        fullContent.style.display = 'block';
        button.innerHTML = 'See Less <i class="fas fa-chevron-up"></i>';
    } else {
        fullContent.style.display = 'none';
        button.innerHTML = 'See More <i class="fas fa-chevron-down"></i>';
    }
}
</script>




<script>
function refreshTrending() {
  // Add AJAX call to refresh trending content
  console.log("Refreshing trending content...");
  // In a real implementation, you would fetch new trending data here
}

// Add this to your existing script section
document.addEventListener('DOMContentLoaded', function() {
  // Highlight the first three items more prominently
  const trendingItems = document.querySelectorAll('.trending-item');
  trendingItems.forEach((item, index) => {
    if (index < 3) {
      item.style.borderLeft = `3px solid ${
        index === 0 ? '#ff4d4f' : 
        index === 1 ? '#fa8c16' : '#fadb14'
      }`;
    }
  });
});
</script>


<script type="text/javascript">
    // Function to show comment popup
function showCommentPopup(campaignId) {
    const popup = document.getElementById('commentPopup');
    const campaignIdInput = document.getElementById('campaignIdInput');
    
    // Set the campaign ID in the form
    campaignIdInput.value = campaignId;
    
    // Show the popup
    popup.style.display = 'flex';
    
    // Load comments for this campaign
    loadComments(campaignId);
}

// Function to load comments
function loadComments(campaignId) {
    const commentList = document.getElementById('commentList');
    commentList.innerHTML = '<div class="loading-comments">Loading comments...</div>';
    
    fetch(`/get_comments/?campaign_id=${campaignId}`)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.comments && data.comments.length > 0) {
                let commentsHtml = '';
                
                data.comments.forEach(comment => {
                    commentsHtml += createCommentHtml(comment);
                });
                
                commentList.innerHTML = commentsHtml;
                
                // Add event listeners for like/dislike buttons
                document.querySelectorAll('.like-comment-btn').forEach(btn => {
                    btn.addEventListener('click', handleLikeDislike);
                });
                
                document.querySelectorAll('.dislike-comment-btn').forEach(btn => {
                    btn.addEventListener('click', handleLikeDislike);
                });
                
                // Add event listeners for reply buttons
                document.querySelectorAll('.reply-comment-btn').forEach(btn => {
                    btn.addEventListener('click', showReplyForm);
                });
                
                // Add event listeners for view replies buttons
                document.querySelectorAll('.view-replies-btn').forEach(btn => {
                    btn.addEventListener('click', toggleReplies);
                });
            } else {
                commentList.innerHTML = `
                    <div class="no-comments">
                        <i class="far fa-comment-dots"></i>
                        <p>No comments yet. Be the first to comment!</p>
                    </div>
                `;
            }
        })
        .catch(error => {
            console.error('Error loading comments:', error);
            commentList.innerHTML = `
                <div class="error-loading-comments">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Error loading comments. Please try again.</p>
                    <button onclick="loadComments(${campaignId})" class="retry-btn">
                        <i class="fas fa-sync-alt"></i> Retry
                    </button>
                </div>
            `;
        });
}

// Function to create HTML for a comment
function createCommentHtml(comment) {
    const timestamp = new Date(comment.timestamp);
    const formattedDate = timestamp.toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
    
    // Determine like/dislike button states
    const likeBtnClass = comment.user_like_status === 'liked' ? 'active' : '';
    const dislikeBtnClass = comment.user_like_status === 'disliked' ? 'active' : '';
    
    return `
        <div class="comment-item" data-comment-id="${comment.id}">
            <div class="comment-header">
                <a href="/user-profile/@${comment.user_username}/" class="comment-user-link">
                    <img src="${comment.user_profile_image || '/static/images/default_profile.png'}" 
                         alt="${comment.user_username}'s profile picture" 
                         class="comment-user-img"
                         onerror="this.onerror=null;this.src='/static/images/default_profile.png'">
                </a>
                <div class="comment-user-info">
                    <a href="/user-profile/@${comment.user_username}/" class="comment-user">${comment.user_username}</a>
                    <span class="comment-timestamp" title="${timestamp.toISOString()}">${formattedDate}</span>
                </div>
            </div>
            <div class="comment-text">${comment.text}</div>
            
            <div class="comment-actions">
                <button class="like-comment-btn ${likeBtnClass}" data-comment-id="${comment.id}">
                    <i class="fas fa-thumbs-up"></i> <span class="like-count">${comment.like_count}</span>
                </button>
                <button class="dislike-comment-btn ${dislikeBtnClass}" data-comment-id="${comment.id}">
                    <i class="fas fa-thumbs-down"></i> <span class="dislike-count">${comment.dislike_count}</span>
                </button>
                <button class="reply-comment-btn" data-comment-id="${comment.id}">
                    <i class="fas fa-reply"></i> Reply
                </button>
                
                ${comment.reply_count > 0 ? `
                    <button class="view-replies-btn" data-comment-id="${comment.id}">
                        <i class="fas fa-comments"></i> ${comment.reply_count} ${comment.reply_count === 1 ? 'reply' : 'replies'}
                    </button>
                ` : ''}
            </div>
            
            <div class="reply-form-container" id="reply-form-${comment.id}" style="display: none;">
                <div class="current-user-preview">
                    <img src="${document.querySelector('.current-user-img').src}" alt="Your profile picture" class="current-user-img">
                    <span>Replying to ${comment.user_username}</span>
                </div>
<form class="reply-form" data-comment-id="${comment.id}">
    <input type="hidden" name="campaign_id" value="${document.getElementById('campaignIdInput').value}">
    <input type="hidden" name="parent_comment_id" value="${comment.id}">
    <input type="hidden" name="csrfmiddlewaretoken" value="${document.querySelector('[name=csrfmiddlewaretoken]').value}">
    <textarea name="text" class="reply-textarea" placeholder="Write your reply here..."></textarea>
    <button type="submit" class="submit-reply-btn">Post Reply</button>
    <button type="button" class="cancel-reply-btn">Cancel</button>
</form>

            </div>
            
            <div class="replies-container" id="replies-${comment.id}" style="display: none;"></div>
        </div>
    `;
}
function handleLikeDislike(e) {
    e.preventDefault();
    const btn = e.currentTarget;
    const commentId = btn.dataset.commentId;
    const isLikeBtn = btn.classList.contains('like-comment-btn');
    const action = btn.classList.contains('active') ? 'remove' : (isLikeBtn ? 'like' : 'dislike');
    
    const formData = new FormData();
    formData.append('comment_id', commentId);
    formData.append('action', action);
    formData.append('csrfmiddlewaretoken', document.querySelector('[name=csrfmiddlewaretoken]').value);
    
    fetch('/like_dislike_comment/', {
        method: 'POST',
        body: formData,
        headers: {
            'X-Requested-With': 'XMLHttpRequest',  // Add this header
        },
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.success) {
            const commentItem = btn.closest('.comment-item');
            const likeBtn = commentItem.querySelector('.like-comment-btn');
            const dislikeBtn = commentItem.querySelector('.dislike-comment-btn');
            const likeCount = commentItem.querySelector('.like-count');
            const dislikeCount = commentItem.querySelector('.dislike-count');
            
            // Update counts from server response
            if (data.like_count !== undefined) {
                likeCount.textContent = data.like_count;
            }
            if (data.dislike_count !== undefined) {
                dislikeCount.textContent = data.dislike_count;
            }
            
            // Update button states
            if (action === 'remove') {
                if (btn === likeBtn) {
                    likeBtn.classList.remove('active');
                } else {
                    dislikeBtn.classList.remove('active');
                }
            } else if (action === 'like') {
                likeBtn.classList.add('active');
                dislikeBtn.classList.remove('active');
            } else { // dislike
                dislikeBtn.classList.add('active');
                likeBtn.classList.remove('active');
            }
        } else {
            console.error('Error:', data.error);
            alert('Error processing your action. Please try again.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Network error. Please check your connection and try again.');
    });
}
// Function to show reply form
function showReplyForm(e) {
    const commentId = e.currentTarget.dataset.commentId;
    const replyForm = document.getElementById(`reply-form-${commentId}`);
    
    if (!replyForm) return; // Safety check

    // Hide all other reply forms first
    document.querySelectorAll('.reply-form-container').forEach(form => {
        if (form.id !== `reply-form-${commentId}`) {
            form.style.display = 'none';
        }
    });

    // Toggle this reply form
    replyForm.style.display = replyForm.style.display === 'none' || replyForm.style.display === '' ? 'block' : 'none';

    // Add event listener for the form submission
    const form = replyForm.querySelector('.reply-form');
    if (form) {
        form.onsubmit = function(e) {
            e.preventDefault();
            submitReplyForm(this);
        };
    }

    // Add event listener for cancel button
    const cancelBtn = replyForm.querySelector('.cancel-reply-btn');
    if (cancelBtn) {
        cancelBtn.onclick = function() {
            replyForm.style.display = 'none';
        };
    }
}


// Function to toggle replies visibility
function toggleReplies(e) {
    const commentId = e.currentTarget.dataset.commentId;
    const repliesContainer = document.getElementById(`replies-${commentId}`);
    
    if (repliesContainer.style.display === 'none') {
        // Load replies if not already loaded
        if (repliesContainer.innerHTML === '') {
            loadReplies(commentId);
        }
        repliesContainer.style.display = 'block';
        e.currentTarget.innerHTML = `<i class="fas fa-comments"></i> Hide replies`;
    } else {
        repliesContainer.style.display = 'none';
        const replyCount = parseInt(e.currentTarget.textContent.match(/\d+/)[0]);
        e.currentTarget.innerHTML = `<i class="fas fa-comments"></i> ${replyCount} ${replyCount === 1 ? 'reply' : 'replies'}`;
    }
}

// Function to load replies for a comment
function loadReplies(commentId) {
    const repliesContainer = document.getElementById(`replies-${commentId}`);
    repliesContainer.innerHTML = '<div class="loading-replies">Loading replies...</div>';
    
    fetch(`/get_replies/${commentId}/`)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.replies && data.replies.length > 0) {
                let repliesHtml = '';
                
                data.replies.forEach(reply => {
                    repliesHtml += createCommentHtml(reply);
                });
                
                repliesContainer.innerHTML = repliesHtml;
                
                // Add event listeners for like/dislike buttons in replies
                repliesContainer.querySelectorAll('.like-comment-btn').forEach(btn => {
                    btn.addEventListener('click', handleLikeDislike);
                });
                
                repliesContainer.querySelectorAll('.dislike-comment-btn').forEach(btn => {
                    btn.addEventListener('click', handleLikeDislike);
                });
            } else {
                repliesContainer.innerHTML = `
                    <div class="no-replies">
                        <p>No replies yet.</p>
                    </div>
                `;
            }
        })
        .catch(error => {
            console.error('Error loading replies:', error);
            repliesContainer.innerHTML = `
                <div class="error-loading-replies">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Error loading replies. Please try again.</p>
                    <button onclick="loadReplies(${commentId})" class="retry-btn">
                        <i class="fas fa-sync-alt"></i> Retry
                    </button>
                </div>
            `;
        });
}

// Handle main comment form submission
document.getElementById('commentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const campaignId = formData.get('campaign_id');
    
    fetch('/post_comment/', {
        method: 'POST',
        body: formData,
        headers: {
            'X-CSRFToken': formData.get('csrfmiddlewaretoken'),
        },
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Clear the textarea
            this.querySelector('textarea').value = '';
            // Reload comments
            loadComments(campaignId);
        } else {
            alert('Error posting comment: ' + (data.error || 'Unknown error'));
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Error posting comment. Please try again.');
    });
});

// Close popup when clicking outside
document.getElementById('commentPopup').addEventListener('click', function(e) {
    if (e.target === this) {
        this.style.display = 'none';
    }
});

// Close popup with close button
document.querySelector('.close-comment-popup').addEventListener('click', function() {
    document.getElementById('commentPopup').style.display = 'none';
});
</script>

<script>
function submitReplyForm(form) {
    const formData = new FormData(form);
    const commentId = form.dataset.commentId;
    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

    fetch('/post_comment/', {
        method: 'POST',
        body: formData,
        headers: {
            'X-CSRFToken': csrfToken,
            'X-Requested-With': 'XMLHttpRequest'
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.success) {
            // Refresh the comments to include the new reply
            const campaignId = document.getElementById('campaignIdInput').value;
            loadComments(campaignId);
        } else {
            alert('Failed to post reply. Please try again.');
            console.error('Reply post error:', data.error || data);
        }
    })
    .catch(error => {
        console.error('Error submitting reply:', error);
        alert('Network error. Please check your connection and try again.');
    });
}

</script>

<script type="text/javascript">
    
document.addEventListener('submit', function (e) {
    if (e.target.classList.contains('reply-form')) {
        e.preventDefault();

        const form = e.target;
        const formData = new FormData(form);

        fetch('/post-comment/', {
            method: 'POST',
            headers: {
                'X-CSRFToken': getCSRFToken(),  // Make sure you include this helper
            },
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Optionally refresh replies list or insert new reply into DOM
                console.log('Reply posted:', data.comment);
                // e.g., appendReplyToDOM(data.comment);
                form.querySelector('.reply-textarea').value = ''; // clear field
            } else {
                alert(data.error || 'Error posting reply');
            }
        });
    }
});

function getCSRFToken() {
    const name = 'csrftoken';
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
        cookie = cookie.trim();
        if (cookie.startsWith(name + '=')) {
            return decodeURIComponent(cookie.substring(name.length + 1));
        }
    }
    return '';
}

</script>


<script type="text/javascript">
let currentCampaignId = null;

function showSharePopup(campaignId) {
    currentCampaignId = campaignId;
    const popup = document.getElementById('sharePopup');
    popup.style.display = 'block';
    
    const campaignUrl = `${window.location.origin}/campaign/${campaignId}/`;
    document.getElementById('campaignUrl').value = campaignUrl;
    document.getElementById('sharePopupTitle').textContent = "Join thousands making a difference!";
    document.getElementById('sharePopupSubtitle').textContent = "Sharing takes just seconds but creates lasting impact.";
}

function hideSharePopup() {
    document.getElementById('sharePopup').style.display = 'none';
}

function shareOnFacebook() {
    const url = encodeURIComponent(document.getElementById('campaignUrl').value);
    const text = encodeURIComponent(`ðŸ”¥ Join me in supporting this life-changing campaign!\n\nOver 10,000 people have already contributed - let's make an even bigger impact together.\n\n${document.getElementById('campaignUrl').value}\n\n#ChangeMakers`);
    window.open(`https://www.facebook.com/sharer/sharer.php?quote=${text}&u=${url}`, '_blank');
}

function shareOnTwitter() {
    const url = document.getElementById('campaignUrl').value;
    const baseText = "ðŸš€ Just discovered this incredible movement that's changing lives! Join me in making a difference";
    
    // Calculate remaining characters (280 total - 23 for URL - 1 space - 24 for hashtags)
    const maxTextLength = 280 - 23 - 1 - 24;
    let tweetText = baseText;
    
    // Truncate if needed (very unlikely with this message)
    if (tweetText.length > maxTextLength) {
        tweetText = tweetText.substring(0, maxTextLength - 3) + "...";
    }
    
    // Compose final tweet with URL at the end and space before it
    const fullTweet = `${tweetText} ${url} #BeTheChange #MakeADifference`;
    
    window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(fullTweet)}`, '_blank');
}

function shareOnLinkedIn() {
    const url = encodeURIComponent(document.getElementById('campaignUrl').value);
    const text = encodeURIComponent(`Professional network alert: This is how we drive real change. Proud to support this initiative that's transforming our community.\n\n${document.getElementById('campaignUrl').value}\n\nYour support matters!`);
    window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}&summary=${text}`, '_blank');
}

function shareOnWhatsApp() {
    const url = document.getElementById('campaignUrl').value;
    const text = `Hey! I just found this amazing campaign that needs our support:\n\n${url}\n\nIt only takes 2 minutes to contribute, and together we can create something extraordinary!`;
    window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
}

function shareOnReddit() {
    const url = encodeURIComponent(document.getElementById('campaignUrl').value);
    const title = encodeURIComponent(`This campaign is changing lives - and your upvote could help it reach critical funding!\n\n${document.getElementById('campaignUrl').value}`);
    window.open(`https://www.reddit.com/submit?url=${url}&title=${title}`, '_blank');
}

function shareOnTelegram() {
    const url = document.getElementById('campaignUrl').value;
    const text = `URGENT: This campaign needs our attention! ðŸ’ª\n\nJoin me in supporting this worthy cause before time runs out:\n\n${url}`;
    window.open(`https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');
}

function shareOnPinterest() {
    const url = encodeURIComponent(document.getElementById('campaignUrl').value);
    const description = encodeURIComponent(`Pin this to save a life! This campaign is creating real change:\n\n${document.getElementById('campaignUrl').value}\n\nHelp spread the word and be part of something bigger.`);
    window.open(`https://pinterest.com/pin/create/button/?url=${url}&description=${description}`, '_blank');
}

function shareViaEmail() {
    const url = document.getElementById('campaignUrl').value;
    const subject = "Let's make a difference together - your support matters!";
    const body = `Hi there,\n\nI just discovered this incredible campaign that's close to my heart:\n\n${url}\n\nWith your help, we can make an even bigger impact. Even just sharing this message helps!\n\nThank you for being part of this important movement!\n\nBest regards,`;
    window.location.href = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
}

function copyCampaignUrl() {
    const urlInput = document.getElementById('campaignUrl');
    urlInput.select();
    document.execCommand('copy');
    
    const button = event.target.closest('button');
    const originalText = button.innerHTML;
    button.innerHTML = '<i class="fas fa-check"></i> Link copied - you rock!';
    button.style.background = '#2ecc71';
    setTimeout(() => {
        button.innerHTML = originalText;
        button.style.background = '#4a6bff';
    }, 2000);
    
    showToast("Clickable link copied! Paste it anywhere to share!");
}

function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'share-toast';
    toast.innerHTML = `${message} <span style="font-weight:bold">${document.getElementById('campaignUrl').value}</span>`;
    document.body.appendChild(toast);
    setTimeout(() => toast.remove(), 3500);
}

window.onclick = function(event) {
    if (event.target == document.getElementById('sharePopup')) {
        hideSharePopup();
    }
}
</script>



<script>
    function toggleObjectives(element) {
        // Find the sibling objectives-activities div
        var objectivesDiv = element.nextElementSibling;
        
        // Toggle the visibility of the objectives-activities div
        if (objectivesDiv.style.display === "none") {
            objectivesDiv.style.display = "block";
        } else {
            objectivesDiv.style.display = "none";
        }
    }
</script>






<script>
    function goBack() {
        window.history.back(); // Navigates to the previous page
    }
</script>
<script type="text/javascript">
  
function toggleContent(button) {
    const container = button.closest('.campaign-content-points');
    const fullContent = container.querySelector('.full-content');
    const previewContent = container.querySelector('ul:first-of-type');
    
    if (fullContent.style.display === 'none') {
        fullContent.style.display = 'block';
        button.textContent = 'See Less ';
        button.innerHTML += '<i class="fas fa-chevron-up"></i>';
    } else {
        fullContent.style.display = 'none';
        if (button.classList.contains('see-more-btn')) {
            button.textContent = 'See More ';
            button.innerHTML += '<i class="fas fa-chevron-down"></i>';
        }
    }
}


</script>

   <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>




<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
    // Only select posters from campaigns that actually have posters
    const posters = document.querySelectorAll('.campaign-image-container .main-campaign-image');
    const audios = document.querySelectorAll('.campaign-audio');
    let activeAudio = null;

    const isElementInViewport = (el) => {
        const rect = el.getBoundingClientRect();
        return rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
    };

    const playAudioForVisiblePoster = () => {
        posters.forEach((poster, index) => {
            const audio = audios[index];

            // Only proceed if both poster and audio exist
            if (poster && audio) {
                if (isElementInViewport(poster)) {
                    if (activeAudio && activeAudio !== audio) {
                        activeAudio.pause();
                    }

                    audio.muted = false;
                    audio.play().catch(err => {
                        console.log("Autoplay failed: ", err);
                    });
                    activeAudio = audio;
                } else {
                    audio.pause();
                }
            }
        });
    };

    // Initialize audio for campaigns with posters
    audios.forEach(audio => {
        if (audio) {
            audio.muted = true;
            audio.autoplay = true;
            audio.loop = true;
            audio.preload = 'auto';

            audio.play().then(() => {
                audio.muted = false;
            }).catch(err => {
                console.log("Autoplay failed: ", err);
            });
        }
    });

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const index = [...posters].indexOf(entry.target);
            const audio = audios[index];

            if (entry.isIntersecting && audio) {
                if (activeAudio && activeAudio !== audio) {
                    activeAudio.pause();
                }
                audio.muted = false;
                audio.play().catch(err => {
                    console.log("Autoplay failed: ", err);
                });
                activeAudio = audio;
            } else if (audio) {
                audio.pause();
            }
        });
    });

    posters.forEach(poster => {
        if (poster) {
            observer.observe(poster);
        }
    });
});
</script>



<script>
let currentIndex = 0; // Track the current slide index
const slides = document.querySelector('.slides');
const totalSlides = slides.children.length; // Get total number of slides
const slideWidth = 250; // Width of each slide (same as .carousel width)
let interval;

function startCarousel() {
    interval = setInterval(() => {
        currentIndex = (currentIndex + 1) % totalSlides; // Move to the next slide
        updateSlidePosition(); // Update the position of the slides
    }, 3000); // Change slide every 3 seconds
}

function pauseCarousel() {
    clearInterval(interval); // Stop the automatic sliding
}

function resumeCarousel() {
    startCarousel(); // Resume the automatic sliding
}

function updateSlidePosition() {
    slides.style.transform = `translateX(-${currentIndex * slideWidth}px)`; // Slide to the current index
    slides.style.transition = 'transform 0.5s ease-in-out'; // Add transition for smooth effect
}

startCarousel(); // Start the carousel on page load
</script>


<script type="text/javascript">


 
        // Function to handle file upload and playback
        function uploadAudio() {
            var input = document.createElement('input');
            input.type = 'file';
            input.accept = 'audio/*, video/*'; // Limit file selection to audio files

            // Listen for file selection
            input.onchange = function(e) {
                var file = e.target.files[0];
                var audio = document.getElementById('bgAudio');

                // Pause the current audio playback
                audio.pause();

                // Store the selected audio file and its playback position in local storage
                localStorage.setItem('bgAudioFile', URL.createObjectURL(file));
                localStorage.setItem('bgAudioPosition', audio.currentTime);

                // Set the audio source to the selected file
                audio.src = localStorage.getItem('bgAudioFile');

                // Resume audio playback
                audio.play();
            };

            // Trigger the file input
            input.click();
        }

        // Function to set background audio on page load
        window.onload = function() {
            var audio = document.getElementById('bgAudio');
            var bgAudioFile = localStorage.getItem('bgAudioFile');
            var audioPosition = parseFloat(localStorage.getItem('bgAudioPosition'));

            // Check if there's a stored audio file
            if (bgAudioFile) {
                // Set the audio source to the stored file
                audio.src = bgAudioFile;

                // Set the playback position if available
                if (!isNaN(audioPosition)) {
                    audio.currentTime = audioPosition;
                }

                // Autoplay the audio
                audio.play();
            }
        };

        // Store current playback position before page refresh
        window.addEventListener('beforeunload', function() {
            var audio = document.getElementById('bgAudio');
            localStorage.setItem('bgAudioPosition', audio.currentTime);
        });


        document.addEventListener('DOMContentLoaded', function() {
            const mysteryTexts = [
                "Unveil the secrets within...",
                "What lies beyond the horizon?",
                "Dive into the unknown...",
                "Mysteries await the curious..."
            ];

            const mysteryElement = document.querySelector('.mystery-text');

            function changeMysteryText() {
                const randomIndex = Math.floor(Math.random() * mysteryTexts.length);
                mysteryElement.textContent = mysteryTexts[randomIndex];
            }

            setInterval(changeMysteryText, 7000);
            changeMysteryText(); // Initial call to set the first mystery text
        });


    document.querySelector('.campaign-category').addEventListener('click', function() {
        const objectivesActivities = document.querySelector('.objectives-activities');
        if (objectivesActivities.style.display === 'none' || objectivesActivities.style.display === '') {
            objectivesActivities.style.display = 'block';
        } else {
            objectivesActivities.style.display = 'none';
        }
    });




        const slides = document.querySelector('.slides');
        const slideCount = document.querySelectorAll('.slide').length;
        const slideWidth = document.querySelector('.slide').clientWidth;
        let currentIndex = 0;

        setInterval(() => {
            currentIndex = (currentIndex + 1) % slideCount;
            slides.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
        }, 4000);





  $(document).ready(function() {
            // Example: Preventing navigation link from refreshing the page
            $('a.nav-link').click(function(event) {
                event.preventDefault(); // Prevent default action (e.g., page refresh)
                
                // Get the href attribute of the clicked link
                var href = $(this).attr('href');
                
                // Perform your custom logic here
                console.log('Navigation link clicked! Performing custom action...');
                
                // Optionally, load new content or update UI dynamically here
                // Example: Load content using AJAX or manipulate DOM elements
                
                // For demonstration, you can simulate navigation
                // window.location.href = href;
            });
        });

</script>

<script type="text/javascript">
function toggleLove(campaignId) {
    var loveIcon = document.getElementById('love-icon-' + campaignId);
    var loveCount = document.getElementById('love-count-' + campaignId);
    var loveCountMobile = document.getElementById('love-count-mobile-' + campaignId);
    var loveText = "";

    // Play sound when love is toggled
    var audio = new Audio('{% static "main/files/sound.mp3" %}');
    audio.play();

    // Send AJAX request to add or remove love
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '{% url "toggle_love" 0 %}'.replace('0', campaignId), true);
    xhr.setRequestHeader('X-CSRFToken', '{{ csrf_token }}');
    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

    xhr.onload = function () {
        if (xhr.status === 200) {
            // Update love count only if there's a response from the server
            var response = JSON.parse(xhr.responseText);
            var countText = response.love_count + " " + loveText;
            loveCount.textContent = countText;
            if (loveCountMobile) {
                loveCountMobile.textContent = countText;
            }

            // Toggle the loved class based on response
            if (response.love_count > 0) {
                loveIcon.classList.add('loved');
                createHearts(loveIcon); // Create heart explosion effect
            } else {
                loveIcon.classList.remove('loved');
            }
        }
    };
    xhr.send();
}

function createHearts(element) {
    // Get position of the clicked element
    const rect = element.getBoundingClientRect();
    const x = rect.left + rect.width / 2;
    const y = rect.top + rect.height / 2;
    
    // Create 15 hearts (you can adjust this number)
    for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        
        // Random size between 10px and 25px
        const size = Math.random() * 15 + 10;
        heart.style.width = `${size}px`;
        heart.style.height = `${size}px`;
        
        // Random initial position near the click
        heart.style.left = `${x + (Math.random() - 0.5) * 20}px`;
        heart.style.top = `${y + (Math.random() - 0.5) * 20}px`;
        
        // Random animation properties
        const duration = Math.random() * 3 + 2;
        const randomX = (Math.random() - 0.5) * 2;
        const randomY = Math.random() * 1.5 + 0.5;
        heart.style.setProperty('--random-x', randomX);
        heart.style.setProperty('--random-y', randomY);
        heart.style.animation = `float ${duration}s ease-in forwards`;
        
        // Random rotation
        heart.style.transform = `rotate(${Math.random() * 360}deg)`;
        
        document.body.appendChild(heart);
        
        // Remove heart after animation completes
        setTimeout(() => {
            heart.remove();
        }, duration * 1000);
    }
}
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "name": "RallyNex",
      "url": "https://www.rallynex.com",
      "logo": "https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "email": "rallynex1@gmail.com",
        "contactType": "Customer Service",
        "areaServed": "East Africa",
        "availableLanguage": "English"
      },
      "sameAs": [
        "https://www.facebook.com/RallyNex",
        "https://twitter.com/RallyNex",
        "https://www.instagram.com/RallyNex",
        "https://www.youtube.com/@rallynex"
      ],
      "description": "RallyNex is a crowdfunding platform that supports global causes, including health, education, environment, and social justice.",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "East Africa",
        "addressCountry": "Kenya"
      }
    },
    {
      "@type": "WebSite",
      "url": "https://www.rallynex.com",
      "name": "RallyNex Crowdfunding Platform",
      "description": "A crowdfunding platform where individuals and organizations can raise funds for meaningful causes worldwide.",
      "publisher": {
        "@type": "Organization",
        "name": "RallyNex"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.rallynex.com/search?q={search_term}",
        "query-input": "required name=search_term"
      }
    },
    {
      "@type": "Product",
      "name": "Crowdfunding Campaigns",
      "url": "https://www.rallynex.com",
      "description": "Support global causes and fundraisers through RallyNex, including health, education, environmental, and social campaigns.",
      "image": "https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png",
      "brand": {
        "@type": "Brand",
        "name": "RallyNex"
      },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "0",
        "eligibleRegion": {
          "@type": "Place",
          "name": "Global"
        },
        "url": "https://www.rallynex.com/"
      }
    },
    {
      "@type": "VideoObject",
      "name": "RallyNex - Crowdfunding Platform",
      "description": "Join RallyNex and support global crowdfunding campaigns. Discover how to create, share, and fund impactful projects.",
      "thumbnailUrl": "https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png",
      "uploadDate": "2024-03-01",
      "contentUrl": "https://www.youtube.com/@rallynex",
      "embedUrl": "https://www.youtube.com/embed/YOUR_VIDEO_ID",
      "publisher": {
        "@type": "Organization",
        "name": "RallyNex",
        "logo": {
          "@type": "ImageObject",
          "url": "https://rallynex.s3.eu-north-1.amazonaws.com/main/files/og-image.png"
        }
      }
    }
  ]
}
</script>


    <script>
        // Prevent default title tooltip from showing
        document.addEventListener('DOMContentLoaded', function() {
            const icons = document.querySelectorAll('.action-icon');
            
            icons.forEach(icon => {
                // Remove title attribute to prevent default tooltip
                icon.removeAttribute('title');
                
                // Add hover effect with slight 3D tilt
                icon.addEventListener('mousemove', function(e) {
                    const x = e.offsetX;
                    const y = e.offsetY;
                    
                    const rotateY = -1/5 * x + 20;
                    const rotateX = 1/5 * y - 20;
                    
                    this.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-8px) scale(1.05)`;
                });
                
                icon.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(-8px) scale(1.05)';
                });
            });
        });
    </script>







<script>
class SoundTribeManager {
    constructor() {
        this.currentCampaignId = null;
        this.isLoading = false;
    }

    // ==================== POPUP MANAGEMENT ====================
    async openPopup(campaignId) {
        this.currentCampaignId = campaignId;
        const popup = document.getElementById('soundCommunityPopup');
        const loader = document.getElementById('popupLoader');
        
        popup.classList.add('active');
        loader.style.display = 'flex';
        
        try {
            await this.loadTribeData();
        } catch (error) {
            console.error('Error loading tribe data:', error);
            this.showError('Failed to load community data');
        } finally {
            loader.style.display = 'none';
        }
    }

    closePopup() {
        const popup = document.getElementById('soundCommunityPopup');
        popup.classList.remove('active');
        this.currentCampaignId = null;
    }

    // ==================== DATA MANAGEMENT ====================
    async loadTribeData() {
        if (!this.currentCampaignId) return;

        try {
            const response = await fetch(`/campaign/${this.currentCampaignId}/sound-tribe-data/`);
            const data = await response.json();

            if (data.success) {
                this.updateUI(data);
            } else {
                throw new Error(data.error);
            }
        } catch (error) {
            console.error('Error fetching tribe data:', error);
            throw error;
        }
    }

    // ==================== UI UPDATES ====================
    updateUI(data) {
        this.updateMemberCount(data.member_count);
        this.updateBadgeCount(data.member_count);
        this.updateJoinButton(data.has_joined);
        this.updateRecentMembers(data.recent_members);
    }

    updateMemberCount(count) {
        const memberCountElement = document.getElementById('tribeMemberCount');
        if (memberCountElement) {
            memberCountElement.textContent = count;
        }
    }

    updateBadgeCount(count) {
        const badges = document.querySelectorAll('.sound-badge');
        badges.forEach(badge => {
            badge.textContent = count;
        });
    }

    updateJoinButton(hasJoined) {
        const joinBtn = document.getElementById('joinTribeBtn');
        if (!joinBtn) return;

        if (hasJoined) {
            joinBtn.innerHTML = '<i class="fas fa-check"></i> In the Tribe!';
            joinBtn.classList.add('joined');
            joinBtn.disabled = true;
        } else {
            joinBtn.innerHTML = '<i class="fas fa-music"></i> Join Soundmark Tribe';
            joinBtn.classList.remove('joined');
            joinBtn.disabled = false;
        }
    }

    updateRecentMembers(members) {
        const container = document.getElementById('recentMembersContainer');
        if (!container) return;
        
        if (!members || members.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-music"></i>
                    <span>Be the first to join the sound tribe!</span>
                </div>
            `;
            return;
        }

        const membersHTML = members.map(member => `
            <a href="${member.profile_url}" class="member-badge" title="@${member.username} - Joined at ${member.timestamp}">
                <img src="${member.profile_pic || '/static/default-avatar.png'}" 
                     alt="${member.username}" 
                     class="member-avatar"
                     onerror="this.src='/static/default-avatar.png'">
                <span class="member-username">${this.escapeHtml(member.username)}</span>
            </a>
        `).join('');

        container.innerHTML = membersHTML;
    }

    // ==================== TRIBE ACTIONS ====================
    async joinSoundTribe() {
        if (this.isLoading || !this.currentCampaignId) return;

        this.isLoading = true;
        const button = document.getElementById('joinTribeBtn');
        if (!button) return;

        const originalHTML = button.innerHTML;
        
        try {
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Joining...';
            button.disabled = true;

            const response = await fetch(`/campaign/${this.currentCampaignId}/join-sound-tribe/`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': this.getCSRFToken(),
                },
                body: JSON.stringify({})
            });

            const data = await response.json();

            if (data.success) {
                await this.loadTribeData();
                this.showNotification(data.message, 'success');
                this.animateBadge();
            } else {
                throw new Error(data.error);
            }
        } catch (error) {
            console.error('Error joining tribe:', error);
            this.showNotification(error.message, 'error');
            button.innerHTML = originalHTML;
            button.disabled = false;
        } finally {
            this.isLoading = false;
        }
    }

    // ==================== UTILITY METHODS ====================
    animateBadge() {
        const badges = document.querySelectorAll('.sound-badge');
        badges.forEach(badge => {
            badge.style.transform = 'scale(1.3)';
            setTimeout(() => {
                badge.style.transform = 'scale(1)';
            }, 300);
        });
    }

    getCSRFToken() {
        let csrfToken = document.querySelector('[name=csrfmiddlewaretoken]');
        return csrfToken ? csrfToken.value : '';
    }

    showNotification(message, type = 'info') {
        // Your notification implementation
        console.log(`${type}: ${message}`);
    }

    escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
}

// Initialize sound manager
const soundManager = new SoundTribeManager();
</script>



<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize all slideshows on the page
    document.querySelectorAll('.slideshow-container').forEach(initSlideshow);
    
    function initSlideshow(container) {
        const track = container.querySelector('.slideshow-track');
        const slides = container.querySelectorAll('.slide');
        const dots = container.querySelectorAll('.dot');
        const prevBtn = container.querySelector('.slideshow-prev');
        const nextBtn = container.querySelector('.slideshow-next');
        
        let currentSlide = 0;
        const totalSlides = slides.length;
        let slideInterval = null;
        let isPaused = false;
        
        if (totalSlides <= 1) {
            if (prevBtn) prevBtn.style.display = 'none';
            if (nextBtn) nextBtn.style.display = 'none';
            if (dots.length > 0) container.querySelector('.slideshow-dots').style.display = 'none';
            return;
        }
        
        // Function to update slideshow
        function updateSlideshow() {
            track.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }
        
        // Next slide
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateSlideshow();
        }
        
        // Previous slide
        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateSlideshow();
        }
        
        // Start auto-advance
        function startAutoAdvance() {
            if (!slideInterval) {
                slideInterval = setInterval(nextSlide, 5000);
            }
        }
        
        // Stop auto-advance
        function stopAutoAdvance() {
            if (slideInterval) {
                clearInterval(slideInterval);
                slideInterval = null;
            }
        }
        
        // Start initially
        startAutoAdvance();
        
        // Pause on hover
        container.addEventListener('mouseenter', () => {
            if (!isPaused) {
                stopAutoAdvance();
                isPaused = true;
            }
        });
        
        container.addEventListener('mouseleave', () => {
            if (isPaused) {
                startAutoAdvance();
                isPaused = false;
            }
        });
        
        // Button events
        if (prevBtn) {
            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                stopAutoAdvance();
                prevSlide();
                startAutoAdvance();
            });
        }
        
        if (nextBtn) {
            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                stopAutoAdvance();
                nextSlide();
                startAutoAdvance();
            });
        }
        
        // Dot click events
        dots.forEach(dot => {
            dot.addEventListener('click', (e) => {
                e.stopPropagation();
                stopAutoAdvance();
                currentSlide = parseInt(dot.getAttribute('data-index'));
                updateSlideshow();
                startAutoAdvance();
            });
        });
        
        // Touch swipe
        let touchStartX = 0;
        
        container.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            stopAutoAdvance();
        });
        
        container.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchStartX - touchEndX;
            const threshold = 50;
            
            if (Math.abs(diff) > threshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
            startAutoAdvance();
        });
        
        // Pause when page is hidden
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                stopAutoAdvance();
            } else {
                startAutoAdvance();
            }
        });
    }
});
</script>


<script>
document.addEventListener('DOMContentLoaded', function() {
    // Force images to reflow on mobile after load
    const images = document.querySelectorAll('.campaign-image-section img');
    
    images.forEach(img => {
        img.addEventListener('load', function() {
            // Trigger reflow on mobile
            if (window.innerWidth <= 768) {
                this.style.display = 'none';
                void this.offsetHeight; // Trigger reflow
                this.style.display = 'block';
            }
        });
    });
    
    // Handle window resize
    let resizeTimer;
    window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
            if (window.innerWidth <= 768) {
                const sections = document.querySelectorAll('.campaign-image-section');
                sections.forEach(section => {
                    section.style.height = 'auto';
                    void section.offsetHeight;
                });
            }
        }, 250);
    });
});
</script>



</body>
</html>





